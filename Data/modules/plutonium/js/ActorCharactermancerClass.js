const _0x4e6870=_0x49ee;(function(_0xd9b7b4,_0x4ed5ef){const _0x442479=_0x49ee,_0xe448=_0xd9b7b4();while(!![]){try{const _0x3baa6a=parseInt(_0x442479(0x152))/0x1*(-parseInt(_0x442479(0x148))/0x2)+-parseInt(_0x442479(0xd9))/0x3+-parseInt(_0x442479(0xeb))/0x4+parseInt(_0x442479(0xd2))/0x5+parseInt(_0x442479(0x18b))/0x6+-parseInt(_0x442479(0x1b4))/0x7*(parseInt(_0x442479(0xe2))/0x8)+-parseInt(_0x442479(0x141))/0x9*(-parseInt(_0x442479(0x136))/0xa);if(_0x3baa6a===_0x4ed5ef)break;else _0xe448['push'](_0xe448['shift']());}catch(_0x3adbf4){_0xe448['push'](_0xe448['shift']());}}}(_0x3b93,0xe5ab3));import{ActorCharactermancerBaseComponent}from'./ActorCharactermancerUtil.js';import{Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_HpInfo,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util}from'./UtilCharactermancerClass.js';import{Charactermancer_FeatureOptionsSelect,Charactermancer_OtherProficiencySelect,Charactermancer_Util}from'./UtilCharactermancer.js';import{DataConverterClass}from'./DataConverterClass.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{Config}from'./Config.js';import{DataConverter}from'./DataConverter.js';function _0x49ee(_0x427460,_0x1af5d9){const _0x3b9307=_0x3b93();return _0x49ee=function(_0x49eead,_0x1c45a9){_0x49eead=_0x49eead-0xc9;let _0x38bc6c=_0x3b9307[_0x49eead];return _0x38bc6c;},_0x49ee(_0x427460,_0x1af5d9);}import{SharedConsts}from'../shared/SharedConsts.js';import{LGT}from'./Util.js';import{UtilDataConverter}from'./UtilDataConverter.js';function _0x3b93(){const _0x5f0c8d=['class_','_compsClassStartingProficiencies','system','_$wrpsClassTable','_class_getLocks','toolProf','_parent','class_pulseChange','showVe','fnUpdateHidden','originalClass','20KHiKGW','unhook','Could\x20not\x20find\x20selected\x20subclass:\x20','casterProgression','getValues','ExistingFeatureChecker','$iptDisplay','<div\x20class=\x22py-1\x20pl-2\x20clickable\x20ve-muted\x22>[‒]</div>','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Select\x20Levels</div>','_proxyAssignSimple','\x20subclasses\x20were\x20available\x20for\x20class\x20','10524321zJSSSh','getAllFeatures','_class_getFilteredFeatures','items','<button\x20class=\x22btn\x20btn-xs\x20btn-5et\x20h-100\x20btr-0\x20bbr-0\x20pr-2\x22\x20title=\x22Filter\x20for\x20Class\x20and\x20Subclass\x22><span\x20class=\x22glyphicon\x20glyphicon-filter\x22></span>\x20Filter</button>','click','class','14ZCqQux','_pHkChangeClass','.class_','forEach','_subclass','modalTitle','render','traits','getSubclass_','name','67213NIeSEv','filter','_data','proficiency','tabClass','skills','getClass_','modalFilterSpells','type','Make\x20Primary','appendTo','compsClassStartingProficiencies','class_getMinMaxSpellLevel','find','spellLevelHigh','_compsClassHpIncreaseMode','Could\x20not\x20find\x20subclass\x20\x22','mergeMap','notifications','title','getFeaturesGroupedByOptionsSet','_state','_compsClassHpInfo','_class_renderClass_pDispSubclass','get','class_ixPrimaryClass','subclass','_class_pRenderFeatureComps','_unlock','isPrimary','subclasses','_getExistingClassCount','armorProf','_pLoad_pDoHandleExistingClassItems','level','_class_pRenderFeatureOptionsSelects_','[‒]','<hr\x20class=\x22hr-3\x20hr--heavy\x22>','This\x20is\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.','_existingClassMetas','\x22\x20(\x22','unregister','_compsClassLevelSelect','push','off','<hr\x20class=\x22hr-2\x20hr--heavy\x22>','keys','_pDoProxySetBase','length','import','getItemSource','modalFilterClasses','$getSelSearchable','class_ixMax','_class_renderClass_stgSelectSubclass','getMappedSkillProficiencies','EVNT_VALCHANGE','10238772crXCFn','_class_getExistingClassMeta','_modalFilterClasses','actor','getExistingClassItems','ActorCharactermancer.classes','_metaHksClassStgSkills','\x22\x20in\x20loaded\x20data.\x20','_compsClassFeatureOptionsSelect','getExistingClassTotalLevels_','stringify','toLowerCase','map','getImportableFeatures','\x22)\x20in\x20loaded\x20data.\x20','_getDefaultState','pPreloadHidden','state','copy','<button\x20class=\x22btn\x20btn-5et\x20btn-xs\x20mr-2\x22></button>','isHpAvailable','onchange','pLoad','flat','(Unknown)','Select\x20a\x20Subclass','<hr\x20class=\x22hr-1\x22>','findIndex','ixClass','getClassStub','STR_WARN_SOURCE_SELECTION','class_totalLevels','ability\x20score\x20improvement','_tabClass','isUnknownSubclass','getCasterProgressionMeta','ExistingClassMeta','MODE_PRIMARY','class_getTotalLevels','$getHoverContent_generic','findAndCopyStateFrom','1555638DWuJKt','_class_pGetMinMaxLevel','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points</div>','_metaHksClassStgStartingProficiencies','Could\x20not\x20find\x20class\x20\x22','pGetDereferencedClassData','isStrictMatching','_addHookBase','getMaxLearnedCantrips','_pHkChangeSubclass','class_getProps','_class_renderClass_stgHpMode','data','getExisting','hideVe','multiclassing','empty','_class_isClassSelectionDisabled','featureSourceTracker_','6342570KuoVlR','min','item','toDisplay','__state','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Skill\x20Proficiencies</div>','flags','3099396JOWQPR','pIsNoChoice','[+]','classFeatures','_class_renderClass_pStgLevelSelect','getSubclassStub','_class_renderEntriesSection','_class_pRenderFeatureOptionsSelects','getFilteredEntries_bySource','40dOHptm','trim','isUnknownClass','append','mode','$iptSearch','_class_isSubclassSelectionDisabled','_class_renderClass_pClassTable','max','7032792XejAle','_actor','Strict\x20source\x20matching\x20is:\x20','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x22>Add\x20Another\x20Class</button>','_pLock','_class_unregisterFeatureSourceTrackingFeatureComps','isPrimaryClass','_pLoad_getExistingClassIndex','_classLevels','then','_class_renderClass_stgSkills','_metaHksClassStgSubclass','reduce','compsClassFeatureOptionsSelect','MODULE_NAME_FAKE','pGetDereferencedSubclassData','_compsClassSkillProficiencies','getTargetLevel','getMaxCasterProgression','text','section','subclassFeatures','compsClassSkillProficiencies','source','spellSlotLevelSelection','MODULE_NAME','getRenderedClassTableFromDereferenced','Select\x20a\x20Class','_class_renderClass_stgHpInfo','ixSubclass','getExistingProficienciesFvttSavingThrows','At\x20least\x20one\x20argument\x20must\x20be\x20provided!','getFilteredFeatures','identifier','_versionBase_isVersion','levels','sourceJsonToAbv','setFeatures','<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Hit\x20Points\x20Increase\x20Mode</div>','filterBox','detach','pageFilter','toggleVe','exec','startsWith','startingProficiencies','_removeHookBase','entries','</div>','getCurLevel','_class_renderClass','class_getPrimaryClass','constructor','pGetFormData','warn','hover','<div\x20class=\x22bold\x22>Select\x20a\x20Class</div>','disabled','bl-0','proficienciesGained','addClass','details','pGetUserSelection','html'];_0x3b93=function(){return _0x5f0c8d;};return _0x3b93();}import{Charactermancer_Spell_Util}from'./UtilCharactermancerSpellSlotLevelSelect.js';class ActorCharactermancerClass extends ActorCharactermancerBaseComponent{constructor(_0x2df804){const _0x180845=_0x49ee;_0x2df804=_0x2df804||{},super(),this[_0x180845(0xec)]=_0x2df804[_0x180845(0x18e)],this[_0x180845(0x154)]=_0x2df804[_0x180845(0xcb)],this[_0x180845(0x131)]=_0x2df804['parent'],this[_0x180845(0x1ac)]=_0x2df804[_0x180845(0x156)],this[_0x180845(0x18d)]=new ModalFilterClassesFvtt({'namespace':_0x180845(0x190),'allData':this['_data'][_0x180845(0x147)]}),this['_metaHksClassStgSubclass']=[],this[_0x180845(0x12c)]=[],this[_0x180845(0x161)]=[],this[_0x180845(0x168)]=[],this['_compsClassLevelSelect']=[],this[_0x180845(0x193)]=[],this[_0x180845(0xfb)]=[],this[_0x180845(0x191)]=[],this[_0x180845(0x1b7)]=[],this[_0x180845(0x12e)]=[],this[_0x180845(0x179)]=[];}get[_0x4e6870(0x185)](){const _0x8063ba=_0x4e6870;return this[_0x8063ba(0x18d)];}get[_0x4e6870(0x15d)](){const _0x7f939b=_0x4e6870;return this[_0x7f939b(0x12c)];}get['compsClassHpIncreaseMode'](){return this['_compsClassHpIncreaseMode'];}get['compsClassLevelSelect'](){const _0x152fdf=_0x4e6870;return this[_0x152fdf(0x17c)];}get[_0x4e6870(0xf8)](){const _0x156f1d=_0x4e6870;return this[_0x156f1d(0x193)];}get[_0x4e6870(0x101)](){const _0xf796e2=_0x4e6870;return this[_0xf796e2(0xfb)];}get['existingClassMetas'](){const _0xea5eda=_0x4e6870;return this[_0xea5eda(0x179)];}async[_0x4e6870(0x1a1)](){const _0x3ff0fa=_0x4e6870;await this[_0x3ff0fa(0x18d)][_0x3ff0fa(0x19b)](),await this['_pLoad_pDoHandleExistingClassItems']();}async[_0x4e6870(0x173)](){const _0x321908=_0x4e6870,_0x6b5f61=this[_0x321908(0xec)][_0x321908(0x144)][_0x321908(0x153)](_0x1c4f7f=>_0x1c4f7f[_0x321908(0x15a)]===_0x321908(0x147)),_0x5d374e=this[_0x321908(0xec)][_0x321908(0x144)]['filter'](_0x4e1268=>_0x4e1268[_0x321908(0x15a)]===_0x321908(0x16c));this[_0x321908(0x179)]=_0x6b5f61[_0x321908(0x197)](_0x3d3aab=>{const _0x3fb923=_0x321908,_0x237770=this[_0x3fb923(0xf2)](_0x3d3aab),_0x145edb=_0x5d374e[_0x3fb923(0x15f)](_0x4e7b2b=>_0x4e7b2b[_0x3fb923(0x12d)]['classIdentifier']===_0x3d3aab[_0x3fb923(0x12d)][_0x3fb923(0x10c)]);let _0x4f458d=-0x1;if(~_0x237770){if(!_0x145edb)_0x4f458d=null;else{const _0x52a011=this[_0x3fb923(0x154)][_0x3fb923(0x147)][_0x237770];_0x4f458d=_0x52a011[_0x3fb923(0x170)][_0x3fb923(0x1a6)](_0x3c08d8=>(_0x145edb['name']||'')[_0x3fb923(0x196)]()['trim']()===_0x3c08d8[_0x3fb923(0x151)]['toLowerCase']()[_0x3fb923(0xe3)]()&&(!Config[_0x3fb923(0x16a)](_0x3fb923(0x183),'isStrictMatching')||(UtilDataConverter[_0x3fb923(0x184)](_0x145edb)[_0x3fb923(0x102)]||'')['toLowerCase']()===Parser[_0x3fb923(0x10f)](_0x3c08d8[_0x3fb923(0x102)])[_0x3fb923(0x196)]()));}}const _0x4fd171=this['_actor'][_0x3fb923(0x12d)]?.['details']?.[_0x3fb923(0x135)]?this[_0x3fb923(0xec)][_0x3fb923(0x12d)]?.[_0x3fb923(0x128)]?.['originalClass']===_0x3d3aab['id']:!!_0x3d3aab['flags']?.[SharedConsts[_0x3fb923(0xf9)]]?.[_0x3fb923(0xf1)],_0x412d6e=~_0x237770?null:_0x3fb923(0x1b8)+_0x3d3aab[_0x3fb923(0x151)]+_0x3fb923(0x17a)+_0x3d3aab[_0x3fb923(0x12d)][_0x3fb923(0x102)]+_0x3fb923(0x199)+Charactermancer_Util[_0x3fb923(0x1a9)];_0x412d6e&&(ui[_0x3fb923(0x164)][_0x3fb923(0x121)](_0x412d6e),console['warn'](...LGT,_0x412d6e,_0x3fb923(0xed)+Config[_0x3fb923(0x16a)]('import',_0x3fb923(0x1ba))+'.'));const _0x5e22f9=_0x4f458d==null||~_0x4f458d?null:_0x3fb923(0x162)+_0x145edb['name']+_0x3fb923(0x192)+Charactermancer_Util[_0x3fb923(0x1a9)];return _0x5e22f9&&(ui[_0x3fb923(0x164)][_0x3fb923(0x121)](_0x5e22f9),console['warn'](...LGT,_0x5e22f9,'Strict\x20source\x20matching\x20is:\x20'+Config[_0x3fb923(0x16a)](_0x3fb923(0x183),'isStrictMatching')+'.')),new ActorCharactermancerClass[(_0x3fb923(0x1af))]({'item':_0x3d3aab,'ixClass':_0x237770,'isUnknownClass':!~_0x237770,'ixSubclass':_0x4f458d,'isUnknownSubclass':_0x4f458d==null&&!~_0x4f458d,'level':Number(_0x3d3aab['system'][_0x3fb923(0x10e)]||0x0),'isPrimary':_0x4fd171,'spellSlotLevelSelection':_0x3d3aab?.[_0x3fb923(0xd8)]?.[SharedConsts[_0x3fb923(0x104)]]?.[_0x3fb923(0x103)]});});if(!this[_0x321908(0x179)][_0x321908(0x182)])return;this[_0x321908(0x167)][_0x321908(0x187)]=this[_0x321908(0x179)]['length']-0x1;for(let _0x11a70e=0x0;_0x11a70e<this[_0x321908(0x179)][_0x321908(0x182)];++_0x11a70e){const _0x3052fe=this[_0x321908(0x179)][_0x11a70e],{propIxClass:_0x4de4c9,propIxSubclass:_0x1a9066}=ActorCharactermancerBaseComponent[_0x321908(0xc9)](_0x11a70e);await this['_pDoProxySetBase'](_0x4de4c9,_0x3052fe['ixClass']),await this[_0x321908(0x181)](_0x1a9066,_0x3052fe['ixSubclass']);if(_0x3052fe[_0x321908(0x16f)])this[_0x321908(0x167)][_0x321908(0x16b)]=_0x11a70e;}if(!this[_0x321908(0x179)]['some'](_0x25fead=>_0x25fead[_0x321908(0x16f)]))this[_0x321908(0x167)][_0x321908(0x16b)]=0x0;}['_pLoad_getExistingClassIndex'](_0x12cb85){const _0x199fc4=_0x4e6870,_0x5a9b32=(_0x12cb85[_0x199fc4(0x151)]||'')[_0x199fc4(0x196)]()['trim']();let _0xedb74f=this[_0x199fc4(0x154)][_0x199fc4(0x147)][_0x199fc4(0x1a6)](_0x34ffa7=>{const _0x43e6e4=_0x199fc4;return _0x5a9b32===_0x34ffa7['name'][_0x43e6e4(0x196)]()[_0x43e6e4(0xe3)]()&&(!Config[_0x43e6e4(0x16a)](_0x43e6e4(0x183),'isStrictMatching')||(UtilDataConverter[_0x43e6e4(0x184)](_0x12cb85)[_0x43e6e4(0x102)]||'')['toLowerCase']()===Parser[_0x43e6e4(0x10f)](_0x34ffa7[_0x43e6e4(0x102)])['toLowerCase']());});if(~_0xedb74f)return _0xedb74f;const _0x563b55=/^(.*?)\(.*\)$/[_0x199fc4(0x116)](_0x5a9b32);if(!_0x563b55)return _0xedb74f;return this['_data'][_0x199fc4(0x147)][_0x199fc4(0x1a6)](_0x40667c=>{const _0x2b2b20=_0x199fc4;return _0x563b55[0x1][_0x2b2b20(0xe3)]()===_0x40667c['name'][_0x2b2b20(0x196)]()[_0x2b2b20(0xe3)]()&&(!Config['get'](_0x2b2b20(0x183),_0x2b2b20(0x1ba))||(UtilDataConverter['getItemSource'](_0x12cb85)[_0x2b2b20(0x102)]||'')[_0x2b2b20(0x196)]()===Parser[_0x2b2b20(0x10f)](_0x40667c['source'])[_0x2b2b20(0x196)]());});}[_0x4e6870(0x194)](){const _0x51ed99=_0x4e6870;return this[_0x51ed99(0x179)][_0x51ed99(0x153)](Boolean)[_0x51ed99(0x197)](_0x32fe4e=>_0x32fe4e[_0x51ed99(0x174)])['sum']();}[_0x4e6870(0x171)](){const _0x527db9=_0x4e6870;return this[_0x527db9(0x179)]['filter'](Boolean)[_0x527db9(0x182)];}[_0x4e6870(0x158)]({ix:_0x54b6e1,propIxClass:_0x2aba14}){const _0xf254a7=_0x4e6870;if(_0x54b6e1==null&&_0x2aba14==null)throw new Error('At\x20least\x20one\x20argument\x20must\x20be\x20provided!');if(_0x2aba14!=null){if(this[_0xf254a7(0x167)][_0x2aba14]==null)return null;if(!~this['_state'][_0x2aba14])return DataConverterClass[_0xf254a7(0x1a8)]();return this[_0xf254a7(0x154)]['class'][this[_0xf254a7(0x167)][_0x2aba14]];}if(_0x54b6e1!=null&&~_0x54b6e1)return this[_0xf254a7(0x154)][_0xf254a7(0x147)][_0x54b6e1];return DataConverterClass[_0xf254a7(0x1a8)]();}[_0x4e6870(0x150)]({cls:_0x179859,propIxSubclass:_0x17f46f,ix:_0x308bba}){const _0x3001e9=_0x4e6870;if(_0x308bba==null&&_0x17f46f==null)throw new Error(_0x3001e9(0x10a));if(!_0x179859)return null;if(_0x17f46f!=null){if(this['_state'][_0x17f46f]==null)return null;if(!~this['_state'][_0x17f46f])return DataConverterClass[_0x3001e9(0xde)]({'cls':_0x179859});if(!_0x179859[_0x3001e9(0x170)]?.[_0x3001e9(0x182)])return DataConverterClass[_0x3001e9(0xde)]({'cls':_0x179859});return _0x179859[_0x3001e9(0x170)][this[_0x3001e9(0x167)][_0x17f46f]];}if(_0x308bba!=null&&~_0x308bba)return _0x179859[_0x3001e9(0x170)][_0x308bba];return DataConverterClass['getSubclassStub']({'cls':_0x179859});}['_class_isClassSelectionDisabled']({ix:_0x400c28}){const _0x2b07d7=_0x4e6870;return!!this[_0x2b07d7(0x179)][_0x400c28];}['_class_isSubclassSelectionDisabled']({ix:_0x1ba5da}){const _0x4f63f3=_0x4e6870;return this[_0x4f63f3(0x179)][_0x1ba5da]&&(this['_existingClassMetas'][_0x1ba5da][_0x4f63f3(0x108)]!=null||this[_0x4f63f3(0x179)][_0x1ba5da]['isUnknownClass']);}[_0x4e6870(0x14e)](){const _0x3762b0=_0x4e6870,_0x293785=this[_0x3762b0(0x1ac)]?.['$wrpTab'];if(!_0x293785)return;const _0x569567=$$`<div class="ve-flex-col w-100 h-100 px-1 pt-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`,_0x15818e=$$`<div class="ve-flex-col w-100 h-100 px-1 overflow-y-auto ve-grow veapp__bg-foundry"></div>`;for(let _0x1949f8=0x0;_0x1949f8<this[_0x3762b0(0x167)][_0x3762b0(0x187)]+0x1;++_0x1949f8)this[_0x3762b0(0x11d)](_0x569567,_0x15818e,_0x1949f8);this[_0x3762b0(0x1bb)](_0x3762b0(0x16b),()=>this[_0x3762b0(0x167)]['class_pulseChange']=!this[_0x3762b0(0x167)]['class_pulseChange']);const _0x54a0d1=$(_0x3762b0(0xee))[_0x3762b0(0x146)](()=>{const _0x98ed82=_0x3762b0;this[_0x98ed82(0x11d)](_0x569567,_0x15818e,++this[_0x98ed82(0x167)][_0x98ed82(0x187)]);});$$`<div class="ve-flex w-100 h-100">
			<div class="ve-flex-col w-100">
				${_0x569567}
				<div class="mt-2">${_0x54a0d1}</div>
			</div>
			<div class="vr-1"></div>
			${_0x15818e}
		</div>`[_0x3762b0(0x15c)](_0x293785);}static[_0x4e6870(0x12f)](_0xdeed4f){const _0x1d9e02=_0x4e6870;return{'lockChangeClass':'class_'+_0xdeed4f+_0x1d9e02(0x149),'lockChangeSubclass':_0x1d9e02(0x12b)+_0xdeed4f+_0x1d9e02(0x1bd),'lockRenderFeatureOptionsSelects':_0x1d9e02(0x12b)+_0xdeed4f+'_renderFeatureOptionsSelects'};}[_0x4e6870(0x11d)](_0x42074b,_0x513205,_0x3b5ccb){const _0x13bf14=_0x4e6870,{propPrefixClass:_0x264b88,propIxClass:_0x20ba3c,propPrefixSubclass:_0x17a57e,propIxSubclass:_0xee8239,propCntAsi:_0x5d24fa,propCurLevel:_0x56edde,propTargetLevel:_0x5c00c0}=ActorCharactermancerBaseComponent['class_getProps'](_0x3b5ccb),_0x549cac=FilterBox[_0x13bf14(0x18a)]+'.class_'+_0x3b5ccb+_0x13bf14(0xf3),_0xd02994=FilterBox[_0x13bf14(0x18a)]+_0x13bf14(0x14a)+_0x3b5ccb+_0x13bf14(0x14c),{lockChangeClass:_0x53af1e,lockChangeSubclass:_0x51a9fa,lockRenderFeatureOptionsSelects:_0x3b9cf2}=this[_0x13bf14(0x11f)][_0x13bf14(0x12f)](_0x3b5ccb);this[_0x13bf14(0x1bb)](_0x20ba3c,()=>this[_0x13bf14(0x167)][_0x13bf14(0x132)]=!this[_0x13bf14(0x167)][_0x13bf14(0x132)]);const {$wrp:_0x2143b0,$iptDisplay:_0x43fd4d,$iptSearch:_0x3fb11d,fnUpdateHidden:_0x4f1104}=ComponentUiUtil['$getSelSearchable'](this,_0x20ba3c,{'values':this['_data'][_0x13bf14(0x147)][_0x13bf14(0x197)]((_0x35f579,_0x329951)=>_0x329951),'isAllowNull':!![],'fnDisplay':_0x1109aa=>{const _0x2dbc2e=_0x13bf14,_0x18723d=this[_0x2dbc2e(0x158)]({'ix':_0x1109aa});if(!_0x18723d)return console[_0x2dbc2e(0x121)](...LGT,'Could\x20not\x20find\x20class\x20with\x20index\x20'+_0x1109aa+'\x20('+this[_0x2dbc2e(0x154)][_0x2dbc2e(0x147)][_0x2dbc2e(0x182)]+'\x20classes\x20were\x20available)'),_0x2dbc2e(0x1a3);return _0x18723d[_0x2dbc2e(0x151)]+'\x20'+(_0x18723d[_0x2dbc2e(0x102)]!==SRC_PHB?'['+Parser[_0x2dbc2e(0x10f)](_0x18723d['source'])+']':'');},'fnGetAdditionalStyleClasses':_0x416019=>{const _0x1b7a5d=_0x13bf14;if(_0x416019==null)return null;const _0x1981bd=this[_0x1b7a5d(0x158)]({'ix':_0x416019});if(!_0x1981bd)return;return _0x1981bd[_0x1b7a5d(0x10d)]?['ve-muted']:null;},'asMeta':!![],'isDisabled':this[_0x13bf14(0xd0)]({'ix':_0x3b5ccb})});_0x43fd4d['addClass'](_0x13bf14(0x125)),_0x3fb11d[_0x13bf14(0x127)](_0x13bf14(0x125));const _0x17c528=()=>{const _0x57ab20=_0x13bf14,_0x1a32d2=this['_modalFilterClasses'][_0x57ab20(0x114)][_0x57ab20(0x112)][_0x57ab20(0x13a)](),_0x2c311d=this[_0x57ab20(0x154)]['class'][_0x57ab20(0x197)](_0x444851=>!this['_modalFilterClasses'][_0x57ab20(0x114)][_0x57ab20(0xd5)](_0x1a32d2,_0x444851));_0x4f1104(_0x2c311d,![]);},_0x2ccf81=()=>{const _0x4063d3=_0x13bf14,_0x47a895=this[_0x4063d3(0x158)]({'propIxClass':_0x20ba3c});if(!_0x47a895||!this[_0x4063d3(0xf6)][_0x3b5ccb])return;const _0x33eeb2=this[_0x4063d3(0x18d)]['pageFilter'][_0x4063d3(0x112)][_0x4063d3(0x13a)](),_0x38f556=_0x47a895[_0x4063d3(0x170)]['map'](_0x17db02=>!this[_0x4063d3(0x18d)][_0x4063d3(0x114)]['toDisplay'](_0x33eeb2,_0x17db02));this[_0x4063d3(0xf6)][_0x3b5ccb][_0x4063d3(0x134)](_0x38f556,![]);};this[_0x13bf14(0x18d)][_0x13bf14(0x114)][_0x13bf14(0x112)]['on'](FilterBox['EVNT_VALCHANGE'],()=>_0x17c528()),_0x17c528();const _0x7c8f8c=$(_0x13bf14(0x145))[_0x13bf14(0x146)](async()=>{const _0x270677=_0x13bf14,_0x4b2493=this['getClass_']({'propIxClass':_0x20ba3c}),_0x18af54=this[_0x270677(0x150)]({'cls':_0x4b2493,'propIxSubclass':_0xee8239}),_0x146b28=this[_0x270677(0xd0)]({'ix':_0x3b5ccb}),_0x2ebd8f=this[_0x270677(0xe8)]({'ix':_0x3b5ccb}),_0x337efc=await this[_0x270677(0x18d)][_0x270677(0x129)]({'selectedClass':_0x4b2493,'selectedSubclass':_0x18af54,'isClassDisabled':_0x146b28,'isSubclassDisabled':_0x2ebd8f});if(_0x146b28&&_0x2ebd8f)return;if(_0x337efc==null||!_0x337efc[_0x270677(0x147)])return;const _0x4a7db1=this[_0x270677(0x154)][_0x270677(0x147)]['findIndex'](_0x2a1bb8=>_0x2a1bb8['name']===_0x337efc[_0x270677(0x147)]['name']&&_0x2a1bb8['source']===_0x337efc['class'][_0x270677(0x102)]);if(!~_0x4a7db1)throw new Error('Could\x20not\x20find\x20selected\x20class:\x20'+JSON[_0x270677(0x195)](_0x337efc[_0x270677(0x147)]));this[_0x270677(0x167)][_0x20ba3c]=_0x4a7db1,await this['_pGate'](_0x53af1e);if(_0x337efc[_0x270677(0x16c)]!=null){const _0x5b2126=this[_0x270677(0x158)]({'propIxClass':_0x20ba3c}),_0x24dde0=_0x5b2126[_0x270677(0x170)][_0x270677(0x1a6)](_0x5220f1=>_0x5220f1['name']===_0x337efc[_0x270677(0x16c)][_0x270677(0x151)]&&_0x5220f1[_0x270677(0x102)]===_0x337efc[_0x270677(0x16c)]['source']);if(!~_0x24dde0)throw new Error(_0x270677(0x138)+JSON['stringify'](_0x337efc[_0x270677(0x16c)]));this['_state'][_0xee8239]=_0x24dde0;}else this['_state'][_0xee8239]=null;}),_0x11d194=async _0x52e9b1=>{const _0x28f812=_0x13bf14;this[_0x28f812(0x18d)]['pageFilter']['filterBox'][_0x28f812(0x17e)](_0xd02994);if(_0x52e9b1){const _0x8fe413=Object[_0x28f812(0x180)](this[_0x28f812(0xd6)])['filter'](_0x41b6a9=>_0x41b6a9[_0x28f812(0x117)](_0x264b88)&&_0x41b6a9!==_0x20ba3c)[_0x28f812(0x163)](_0x51ee31=>({[_0x51ee31]:null}));this[_0x28f812(0x13f)]('state',_0x8fe413);}const _0x3be86c=this[_0x28f812(0x158)]({'propIxClass':_0x20ba3c}),_0x3eae6f=this[_0x28f812(0x150)]({'cls':_0x3be86c,'propIxSubclass':_0xee8239});this[_0x28f812(0x188)]({'$stgSelectSubclass':_0x59d869,'cls':_0x3be86c,'ix':_0x3b5ccb,'propIxSubclass':_0xee8239,'idFilterBoxChangeSubclass':_0xd02994,'doApplyFilterToSelSubclass':_0x2ccf81}),this[_0x28f812(0xca)]({'$stgHpMode':_0x44661b,'ix':_0x3b5ccb,'cls':_0x3be86c}),this['_class_renderClass_stgHpInfo']({'$stgHpInfo':_0x57b39f,'ix':_0x3b5ccb,'cls':_0x3be86c}),this['_class_renderClass_stgStartingProficiencies']({'$stgStartingProficiencies':_0x54afab,'ix':_0x3b5ccb,'cls':_0x3be86c}),await this[_0x28f812(0xdd)]({'$stgLevelSelect':_0x1289bf,'$stgFeatureOptions':_0x46a3dd,'ix':_0x3b5ccb,'cls':_0x3be86c,'sc':_0x3eae6f,'propIxSubclass':_0xee8239,'propCurLevel':_0x56edde,'propTargetLevel':_0x5c00c0,'propCntAsi':_0x5d24fa,'lockRenderFeatureOptionsSelects':_0x3b9cf2,'idFilterBoxChangeClassLevels':_0x549cac}),this['_state'][_0x28f812(0x1aa)]=this[_0x28f812(0x1b1)](),this[_0x28f812(0xf5)]({'$stgSkills':_0x4dbfa2,'ix':_0x3b5ccb,'propIxClass':_0x20ba3c}),await this['_class_renderClass_pDispClass']({'ix':_0x3b5ccb,'$dispClass':_0x2022d1,'cls':_0x3be86c,'sc':_0x3eae6f}),_0x3ee479['empty']();},_0x5d29a7=async _0xee9f09=>{const _0x29fbc3=_0x13bf14;try{await this[_0x29fbc3(0xef)](_0x53af1e),await _0x11d194(_0xee9f09);}finally{this[_0x29fbc3(0x16e)](_0x53af1e);}};this['_addHookBase'](_0x20ba3c,_0x5d29a7);const _0xfefb18=async()=>{const _0x9df552=_0x13bf14;this[_0x9df552(0x18d)][_0x9df552(0x114)][_0x9df552(0x112)][_0x9df552(0x17e)](_0xd02994);const _0x20a377=Object[_0x9df552(0x180)](this[_0x9df552(0xd6)])['filter'](_0x2d14bf=>_0x2d14bf['startsWith'](_0x17a57e)&&_0x2d14bf!==_0xee8239)[_0x9df552(0x163)](_0x12a9dc=>({[_0x12a9dc]:null}));this[_0x9df552(0x13f)](_0x9df552(0x19c),_0x20a377);const _0x452868=this[_0x9df552(0x158)]({'propIxClass':_0x20ba3c}),_0x4511d1=this[_0x9df552(0x150)]({'cls':_0x452868,'propIxSubclass':_0xee8239}),_0x8dd378=this[_0x9df552(0x143)](_0x452868,_0x4511d1);if(this['_compsClassLevelSelect'][_0x3b5ccb])this[_0x9df552(0x17c)][_0x3b5ccb][_0x9df552(0x110)](_0x8dd378);await this['_class_pRenderFeatureOptionsSelects']({'ix':_0x3b5ccb,'propCntAsi':_0x5d24fa,'filteredFeatures':_0x8dd378,'$stgFeatureOptions':_0x46a3dd,'lockRenderFeatureOptionsSelects':_0x3b9cf2}),this[_0x9df552(0x18d)][_0x9df552(0x114)][_0x9df552(0x112)]['on'](_0xd02994,()=>_0x2ccf81()),_0x2ccf81(),await this['_class_renderClass_pDispSubclass']({'ix':_0x3b5ccb,'$dispSubclass':_0x3ee479,'cls':_0x452868,'sc':_0x4511d1});},_0x47d3c3=async()=>{const _0x594547=_0x13bf14;try{await this[_0x594547(0xef)](_0x51a9fa),await _0xfefb18();}finally{this['_unlock'](_0x51a9fa);}};this[_0x13bf14(0x1bb)](_0xee8239,_0x47d3c3);const _0x241081=$(_0x13bf14(0x123)),_0x59d869=$$`<div class="ve-flex-col w-100"></div>`[_0x13bf14(0xcd)](),_0x44661b=$$`<div class="ve-flex-col"></div>`['hideVe'](),_0x57b39f=$$`<div class="ve-flex-col"></div>`[_0x13bf14(0xcd)](),_0x54afab=$$`<div class="ve-flex-col"></div>`[_0x13bf14(0xcd)](),_0x1289bf=$$`<div class="ve-flex-col"></div>`[_0x13bf14(0xcd)](),_0x46a3dd=$$`<div class="ve-flex-col"></div>`['hideVe'](),_0x4dbfa2=$$`<div class="ve-flex-col"></div>`[_0x13bf14(0xcd)]();let _0x23a04c=null;if(!this['_existingClassMetas'][_0x13bf14(0x182)]){_0x23a04c=$(_0x13bf14(0x19e))[_0x13bf14(0x146)](()=>this[_0x13bf14(0x167)][_0x13bf14(0x16b)]=_0x3b5ccb);const _0x10a488=()=>{const _0x2a323d=_0x13bf14;_0x23a04c[_0x2a323d(0xfe)](this[_0x2a323d(0x167)][_0x2a323d(0x16b)]===_0x3b5ccb?'Primary\x20Class':_0x2a323d(0x15b))[_0x2a323d(0x165)](this['_state'][_0x2a323d(0x16b)]===_0x3b5ccb?_0x2a323d(0x178):'Make\x20this\x20your\x20primary\x20class,\x20i.e.\x20the\x20one\x20you\x20chose\x20at\x20level\x201\x20for\x20the\x20purposes\x20of\x20proficiencies/etc.')['prop'](_0x2a323d(0x124),this[_0x2a323d(0x167)][_0x2a323d(0x16b)]===_0x3b5ccb);};this[_0x13bf14(0x1bb)](_0x13bf14(0x16b),_0x10a488),_0x10a488();}const _0x5b9243=$('<div\x20class=\x22py-1\x20clickable\x20ve-muted\x22>[‒]</div>')[_0x13bf14(0x146)](()=>{const _0x3e0dc8=_0x13bf14,_0x31f737=_0x5b9243['text']()===_0x3e0dc8(0xdb);_0x5b9243[_0x3e0dc8(0xfe)](_0x31f737?_0x3e0dc8(0x176):_0x3e0dc8(0xdb));if(_0x31f737)_0x241081[_0x3e0dc8(0xfe)](_0x3e0dc8(0x106));else{const _0x53d38f=this[_0x3e0dc8(0x158)]({'propIxClass':_0x20ba3c}),_0x2ae01f=this[_0x3e0dc8(0x150)]({'cls':_0x53d38f,'propIxSubclass':_0xee8239});if(_0x53d38f)_0x241081[_0x3e0dc8(0xfe)](''+_0x53d38f[_0x3e0dc8(0x151)]+(_0x2ae01f?'\x20('+_0x2ae01f[_0x3e0dc8(0x151)]+')':''));else _0x241081[_0x3e0dc8(0xfe)](_0x3e0dc8(0x106));}_0x46ea34[_0x3e0dc8(0x115)]();}),_0x2022d1=$$`<div class="ve-flex-col w-100"></div>`,_0x3ee479=$$`<div class="ve-flex-col w-100"></div>`,_0x46ea34=$$`<div class="ve-flex-col w-100 mt-2">
			<div class="ve-flex btn-group w-100">
				<div class="ve-flex no-shrink">
					${_0x7c8f8c}
				</div>
				<div class="ve-flex-col w-100">
					${_0x2143b0}
					${_0x59d869}
				</div>
			</div>
			${_0x44661b}
			${_0x57b39f}
			${_0x54afab}
			${_0x4dbfa2}
			${_0x1289bf}
			${_0x46a3dd}
		</div>`,_0x12ed33=$$`<div class="ve-flex-col">
			${_0x3b5ccb>0x0?_0x13bf14(0x177):''}

			<div class="split-v-center">
				${_0x241081}
				<div class="ve-flex-v-center">
					${_0x23a04c}
					${_0x5b9243}
				</div>
			</div>

			${_0x46ea34}
		</div>`[_0x13bf14(0x15c)](_0x42074b),_0x3cb661=$$`<div>
			${_0x3b5ccb>0x0?_0x13bf14(0x17f):''}

			${_0x2022d1}
			${_0x3ee479}
		</div>`[_0x13bf14(0x15c)](_0x513205);_0x5d29a7()[_0x13bf14(0xf4)](()=>_0x47d3c3());}[_0x4e6870(0x188)]({$stgSelectSubclass:_0x3f82e6,cls:_0x3e07ae,ix:_0x1e06a6,propIxSubclass:_0x31adbc,idFilterBoxChangeSubclass:_0x12e2f3,doApplyFilterToSelSubclass:_0x53d835}){const _0x5d8107=_0x4e6870;_0x3f82e6[_0x5d8107(0xcf)]();if(this[_0x5d8107(0xf6)][_0x1e06a6])this['_metaHksClassStgSubclass'][_0x1e06a6][_0x5d8107(0x137)]();if(_0x3e07ae&&_0x3e07ae[_0x5d8107(0x170)]&&_0x3e07ae[_0x5d8107(0x170)]['length']){const _0x346f43=ComponentUiUtil[_0x5d8107(0x186)](this,_0x31adbc,{'values':_0x3e07ae[_0x5d8107(0x170)][_0x5d8107(0x197)]((_0x5d6787,_0x14c6ec)=>_0x14c6ec),'isAllowNull':!![],'fnDisplay':_0x3d4200=>{const _0xb47c14=_0x5d8107,_0x230729=this[_0xb47c14(0x150)]({'cls':_0x3e07ae,'ix':_0x3d4200});if(!_0x230729)return console['warn'](...LGT,'Could\x20not\x20find\x20subclass\x20with\x20index\x20'+_0x3d4200+'\x20('+_0x3e07ae['subclasses'][_0xb47c14(0x182)]+_0xb47c14(0x140)+_0x3e07ae[_0xb47c14(0x151)]+')'),'(Unknown)';return _0x230729['name']+'\x20'+(_0x230729[_0xb47c14(0x102)]!==SRC_PHB?'['+Parser[_0xb47c14(0x10f)](_0x230729[_0xb47c14(0x102)])+']':'');},'fnGetAdditionalStyleClasses':_0x28b2a8=>{const _0x16c30c=_0x5d8107;if(_0x28b2a8==null)return null;const _0x19f11b=this[_0x16c30c(0x150)]({'cls':_0x3e07ae,'ix':_0x28b2a8});if(!_0x19f11b)return;return _0x19f11b['_versionBase_isVersion']?['ve-muted']:null;},'asMeta':!![],'isDisabled':this[_0x5d8107(0xe8)]({'ix':_0x1e06a6}),'displayNullAs':_0x5d8107(0x1a4)});_0x346f43[_0x5d8107(0x13c)]['addClass']('bl-0'),_0x346f43[_0x5d8107(0xe7)]['addClass'](_0x5d8107(0x125)),this['_metaHksClassStgSubclass'][_0x1e06a6]=_0x346f43,this['_modalFilterClasses'][_0x5d8107(0x114)][_0x5d8107(0x112)]['on'](_0x12e2f3,()=>_0x53d835()),_0x53d835();const _0x3af430=$$`<div class="ve-flex-col w-100 mt-1">
				${_0x346f43['$wrp']}
			</div>`;_0x3f82e6[_0x5d8107(0x133)]()['append'](_0x3af430);}else _0x3f82e6['hideVe'](),this[_0x5d8107(0xf6)][_0x1e06a6]=null;}[_0x4e6870(0xca)]({$stgHpMode:_0x1e134d,ix:_0x5e2de6,cls:_0x26bc9e}){const _0x597f9a=_0x4e6870;_0x1e134d[_0x597f9a(0xcf)](),_0x26bc9e&&Charactermancer_Class_HpIncreaseModeSelect[_0x597f9a(0x19f)](_0x26bc9e)?(_0x1e134d[_0x597f9a(0x133)]()['append'](_0x597f9a(0x111)),this[_0x597f9a(0x161)][_0x5e2de6]=new Charactermancer_Class_HpIncreaseModeSelect(),this[_0x597f9a(0x161)][_0x5e2de6][_0x597f9a(0x14e)](_0x1e134d)):(_0x1e134d[_0x597f9a(0xcd)](),this[_0x597f9a(0x161)][_0x5e2de6]=null);}[_0x4e6870(0x107)]({$stgHpInfo:_0x40453d,ix:_0x582688,cls:_0x20749d}){const _0x36b876=_0x4e6870;_0x40453d[_0x36b876(0xcf)](),_0x20749d&&Charactermancer_Class_HpIncreaseModeSelect[_0x36b876(0x19f)](_0x20749d)?(_0x40453d[_0x36b876(0x133)]()['append'](_0x36b876(0x1b6)),this[_0x36b876(0x168)][_0x582688]=new Charactermancer_Class_HpInfo({'className':_0x20749d['name'],'hitDice':_0x20749d['hd']}),this[_0x36b876(0x168)][_0x582688][_0x36b876(0x14e)](_0x40453d)):(_0x40453d[_0x36b876(0xcd)](),this[_0x36b876(0x168)][_0x582688]=null);}['_class_renderClass_stgStartingProficiencies']({$stgStartingProficiencies:_0x3db1d0,ix:_0x455866,cls:_0x9a3a22}){const _0x319a16=_0x4e6870,_0x3a9ede=this['_class_getExistingClassMeta'](_0x455866);if(_0x3a9ede)return;if(this[_0x319a16(0x1b7)][_0x455866])this[_0x319a16(0x1b7)][_0x455866][_0x319a16(0x137)]();_0x3db1d0[_0x319a16(0xcf)](),this[_0x319a16(0x131)][_0x319a16(0xd1)]['unregister'](this[_0x319a16(0x12c)][_0x455866]);_0x9a3a22&&(_0x9a3a22[_0x319a16(0x118)]||_0x9a3a22['multiclassing']?.['proficienciesGained'])?(_0x3db1d0[_0x319a16(0x133)]()['append']('<hr\x20class=\x22hr-2\x22><div\x20class=\x22bold\x20mb-2\x22>Proficiencies</div>'),this['_compsClassStartingProficiencies'][_0x455866]=Charactermancer_Class_StartingProficiencies[_0x319a16(0x16a)]({'featureSourceTracker':this[_0x319a16(0x131)][_0x319a16(0xd1)],'primaryProficiencies':_0x9a3a22['startingProficiencies'],'multiclassProficiencies':_0x9a3a22[_0x319a16(0xce)]?.[_0x319a16(0x126)],'savingThrowsProficiencies':_0x9a3a22[_0x319a16(0x155)],'existingProficienciesFvttArmor':MiscUtil['get'](this[_0x319a16(0xec)],'system',_0x319a16(0x14f),_0x319a16(0x172)),'existingProficienciesFvttWeapons':MiscUtil[_0x319a16(0x16a)](this['_actor'],'system',_0x319a16(0x14f),'weaponProf'),'existingProficienciesFvttTools':MiscUtil['get'](this[_0x319a16(0xec)],_0x319a16(0x12d),_0x319a16(0x14f),_0x319a16(0x130)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies[_0x319a16(0x109)](this[_0x319a16(0xec)])}),this[_0x319a16(0x12c)][_0x455866][_0x319a16(0x14e)](_0x3db1d0)):(_0x3db1d0['hideVe'](),this[_0x319a16(0x12c)][_0x455866]=null);const _0x8c7656=()=>{const _0xd81e03=_0x319a16;if(this[_0xd81e03(0x12c)][_0x455866])this['_compsClassStartingProficiencies'][_0x455866][_0xd81e03(0xe6)]=this[_0xd81e03(0x167)]['class_ixPrimaryClass']===_0x455866?Charactermancer_Class_ProficiencyImportModeSelect[_0xd81e03(0x1b0)]:Charactermancer_Class_ProficiencyImportModeSelect['MODE_MULTICLASS'];};this['_addHookBase'](_0x319a16(0x16b),_0x8c7656),this['_metaHksClassStgStartingProficiencies'][_0x455866]={'unhook':()=>this['_removeHookBase'](_0x319a16(0x16b),_0x8c7656)},_0x8c7656();}[_0x4e6870(0x18c)](_0x3d411c){const _0x330d1e=_0x4e6870;if(this[_0x330d1e(0x179)][_0x3d411c])return this[_0x330d1e(0x179)][_0x3d411c];const {propIxClass:_0x4a6927}=ActorCharactermancerBaseComponent[_0x330d1e(0xc9)](_0x3d411c),_0x7f5240=this[_0x330d1e(0x158)]({'propIxClass':_0x4a6927}),_0xd428e4=Charactermancer_Class_Util[_0x330d1e(0x18f)](this['_actor'],_0x7f5240),_0x5a30e3=_0xd428e4[_0x330d1e(0x182)]?_0xd428e4[0x0]:null;if(!_0x5a30e3)return null;return{'item':_0x5a30e3,'level':Number(_0x5a30e3[_0x330d1e(0x12d)][_0x330d1e(0x10e)]||0x0)};}async[_0x4e6870(0xdd)]({$stgLevelSelect:_0xb86af5,$stgFeatureOptions:_0x3bdc89,ix:_0x342c3f,cls:_0x49a167,sc:_0x4e3941,propIxSubclass:_0x449f4a,propCurLevel:_0x4b9f45,propTargetLevel:_0x15dd38,propCntAsi:_0x45222c,lockRenderFeatureOptionsSelects:_0x415f57,idFilterBoxChangeClassLevels:_0x4f0e6b}){const _0x1c8c8d=_0x4e6870;_0xb86af5[_0x1c8c8d(0xcf)]();if(_0x49a167){_0xb86af5[_0x1c8c8d(0x133)]()[_0x1c8c8d(0xe5)](_0x1c8c8d(0x13e));const _0x58fb6e=this[_0x1c8c8d(0x143)](_0x49a167,_0x4e3941),_0x4ed0ab=this[_0x1c8c8d(0x18c)](_0x342c3f);this[_0x1c8c8d(0x17c)][_0x342c3f]=new Charactermancer_Class_LevelSelect({'features':_0x58fb6e,'isRadio':!![],'isForceSelect':this[_0x1c8c8d(0x194)]()===0x0||!_0x4ed0ab,'maxPreviousLevel':_0x4ed0ab?.['level'],'isSubclass':!![]}),this['_compsClassLevelSelect'][_0x342c3f][_0x1c8c8d(0x14e)](_0xb86af5);const _0x48190b=async()=>{const _0x2d462f=_0x1c8c8d,_0x6aa030=this[_0x2d462f(0x150)]({'cls':_0x49a167,'propIxSubclass':_0x449f4a}),_0x39e2af=this['_class_getFilteredFeatures'](_0x49a167,_0x6aa030);await this[_0x2d462f(0xe0)]({'ix':_0x342c3f,'propCntAsi':_0x45222c,'filteredFeatures':_0x39e2af,'$stgFeatureOptions':_0x3bdc89,'lockRenderFeatureOptionsSelects':_0x415f57}),this['_state'][_0x4b9f45]=this[_0x2d462f(0x17c)][_0x342c3f][_0x2d462f(0x11c)](),this[_0x2d462f(0x167)][_0x15dd38]=this['_compsClassLevelSelect'][_0x342c3f]['getTargetLevel'](),this[_0x2d462f(0x167)]['class_totalLevels']=this['class_getTotalLevels']();};this['_compsClassLevelSelect'][_0x342c3f][_0x1c8c8d(0x1a0)](_0x48190b),await _0x48190b(),this[_0x1c8c8d(0x18d)]['pageFilter']['filterBox']['on'](_0x4f0e6b,()=>{const _0x12a761=_0x1c8c8d;if(!this['_compsClassLevelSelect'][_0x342c3f])return;const _0x52ccb2=this[_0x12a761(0x150)]({'cls':_0x49a167,'propIxSubclass':_0x449f4a}),_0x2a05e8=this[_0x12a761(0x143)](_0x49a167,_0x52ccb2);if(this[_0x12a761(0x17c)][_0x342c3f])this[_0x12a761(0x17c)][_0x342c3f][_0x12a761(0x110)](_0x2a05e8);this[_0x12a761(0xe0)]({'ix':_0x342c3f,'propCntAsi':_0x45222c,'filteredFeatures':_0x2a05e8,'$stgFeatureOptions':_0x3bdc89,'lockRenderFeatureOptionsSelects':_0x415f57});});}else _0xb86af5[_0x1c8c8d(0xcd)](),this[_0x1c8c8d(0x17c)][_0x342c3f]=null,_0x3bdc89[_0x1c8c8d(0xcf)]()[_0x1c8c8d(0xcd)](),this['_class_unregisterFeatureSourceTrackingFeatureComps'](_0x342c3f),this[_0x1c8c8d(0x167)][_0x45222c]=null,this[_0x1c8c8d(0x18d)][_0x1c8c8d(0x114)]['filterBox'][_0x1c8c8d(0x17e)](_0x4f0e6b);}[_0x4e6870(0xf5)]({$stgSkills:_0x261f6b,ix:_0x44db64,propIxClass:_0x351f75}){const _0x25a0b8=_0x4e6870,_0x26fc80=this[_0x25a0b8(0x18c)](_0x44db64);if(_0x26fc80)return;if(this[_0x25a0b8(0x191)][_0x44db64])this[_0x25a0b8(0x191)][_0x44db64][_0x25a0b8(0x137)]();const _0x4da6d6=()=>{const _0x53df95=_0x25a0b8;_0x261f6b[_0x53df95(0xcf)]();const _0x2515df=this[_0x53df95(0x158)]({'propIxClass':_0x351f75}),_0x34bdeb=this['_state']['class_ixPrimaryClass']===_0x44db64;this[_0x53df95(0x131)][_0x53df95(0xd1)][_0x53df95(0x17b)](this['_compsClassSkillProficiencies'][_0x44db64]);if(_0x2515df&&(_0x34bdeb&&_0x2515df['startingProficiencies']?.[_0x53df95(0x157)]||!_0x34bdeb&&_0x2515df['multiclassing']?.[_0x53df95(0x126)]?.['skills'])){_0x261f6b[_0x53df95(0x133)]()[_0x53df95(0xe5)](_0x53df95(0xd7));const _0x37ab87=_0x34bdeb?_0x2515df['startingProficiencies']['skills']:_0x2515df[_0x53df95(0xce)]['proficienciesGained']['skills'],_0x3b8cd7={'skillProficiencies':MiscUtil[_0x53df95(0x16a)](this['_actor'],'system',_0x53df95(0x157))};this['_compsClassSkillProficiencies'][_0x44db64]=new Charactermancer_OtherProficiencySelect({'featureSourceTracker':this[_0x53df95(0x131)]['featureSourceTracker_'],'existing':Charactermancer_OtherProficiencySelect[_0x53df95(0xcc)](_0x3b8cd7),'existingFvtt':_0x3b8cd7,'available':Charactermancer_OtherProficiencySelect[_0x53df95(0x189)](_0x37ab87)}),this[_0x53df95(0xfb)][_0x44db64]['render'](_0x261f6b);}else _0x261f6b[_0x53df95(0xcd)](),this[_0x53df95(0xfb)][_0x44db64]=null;};this[_0x25a0b8(0x1bb)](_0x25a0b8(0x16b),_0x4da6d6),this[_0x25a0b8(0x191)][_0x44db64]={'unhook':()=>this[_0x25a0b8(0x119)](_0x25a0b8(0x16b),_0x4da6d6)},_0x4da6d6();}async['_class_renderClass_pDispClass']({ix:_0x4669d3,$dispClass:_0x1931b5,cls:_0x30862e,sc:_0x22f33e}){const _0x181109=_0x4e6870;if(this[_0x181109(0x12e)][_0x4669d3])this[_0x181109(0x12e)][_0x4669d3][_0x181109(0x113)]();else this[_0x181109(0x12e)][_0x4669d3]=$('<div\x20class=\x22ve-flex-col\x20w-100\x22></div>');_0x1931b5[_0x181109(0xcf)]();if(_0x30862e){const _0x859117=await DataUtil['class'][_0x181109(0x1b9)](_0x30862e);let _0x152999=MiscUtil['copy'](_0x859117[_0x181109(0xdc)]||[])[_0x181109(0x1a2)]();_0x152999=Charactermancer_Class_Util[_0x181109(0xe1)](_0x152999,this[_0x181109(0x18d)][_0x181109(0x114)],this[_0x181109(0x18d)][_0x181109(0x114)]['filterBox'][_0x181109(0x13a)]());const _0x1ce36d={'type':_0x181109(0xff),'entries':_0x152999};this[_0x181109(0xdf)](_0x1931b5,_0x30862e[_0x181109(0x151)],_0x1ce36d,{'$wrpTable':this[_0x181109(0x12e)][_0x4669d3]}),await this[_0x181109(0xe9)]({'ix':_0x4669d3,'cls':_0x30862e,'sc':_0x22f33e});}}async[_0x4e6870(0x169)]({ix:_0x2293b1,$dispSubclass:_0x4617bc,cls:_0x1db24a,sc:_0x490ed4}){const _0x5256b8=_0x4e6870;_0x4617bc['empty']();if(_0x490ed4){_0x4617bc[_0x5256b8(0xe5)](_0x5256b8(0x1a5));const _0x505371=await DataUtil[_0x5256b8(0x147)]['pGetDereferencedSubclassData'](_0x490ed4);let _0x2bc2cd=MiscUtil[_0x5256b8(0x19d)](_0x505371['subclassFeatures'])[_0x5256b8(0x1a2)]();_0x2bc2cd=Charactermancer_Class_Util[_0x5256b8(0xe1)](_0x2bc2cd,this[_0x5256b8(0x18d)]['pageFilter'],this['_modalFilterClasses'][_0x5256b8(0x114)][_0x5256b8(0x112)][_0x5256b8(0x13a)]());const _0x15b403={'type':_0x5256b8(0xff),'entries':_0x2bc2cd};if(_0x15b403[_0x5256b8(0x11a)][0x0]&&_0x15b403[_0x5256b8(0x11a)][0x0][_0x5256b8(0x151)])delete _0x15b403[_0x5256b8(0x11a)][0x0][_0x5256b8(0x151)];this['_class_renderEntriesSection'](_0x4617bc,_0x490ed4[_0x5256b8(0x151)],_0x15b403);}await this[_0x5256b8(0xe9)]({'ix':_0x2293b1,'cls':_0x1db24a,'sc':_0x490ed4});}async[_0x4e6870(0xe9)]({ix:_0x22e883,cls:_0x3f63d2,sc:_0xd3b961}){const _0x51b7c2=_0x4e6870,_0x25b4f0=_0x3f63d2?await DataUtil[_0x51b7c2(0x147)][_0x51b7c2(0x1b9)](_0x3f63d2):null,_0x52b756=_0xd3b961?await DataUtil[_0x51b7c2(0x147)][_0x51b7c2(0xfa)](_0xd3b961):null,_0x1ea166=_0x25b4f0?.[_0x51b7c2(0xdc)]||_0x52b756?.['subclassFeatures']?this['_modalFilterClasses'][_0x51b7c2(0x114)][_0x51b7c2(0x112)]['getValues']():null;_0x25b4f0?.[_0x51b7c2(0xdc)]&&(_0x25b4f0[_0x51b7c2(0xdc)]=_0x25b4f0[_0x51b7c2(0xdc)]['map'](_0x3a1942=>{const _0x37a888=_0x51b7c2;return _0x3a1942=MiscUtil[_0x37a888(0x19d)](_0x3a1942),_0x3a1942=Charactermancer_Class_Util[_0x37a888(0xe1)](_0x3a1942,this[_0x37a888(0x18d)][_0x37a888(0x114)],_0x1ea166),_0x3a1942;}));_0x52b756?.['subclassFeatures']&&(_0x52b756[_0x51b7c2(0x100)]=_0x52b756[_0x51b7c2(0x100)][_0x51b7c2(0x197)](_0x2f827b=>{const _0x444db3=_0x51b7c2;return _0x2f827b=MiscUtil['copy'](_0x2f827b),_0x2f827b=Charactermancer_Class_Util['getFilteredEntries_bySource'](_0x2f827b,this['_modalFilterClasses'][_0x444db3(0x114)],_0x1ea166),_0x2f827b;}));const _0xecca77=DataConverterClass[_0x51b7c2(0x105)](_0x25b4f0,_0x52b756);this[_0x51b7c2(0x12e)][_0x22e883][_0x51b7c2(0x12a)]('')['fastSetHtml'](_0xecca77);}[_0x4e6870(0x143)](_0x391b6c,_0x57d8c0){const _0x1e09c6=_0x4e6870;if(!_0x391b6c)return[];return _0x391b6c=MiscUtil[_0x1e09c6(0x19d)](_0x391b6c),_0x391b6c['subclasses']=[_0x57d8c0][_0x1e09c6(0x153)](Boolean),Charactermancer_Util[_0x1e09c6(0x10b)](Charactermancer_Class_Util[_0x1e09c6(0x142)](_0x391b6c),this[_0x1e09c6(0x18d)][_0x1e09c6(0x114)],this['_modalFilterClasses'][_0x1e09c6(0x114)][_0x1e09c6(0x112)][_0x1e09c6(0x13a)]());}async[_0x4e6870(0xe0)](_0xd8309c){const _0x364759=_0x4e6870,{lockRenderFeatureOptionsSelects:_0x3c0ea4}=_0xd8309c;try{return await this[_0x364759(0xef)](_0x3c0ea4),this[_0x364759(0x175)](_0xd8309c);}finally{this[_0x364759(0x16e)](_0x3c0ea4);}}async[_0x4e6870(0x175)]({ix:_0x47a995,propCntAsi:_0x89627a,filteredFeatures:_0x4c5602,$stgFeatureOptions:_0x3e503a}){const _0x544014=_0x4e6870,_0x497fa3=this[_0x544014(0x193)][_0x47a995]||[];_0x497fa3[_0x544014(0x14b)](_0x981ace=>this[_0x544014(0x131)][_0x544014(0xd1)]['unregister'](_0x981ace)),_0x3e503a[_0x544014(0xcf)]();const _0x517931=this['_existingClassMetas'][_0x47a995]?new Charactermancer_Class_Util[(_0x544014(0x13b))](this[_0x544014(0xec)]):null,_0x49a9cb=Charactermancer_Util[_0x544014(0x198)](_0x4c5602),_0x4c80d9=MiscUtil['copy'](_0x49a9cb);Charactermancer_Util['doApplyFilterToFeatureEntries_bySource'](_0x4c80d9,this[_0x544014(0x18d)][_0x544014(0x114)],this[_0x544014(0x18d)]['pageFilter']['filterBox'][_0x544014(0x13a)]());const _0x45a42a=Charactermancer_Util[_0x544014(0x166)](_0x4c80d9),{lvlMin:_0x565810,lvlMax:_0x2ba554}=await this[_0x544014(0x1b5)](_0x47a995);this[_0x544014(0xf0)](_0x47a995);let _0x3f0e60=0x0;for(const _0xcf4393 of _0x45a42a){const {topLevelFeature:_0x321d47,optionsSets:_0x28525f}=_0xcf4393;if(_0x321d47[_0x544014(0x174)]<_0x565810||_0x321d47['level']>_0x2ba554)continue;const _0x166e23=_0x321d47[_0x544014(0x151)]['toLowerCase']();if(_0x166e23===_0x544014(0x1ab)){_0x3f0e60++;continue;}for(const _0x2efa80 of _0x28525f){const _0x46f496=new Charactermancer_FeatureOptionsSelect({'featureSourceTracker':this[_0x544014(0x131)][_0x544014(0xd1)],'existingFeatureChecker':_0x517931,'actor':this['_actor'],'optionsSet':_0x2efa80,'level':_0x321d47['level'],'modalFilterSpells':this[_0x544014(0x131)]['compSpell'][_0x544014(0x159)]});this[_0x544014(0x193)][_0x47a995][_0x544014(0x17d)](_0x46f496),_0x46f496[_0x544014(0x1b3)](_0x497fa3);}}this[_0x544014(0x167)][_0x89627a]=_0x3f0e60,await this['_class_pRenderFeatureComps'](_0x47a995,{'$stgFeatureOptions':_0x3e503a});}[_0x4e6870(0xf0)](_0x561aad){const _0x431a16=_0x4e6870;(this['_compsClassFeatureOptionsSelect'][_0x561aad]||[])[_0x431a16(0x14b)](_0x471531=>_0x471531['unregisterFeatureSourceTracking']()),this[_0x431a16(0x193)][_0x561aad]=[];}async['_class_pGetMinMaxLevel'](_0x13c70b){const _0x2c1c96=_0x4e6870;let _0x169ad9=0x0,_0x3f1331=0x0;if(this[_0x2c1c96(0x17c)][_0x13c70b]){const _0x4d34a2=await this[_0x2c1c96(0x17c)][_0x13c70b][_0x2c1c96(0x120)]()[_0x2c1c96(0xcb)];_0x169ad9=Math[_0x2c1c96(0xd3)](..._0x4d34a2)+0x1,_0x3f1331=Math[_0x2c1c96(0xea)](..._0x4d34a2)+0x1;}return{'lvlMin':_0x169ad9,'lvlMax':_0x3f1331};}async[_0x4e6870(0x16d)](_0x3217c4,{$stgFeatureOptions:_0x2aab2b}){const _0x34b385=_0x4e6870;for(const _0x1886a3 of this[_0x34b385(0x193)][_0x3217c4]){if(await _0x1886a3[_0x34b385(0xda)]()&&!await _0x1886a3['pIsAvailable']())continue;(!await _0x1886a3[_0x34b385(0xda)]()||await _0x1886a3['pIsForceDisplay']())&&_0x2aab2b['showVe']()[_0x34b385(0xe5)](''+(_0x1886a3[_0x34b385(0x14d)]?'<hr\x20class=\x22hr-2\x22><div\x20class=\x22mb-2\x20bold\x20w-100\x22>'+_0x1886a3[_0x34b385(0x14d)]+_0x34b385(0x11b):'')),_0x1886a3['render'](_0x2aab2b);}}['_class_renderEntriesSection'](_0x4fc71d,_0x237059,_0x5ad9c3,{$wrpTable:$wrpTable=null}={}){const _0x2af681=_0x4e6870,_0x1b1d2e=$(_0x2af681(0x13d))[_0x2af681(0x146)](()=>{const _0xd54401=_0x2af681;_0x1b1d2e[_0xd54401(0xfe)](_0x1b1d2e[_0xd54401(0xfe)]()==='[+]'?_0xd54401(0x176):_0xd54401(0xdb));if($wrpTable)$wrpTable[_0xd54401(0x115)]();_0x932d17[_0xd54401(0x115)]();}),_0x932d17=Renderer[_0x2af681(0x122)][_0x2af681(0x1b2)](_0x5ad9c3);$$`<div class="ve-flex-col">
			<div class="split-v-center">
				<div class="rd__h rd__h--0"><div class="entry-title-inner">${(_0x237059||'')['qq']()}</div></div>
				${_0x1b1d2e}
			</div>
			${$wrpTable}
			${_0x932d17}
		</div>`[_0x2af681(0x15c)](_0x4fc71d);}[_0x4e6870(0x11e)](){const _0x3eacd6=_0x4e6870;if(!~this[_0x3eacd6(0x167)][_0x3eacd6(0x16b)])return null;const {propIxClass:_0x131a4b}=ActorCharactermancerBaseComponent[_0x3eacd6(0xc9)](this[_0x3eacd6(0x167)][_0x3eacd6(0x16b)]);return this[_0x3eacd6(0x154)][_0x3eacd6(0x147)][this[_0x3eacd6(0x167)][_0x131a4b]];}[_0x4e6870(0x1b1)](){const _0x5dbda9=_0x4e6870;return this[_0x5dbda9(0x17c)][_0x5dbda9(0x153)](Boolean)[_0x5dbda9(0x197)](_0x496707=>_0x496707[_0x5dbda9(0xfc)]()||_0x496707['getCurLevel']())[_0x5dbda9(0xf7)]((_0x588d53,_0x41f5d3)=>_0x588d53+_0x41f5d3,0x0);}[_0x4e6870(0x15e)](){const _0x9b6f4=_0x4e6870,_0x1e92b0=[],_0x45841d=[];let _0x1aec0c=![];for(let _0x22f5bb=0x0;_0x22f5bb<this[_0x9b6f4(0x167)][_0x9b6f4(0x187)]+0x1;++_0x22f5bb){const {propIxClass:_0x3f3322,propIxSubclass:_0x246647,propCurLevel:_0x1f7e01,propTargetLevel:_0x190590}=ActorCharactermancerBaseComponent['class_getProps'](_0x22f5bb),_0x15fb4f=this[_0x9b6f4(0x158)]({'propIxClass':_0x3f3322});if(!_0x15fb4f)continue;const _0xf0868d=this[_0x9b6f4(0x150)]({'cls':_0x15fb4f,'propIxSubclass':_0x246647}),_0xaad0cb=this['_state'][_0x1f7e01],_0x5b4993=this['_state'][_0x190590],_0x1dc075=DataConverter[_0x9b6f4(0xfd)](_0x15fb4f[_0x9b6f4(0x139)],_0xf0868d?.['casterProgression']),_0x28d5fe=Charactermancer_Spell_Util[_0x9b6f4(0x1ae)]({'casterProgression':_0x1dc075,'curLevel':_0xaad0cb,'targetLevel':_0x5b4993,'isBreakpointsOnly':!![]})?.['spellLevelLow'];if(_0x28d5fe!=null)_0x1e92b0[_0x9b6f4(0x17d)](_0x28d5fe);const _0x40abdc=Charactermancer_Spell_Util[_0x9b6f4(0x1ae)]({'casterProgression':_0x1dc075,'curLevel':_0xaad0cb,'targetLevel':_0x5b4993,'isBreakpointsOnly':!![]})?.[_0x9b6f4(0x160)];if(_0x40abdc!=null)_0x45841d[_0x9b6f4(0x17d)](_0x40abdc);_0x1aec0c=_0x1aec0c||Charactermancer_Spell_Util[_0x9b6f4(0x1bc)]({'cls':_0x15fb4f,'sc':_0xf0868d,'targetLevel':_0x5b4993})!=null;}return{'min':_0x1e92b0[_0x9b6f4(0x182)]?Math[_0x9b6f4(0xd3)](..._0x1e92b0):null,'max':_0x45841d[_0x9b6f4(0x182)]?Math[_0x9b6f4(0xea)](..._0x45841d):null,'isAnyCantrips':_0x1aec0c};}[_0x4e6870(0x19a)](){return{'class_ixPrimaryClass':0x0,'class_ixMax':0x0,'class_totalLevels':0x0,'class_pulseChange':![]};}}ActorCharactermancerClass[_0x4e6870(0x1af)]=class{constructor({item:_0x2c00dc,ixClass:_0x2890a8,isUnknownClass:_0x3f9b09,ixSubclass:_0x5ab742,isUnknownSubclass:_0x7cdc3d,level:_0x5655cf,isPrimary:_0x10fc9e,spellSlotLevelSelection:_0x53143c}){const _0x15eaa9=_0x4e6870;this[_0x15eaa9(0xd4)]=_0x2c00dc,this[_0x15eaa9(0x1a7)]=_0x2890a8,this[_0x15eaa9(0xe4)]=_0x3f9b09,this['ixSubclass']=_0x5ab742,this[_0x15eaa9(0x1ad)]=_0x7cdc3d,this[_0x15eaa9(0x174)]=_0x5655cf,this[_0x15eaa9(0x16f)]=_0x10fc9e,this['spellSlotLevelSelection']=_0x53143c;if(isNaN(this[_0x15eaa9(0x174)]))this[_0x15eaa9(0x174)]=0x0;}};export{ActorCharactermancerClass};