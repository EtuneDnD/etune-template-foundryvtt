const _0xe2c180=_0x3729;(function(_0x43cca1,_0x4eb80a){const _0x2a8267=_0x3729,_0x346c7c=_0x43cca1();while(!![]){try{const _0x38425f=-parseInt(_0x2a8267(0x170))/0x1*(-parseInt(_0x2a8267(0x34d))/0x2)+-parseInt(_0x2a8267(0x359))/0x3+parseInt(_0x2a8267(0x38a))/0x4*(-parseInt(_0x2a8267(0x1b3))/0x5)+-parseInt(_0x2a8267(0x191))/0x6+-parseInt(_0x2a8267(0x375))/0x7*(-parseInt(_0x2a8267(0x17c))/0x8)+parseInt(_0x2a8267(0x240))/0x9+-parseInt(_0x2a8267(0x2aa))/0xa*(-parseInt(_0x2a8267(0x310))/0xb);if(_0x38425f===_0x4eb80a)break;else _0x346c7c['push'](_0x346c7c['shift']());}catch(_0x4660b5){_0x346c7c['push'](_0x346c7c['shift']());}}}(_0x3294,0x22e76));import{Vetools}from'./Vetools.js';import{LGT,Util}from'./Util.js';import{DataConverter}from'./DataConverter.js';import{DataConverterSpell}from'./DataConverterSpell.js';import{DataConverterClass}from'./DataConverterClass.js';import{DataConverterClassSubclassFeature}from'./DataConverterClassSubclassFeature.js';import{UtilActors}from'./UtilActors.js';import{UtilApplications}from'./UtilApplications.js';import{SharedConsts}from'../shared/SharedConsts.js';import{Config}from'./Config.js';import{UtilList2}from'./UtilList2.js';import{ImportListFeat}from'./ImportListFeat.js';import{ImportListCharacter}from'./ImportListCharacter.js';import{Charactermancer_Class_HpIncreaseModeSelect,Charactermancer_Class_LevelSelect,Charactermancer_Class_ProficiencyImportModeSelect,Charactermancer_Class_StartingProficiencies,Charactermancer_Class_Util,PageFilterClassesFoundry}from'./UtilCharactermancerClass.js';import{Charactermancer_StartingEquipment}from'./UtilCharactermancerEquipment.js';import{Charactermancer_AdditionalSpellsSelect}from'./UtilCharactermancerAdditionalSpells.js';import{UtilDataSource}from'./UtilDataSource.js';import{Charactermancer_Util}from'./UtilCharactermancer.js';import{UtilGameSettings}from'./UtilGameSettings.js';function _0x3294(){const _0x16e889=['/template/ImportListClass.hbs','getIndexPathToParent','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x20no-wrap\x22\x20title=\x22Level\x20up\x20this\x20class\x22><i\x20class=\x22fas\x20fa-fw\x20fa-arrow-alt-circle-up\x22></i>\x20Level\x20','<p>Do\x20you\x20want\x20to\x20populate\x20the\x20spellbook\x20for\x20this\x20class\x20(for\x20class\x20level','chosenProficiencies','subclass','formDataEquipment','MODULE_NAME','Failed\x20to\x20import\x20\x22','_titleSearch','SheetAdapterActorSheet5eCharacter','close','getFilteredFeatures','actorUpdate','ixItemSubclass','pGetDefaultFilterValues','$getIptNumber','curLevel','pGetSources','classSource','flags','push','_dataBuilderOpts','_pImportListItems','filterValues','imported','isInvalidatedByConfigChange','feats-classAbilityScoreIncrease','_pGetSources','_$wrpBtnsSort','_pImportClass_pGetProficiencyImportMode','getCasterProgression','ImportListClass_SheetLevelUpButtonAdapter_savedSelection','isAddUnarmedStrike','Class','getClassSubclassItemTuples','getRollData','_pageFilter','SheetAdapter','3658HweWeK','conInitial','has','getFeat','firstElementChild','isCharacter','C_IMPORT_CLASS_HP_INCREASE_MODE__DO_NOT_INCREASE','description','pApplyFormDataToActor','_gameProp','_INDEX_PATH','pLinkTempUuids','603216QBhThx','UserChoose','_getLevelledEmbeddedDocuments','<button\x20class=\x22btn\x20btn-default\x20mr-3\x22>Skip</button>','Bonus','getBlocklistFilteredData','<p><i>','_pImportEntry_pDoUpdateCharacter_psionics_psiPoints','Select\x20Existing\x20Items\x20to\x20Import\x20','length','pGetAllSpells','level','_pHandleRenderSheet','\x22\x20(\x22','(Unnamed\x20Class)','_pImportCasterCantrips','_source','getExistingSubclassItems','CASTER_TYPE_TO_PROGRESSION','dex','sourceJsonToAbv','raw_class','SOURCE_TYP_CUSTOM','Import\x20Class\x20and\x20Subclass','spell','spellcastingAbility','getOrSet','folder','1170827OpOtGq','<button\x20class=\x22btn\x20btn-primary\x20btn-5et\x22>Confirm</button>','getBaseAbilityScores','_pImportEntry_pDoUpdateExistingDirectoryEntity','\x20via\x20Class\x20Importer','toLowerCase','_actor','_handleFilterChange','</h3>','_pImportSubclass_pImportToItems','details','subclassFeatures','additionalSpells','classList','filter','MODULE_LOCATION','total','getAllFeatures','render','setOverride','ability','337908vpsYHz','classItemUpdate','number','.imp-cls__btn-sheet-level-up','ticker','flat','getActorSpellPointsSlotsEffectData','subclassItemToCreate','isCharactermancer','C_SPELL_POINTS_RESOURCE__SHEET_ITEM','registerSupportedSheet','Spell\x20Points','getActorSpell','URL_TO_HASH_BUILDER','chaBonus','_getDefaultState','hasSourceJson','find','_cachedData','pImportEquipmentItemEntries','item','TASK_EXIT_COMPLETE','_pCacheClassData','system','PG_CLASSES','importPsionic','_pImportEntry_pAddAdvancements','btn-pulse','_pImportEntry_pDoUpdateCharacter','_pImportEntry_getApproxPreviousMaxLevel','_content','contains','html','getAbilityModifier','forEach','trimObject','<button\x20class=\x22btn\x20btn-5et\x20btn-sm\x20no-wrap\x22><i\x20class=\x22fas\x20fa-fw\x20fa-plus-circle\x22></i>\x20Add\x20New\x20Class\x20(Multiclass)</button>','getBaseHp','levels','classAbilityScoreIncrease','rollOnArray','./ChooseImporter.js','_foundryIsIgnoreFeature','constructor','classSourceLong','init','_pGetUserClassSubclassItem','(Unnamed\x20class)','_getDedupedData','languages','TASK_EXIT_SKIPPED_DUPLICATE','ml-2\x20ve-self-flex-center\x20b-0','subclassFeature','veapp__msg-error','prepend','_configGroup','copy','subRows','\x20Errors\x20were:\x20','.level-information','type','ImportEntryOpts','<div\x20class=\x22col-2\x20text-center\x22></div>','MODE_MULTICLASS','raw_subclass','_pPostLoad_pGetAllOptionalFeatures','_pImportPreparedCasterSpells','_pImportEntry_pFillItemArrayAdditionalSpells','_getExistingClassItems','_$btnReset','_pImportEntry_pDoUpdateCharacter_pPopulateLevelOneProficienciesAndEquipment','conBonus','pGetUserSelection','\x22\x20by\x20name','pPreloadHidden','_pDoResolve','<button\x20class=\x22btn\x20btn-default\x22>Cancel</button>','Configure\x20and\x20Open\x20List','Choose\x20Subclass?','weaponProf','trimState','handleFilterChange','_removeExistingButton','_foundryIsSkipImportPreparedSpells','__state','existing','isNonstandardSource','_initCreateSheetItemHook','Unhandled\x20Hit\x20Points\x20increase\x20mode\x20\x22','$row','isExcluded','doShowImportedNotification','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Feat</button>','sourceSubclass','applyFormDataToActorUpdate','97LwbVzL','\x20SOURCE\x20','pact','conditionImmune','_pImportEntry_pGetUserExistingClassSubclassItem','currency','isOverwrite','_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom','cancelled','pPostLoad','pAddAdvancementLinks','pAddActorEffects','8KNoDQP','Subclass','Task','minimumRole','none','con','appendTo','split','Component','subclasses','<button\x20class=\x22btn\x20btn-default\x20w-50\x20btn-5et\x22>Ability\x20Score\x20Improvement</button>','_getDuplicateMeta','Custom\x20URL','\x22\x20(','_renderInner_initFeelingLuckyButton','ele','css','wisBonus','pRunTasks','_pImportEntry_pFillItemArrayFeatures','Please\x20select\x20a\x20feat!','1641678KgNfuI','getImporter','entity','getTotalClassLevels','<input\x20type=\x22text\x22\x20class=\x22text-center\x22\x20placeholder=\x220\x22>','_pGetSelectedLevelIndices','keys','isLevelUp','class','hpIncreaseMode','folderId','initBtnSortHandlers','<button\x20class=\x22btn\x20btn-5et\x20btn-xxs\x20ml-1\x20imp-cls__btn-sheet-level-up\x20ve-flex-vh-center\x22\x20type=\x22button\x22><i\x20class=\x22fas\x20fa-fw\x20fa-arrow-alt-circle-up\x20mx-auto\x20pl-1p\x22></i></button>','_pGetFilterValues','getClassFromExistingClassItem','_pUserInput','AbilityScoreIncrease','skillProficiencies','getImportedEmbed','_AE_LABEL_BASE_AC','settings','spellSlotLevelSelection','pGetCreateActorPsiPointsItem','You\x20can\x27t\x20increase\x20an\x20ability\x20score\x20above\x2020\x20using\x20this\x20feature.','pHandleButtonClick','hpIncreaseCustomRollFormula','_pValidateUserLevelIndices','_pGetProficiencyMeta','remove','assign','_P_LOADING_CLASS_DATA','Item','_pImportEntry_pHandleFeatures','getMysticProgression','15brHYDf','<div></div>','_$getBtn','activateSidebarTab','user','isAddLevelUpButton','loadeds','getCasterCantripProgressionMeta','addToFilters','classFeatures','_pGetAvailableClassSubclassFromName','isDataEntered','bind','pImportEntry','_foundryHpIncreaseMode','cls','$getSelEnum','conFinal','Importing\x20subclass\x20\x22','sortName','ImportListClass_SheetLevelUpButtonAdapter_filter','TASK_EXIT_COMPLETE_UPDATE_OVERWRITE','subclassItem','proficiency','_foundryHpIncreaseCustomFormula','mode','sourceJsonToStylePart','$getHoverContent_stats','SYM_UI_SKIP','addEventListener','Importing\x20class\x20\x22','pSetContent','source','getCasterProgressionMeta','pGetUserInput','filterBox','Level\x20up\x20complete!','create','addButton','_pImportEntry_pDoUpdateCharacter_profBonus','_pImportEntry_pDoUpdateExistingPackEntity','startingEquipment','int','</button>','includes','_$bntFilter','sourceJsonToColor','_renderInner_initRunButton','evaluate','getSafe','_foundryConFinal','classFeature','_isDataEntered','isTemp','classItem','_pImportEntry_pFillItemArrayPredefinedFeatures','Unknown\x20proficiency\x20import\x20mode\x20\x22','Class\x20item\x20\x22','5etools','LevelledEmbeddedDocument_MinLevel1','_reject','embeddedDocument','$iptBonus','Failed\x20to\x20evaluate\x20HP\x20increase\x20formula\x20\x22','last','fnBindListeners','spacer','map','disabled','Classes\x20&\x20Subclasses','hashSubclass','_getBlocklistFilteredData','notifications','items','list-multi-selected','_addHookBase','weaponProficiencies','_pImportEntry_pDoUpdateCharacter_psionics','pImportSubclass','Unimplemented!','<button\x20class=\x22btn\x20btn-default\x20btn-5et\x20w-100\x20mr-2\x22>Choose\x20Feat</button>','Base/Unarmored\x20AC','Select\x20Existing\x20Item...','importedSubclassFeatureLevelledEmbeddedDocuments','ceil','join','getAbilityModNumber','_CurLevelMeta','_pImportEntry_pAddUnarmedStrike','_pImportEntry_pDoUpdateCharacter_spellcasting_spellPsiPoints_resource','/template/ImportListClassAbilityScoreIncrease.hbs','_render_ability','SheetLevelUpButtonAdapter','change','intBonus','isIncludesLevelOne','fromObject','_pImportClass_pImportToItems','cbSel','_pImportEntry_pDoUpdateCharacter_pPopulateMulticlassProficiencies','info','_resolve','log','customFormula','actor','label','isPersistClassItemUpdate','armorProficiencies','C_IMPORT_CLASS_HP_INCREASE_MODE__ROLL_CUSTOM','wis','Failed\x20to\x20find\x20and/or\x20load\x20class\x20\x22','_foundryAllFeatures','subSubclassSpells','\x20+\x20','getValues','spellcasting','pGetClassItem','warn','toUpperCase','toggleVe','toMessage','pUpdateEmbeddedDocuments','toggleClass','doAbsorbItems','_pImportEntry_pDoUpdateCharacter_spellcasting_slots','startingProficiencies','visibleItems','_$btnToggleSummary','_state','_getExistingSubclassItems','_pImportSubclass_pImportToActor','ExistingFeatureChecker','errors','name','isCancelled','_pImportClass_pImportToActor','_pImportEntry_pGetFolderIdMeta','\x22\x20was\x20not\x20valid!','Import\x20Level\x20','active','getChildByIndexPath','118782GZMEtt','_pImportClass_pGetHpImportMode','Level\x20Up','_fnClose','_pImportEntry_pFillClassData','Utils','STR_SEE_CONSOLE','click','Could\x20not\x20update\x20','scrollIntoView','title','spellLevelLow','getData','casterProgression','pGetPreparableSpells','_comp','attributes',')?</p>','checked','utils','pCacheAndGet','_foundryStartingProficiencyMode','classSpells','\x22)!\x20','.default','Cannot\x20Level\x20Up—no\x20known\x20classes\x20found.','form-control--error','pGetUserEnum','strBonus','ActorSheet5eCharacter','_CACHE_CLASS_DATA','C_IMPORT_CLASS_HP_INCREASE_MODE__TAKE_AVERAGE','LEVEL_XP_REQUIRED','savingThrowProficiencies','className','isRadio','page','@class[','addFauxOptionalFeatureFeatures','_pGetSourcesHomebrew','psiPointsResource','_foundryConInitial','pageFilter','_pImportEntry_pGetCurLevelFillClassData','(Unnamed\x20subclass)','importClass','_pImportEntry',')\x20from\x20flags','_$getBtnLevelUp_errors','isHpAvailable','DataSourceSpecial','pGetSubclassItem','getPsiPointTotal','feat','trim','ascSortLower','targetLevel','_$iptSearch','Unarmed\x20Strike','importSpell','Would\x20you\x20like\x20to\x20choose\x20a\x20subclass\x20to\x20include\x20in\x20the\x20level\x20up?','getFlag','existingClassItem','proficienciesGained','ixClass','_pack','_pGetUserClassSubclassItems','role','Upload\x20File','Class/subclass\x20feature\x20had\x20neither\x20\x22classFeature\x22\x20nor\x20\x22subclassFeature\x22\x20set!\x20This\x20should\x20never\x20occur!','isToken','pGetShowApplicationModal','center','_tagFirstSubclassLoaded','tglSel','Failed\x20to\x20find\x20and/or\x20load\x20subclass\x20\x22','isSetXp','_getActorUpdate','skills','_pImportEntry_pFillSubclassData','gainSubclassFeature','DataSourceFile','getSpellPointsKey','values','toolProf','spellsKnownProgressionFixed','STR_GENERIC','hash','error','./ImportListClassFeature.js','_pImportEntry_pAddUpdateClassItem','_pGetAvailableClassSubclass','isClassImport','Open\x20List','sourceLong','_pImportEntry_pDoUpdateCharacter_xp','optionalfeature','./ImportListOptionalFeature.js','bludgeoning','getSpellPointsResource','immune','pImportClass','shortName','You\x20have\x20selected\x20a\x20subclass\x20to\x20import,\x20but\x20have\x20no\x20class\x20levels.\x20Would\x20you\x20like\x20to\x20import\x20the\x20class\x20too?','absorbFnGetData','registerImpl','50zqNFLI','packUid','./ActorCharactermancer.js','get','_$btnRun','then','TASK_EXIT_FAILED','postItemActorUpdate','spells','generic','\x20Levels\x20To','_pHandleClick_levelUpLegacy','C_IMPORT_CLASS_HP_INCREASE_MODE__ROLL','PG_FEATS','dexBonus','sourceJsonToFull','Class\x20active\x20effects\x20should\x20be\x20populated\x20on\x20the\x20class\x20itself!\x20This\x20is\x20a\x20bug!','.charlevel','pInitFilterBox','<div\x20class=\x22ve-flex-col\x20w-100\x20h-100\x22></div>','DISPLAY_NAME_TYPE_PLURAL','_SUPPORTED_SHEETS','\x22\x20(from\x20\x22','some','pct','cha','isPersistSubclassItemUpdate','_render_feat','pGetCreateActorSpellPointsItem','completedStub','str','faces','getCurrentAbilityScores',')\x20did\x20not\x20have\x20a\x20valid\x20\x22levels\x22\x20value!','(Unnamed\x20Subclass)','mutateForFilters','numLevelsPrev','addClass','_$btnFeelingLucky','pGetUserBoolean','unsetOverride','form','pGetActorSpellItemOpts','_titleButtonRun','entries','\x20total—resource\x20\x22','Ability\x20Score\x20Improvement—Level\x20','traits','Import\x20Only\x20Subclass','activateListeners','_pImportEntry_handleConDifference','\x20&#8594;\x20Level\x20','_pImportEntry_pDoUpdateCharacter_spellcasting_spellPoints','importDocument','sort','proficiencyImportMode','Import\x20Levels\x201-','subclassItemUpdate','\x20SUBCLASS\x20','ability\x20score\x20improvement','_pImportEntry_pFinalise','importedClassFeatureLevelledEmbeddedDocuments','max','MODE_PRIMARY','_list','import','disableAdvancements','SOURCE_JSON_TO_ABV','prof','prop','_pImportEntry_pDoUpdateCharacter_languages','focus','_getBrewSpellSources','subclassShortName','.selectSubclass','absorbFnBindListeners','(Create\x20New\x20Item)','pWaitForUserInput','hover','spellLevelHigh','DataSourceUrl','effects','_pImportClassSubclass_pImportToActor','data','ixItemClass','pUpdateDocument','isStubClass','add','propDroppable','<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>Confirm</button>','EVNT_VALCHANGE','getDedupedData','pGetUserChoice','existingSubclassItem','ixSubclass','getSubclassFromExistingSubclassItem','sourceClassName','classItemToCreate','numLevels','_pImportEntry_pDoUpdateCharacter_pPopulateEquipment','_pImportEntry_pDoUpdateCharacter_hp','subclassSpells','1129062ezfxBB','set','SOURCE_TYP_OFFICIAL_ALL','unpackUidClassFeature','text','_pImportEntry_pDoUpdateCharacter_spellcasting','Tidy5eSheet','_ITEM_NAME_UNARMED_STRIKE','isHideSubclassRows','pInit','languageProficiencies','_pDoMergeAndApplyActorUpdate','_pImportEntry_setActorFlags','dnd5e','MODE_NONE','_pImportListItems_background','\x20too?','Yes',').\x20Would\x20you\x20like\x20to\x20import\x20level','pSerialAwaitMap','_$wrpMiniPills','value'];_0x3294=function(){return _0x16e889;};return _0x3294();}import{Charactermancer_Spell,Charactermancer_Spell_Modal}from'./UtilCharactermancerSpell.js';import{ImportedDocument,ImportSummary}from'./ImportList.js';import{UtilDataConverter}from'./UtilDataConverter.js';import{ConfigConsts}from'./ConfigConsts.js';import{UtilDocuments}from'./UtilDocuments.js';function _0x3729(_0x5253ac,_0x39c7a3){const _0x3294b8=_0x3294();return _0x3729=function(_0x37297e,_0x24486c){_0x37297e=_0x37297e-0x125;let _0x43cac1=_0x3294b8[_0x37297e];return _0x43cac1;},_0x3729(_0x5253ac,_0x39c7a3);}import{Charactermancer_Spell_Util}from'./UtilCharactermancerSpellSlotLevelSelect.js';import{AppSourceSelectorMulti}from'./AppSourceSelectorMulti.js';import{ModalFilterClassesFvtt}from'./UtilModalFilter.js';import{UtilAdvancements}from'./UtilAdvancements.js';import{GameStorage}from'./GameStorage.js';class ImportListClass extends ImportListCharacter{static get['ID'](){return'classes-subclasses';}static get[_0xe2c180(0x2be)](){const _0x23b178=_0xe2c180;return _0x23b178(0x1f8);}static ['_']=this[_0xe2c180(0x2a9)](this);static[_0xe2c180(0x13e)](){const _0x209490=_0xe2c180,_0x27dedc={'isForce':!![],'fnGetSuccessMessage':({ent:_0x442224})=>'Imported\x20\x22'+(_0x442224[_0x209490(0x262)]||_0x442224[_0x209490(0x238)])+'\x22'+(_0x442224[_0x209490(0x2f3)]?'\x20('+_0x442224[_0x209490(0x238)]+')':'')+_0x209490(0x379),'fnGetFailedMessage':({ent:_0x5c0bac})=>_0x209490(0x32e)+(_0x5c0bac[_0x209490(0x262)]||_0x5c0bac[_0x209490(0x238)])+'\x22'+(_0x5c0bac[_0x209490(0x2f3)]?'\x20('+_0x5c0bac[_0x209490(0x238)]+')':'')+'!\x20'+VeCt[_0x209490(0x246)]};this[_0x209490(0x168)]({..._0x27dedc,'prop':_0x209490(0x199),'importerName':_0x209490(0x348)}),this[_0x209490(0x168)]({..._0x27dedc,'prop':_0x209490(0x32b),'importerName':_0x209490(0x17d)}),Hooks['on']('dropActorSheetData',(_0x125375,_0x59a0ce,_0x9d3bf3)=>{const _0x3885b7=_0x209490;if(!Config[_0x3885b7(0x2ad)](_0x3885b7(0x26d),'isSuppressAdvancementsOnImportedDrop'))return;if(_0x9d3bf3?.[_0x3885b7(0x14d)]!==_0x3885b7(0x1b0))return;const _0x488475=game[_0x3885b7(0x1fc)][_0x3885b7(0x2ad)](_0x9d3bf3['id']);if(!_0x488475)return;const _0x309bd6=_0x488475[_0x3885b7(0x27d)](SharedConsts['MODULE_NAME'],_0x3885b7(0x302));if(![_0x3885b7(0x199),_0x3885b7(0x32b)]['includes'](_0x309bd6))return;const _0x2c89ee=game[_0x3885b7(0x1a5)]['get']('dnd5e',_0x3885b7(0x2ec));if(_0x2c89ee)return;GameStorage[_0x3885b7(0x388)](_0x3885b7(0x31d),_0x3885b7(0x2ec),!![]),setTimeout(()=>{const _0x284e0a=_0x3885b7;GameStorage[_0x284e0a(0x2d2)](_0x284e0a(0x31d),_0x284e0a(0x2ec));},0xc8);}),ImportListClass[_0x209490(0x20f)][_0x209490(0x13e)]();}constructor(_0x18695e){const _0x80d53=_0xe2c180;_0x18695e=_0x18695e||{},super({'title':'Import\x20Classes','template':SharedConsts[_0x80d53(0x384)]+_0x80d53(0x326),'height':Util['getMaxWindowHeight'](),'resizable':!![]},_0x18695e,{'namespace':'class_subclass','dirsHomebrew':[_0x80d53(0x199),'subclass'],'defaultFolderPath':['Classes'],'sidebarTab':_0x80d53(0x1fc),'gameProp':_0x80d53(0x1fc),'pageFilter':new PageFilterClassesFoundry(),'isDedupable':!![],'configGroup':_0x80d53(0x26d),'page':UrlUtil[_0x80d53(0x129)]}),this['_cachedData']=null;}async[_0xe2c180(0x1d2)](_0x5e62a0){const _0x18eded=_0xe2c180;await super[_0x18eded(0x1d2)](_0x5e62a0),this[_0x18eded(0x39c)]=null;}static async[_0xe2c180(0x179)](_0x49815e,{actor:_0x375262}={}){const _0x1ea854=_0xe2c180,_0x3bd9f3=await DataConverterClassSubclassFeature['pGetClassSubclassFeatureIgnoredLookup']({'data':_0x49815e}),_0x2edf12=await PageFilterClassesFoundry['pPostLoad'](_0x49815e,{'actor':_0x375262,'isIgnoredLookup':_0x3bd9f3});return Charactermancer_Class_Util[_0x1ea854(0x266)](_0x2edf12[_0x1ea854(0x199)],(await this[_0x1ea854(0x152)]())[_0x1ea854(0x2a0)]),_0x2edf12;}async[_0xe2c180(0x342)](){const _0x2484ef=_0xe2c180;return[new UtilDataSource[(_0x2484ef(0x272))](Config['get']('ui','isStreamerMode')?'SRD':_0x2484ef(0x1ed),Vetools['pGetClasses'],{'cacheKey':'5etools-classes','pPostLoad':_0x422551=>this[_0x2484ef(0x13c)][_0x2484ef(0x179)](_0x422551,{'actor':this[_0x2484ef(0x37b)]}),'filterTypes':[UtilDataSource[_0x2484ef(0x312)]],'isDefault':!![]}),new UtilDataSource[(_0x2484ef(0x2fa))](_0x2484ef(0x188),'',{'pPostLoad':_0x424080=>this[_0x2484ef(0x13c)][_0x2484ef(0x179)](_0x424080,{'actor':this['_actor']}),'filterTypes':[UtilDataSource[_0x2484ef(0x36f)]]}),new UtilDataSource[(_0x2484ef(0x291))](_0x2484ef(0x284),{'pPostLoad':_0x4ee00b=>this['constructor']['pPostLoad'](_0x4ee00b,{'actor':this[_0x2484ef(0x37b)]}),'filterTypes':[UtilDataSource[_0x2484ef(0x36f)]]}),...await this[_0x2484ef(0x267)]({'pPostLoad':_0x2eeaff=>this[_0x2484ef(0x13c)]['pPostLoad'](_0x2eeaff,{'actor':this[_0x2484ef(0x37b)]})})];}[_0xe2c180(0x340)](_0x4dcc49){const _0x5cc77e=_0xe2c180,_0x5bece2=!!Config[_0x5cc77e(0x2ad)](_0x5cc77e(0x26d),'isHideSubclassRows');return this[_0x5cc77e(0x39c)]&&!!this['_cachedData']['isHideSubclassRows']!==_0x5bece2;}[_0xe2c180(0x24c)](){const _0x12f481=_0xe2c180;if(this[_0x12f481(0x39c)]&&this[_0x12f481(0x39c)][_0x12f481(0x263)]!==!!this[_0x12f481(0x37b)])this[_0x12f481(0x39c)]=null;const _0x5b5fcc=!!Config[_0x12f481(0x2ad)](_0x12f481(0x26d),_0x12f481(0x318));if(this['_cachedData']&&!!this[_0x12f481(0x39c)]['isHideSubclassRows']!==!!_0x5b5fcc)this['_cachedData']=null;this['_cachedData']=this['_cachedData']||{'titleButtonRun':this[_0x12f481(0x2d5)],'titleSearch':this[_0x12f481(0x32f)],'rows':this[_0x12f481(0x12f)][_0x12f481(0x199)][_0x12f481(0x2e0)]((_0x47b5da,_0x2d9429)=>SortUtil[_0x12f481(0x277)](_0x47b5da['name'],_0x2d9429[_0x12f481(0x238)])||SortUtil['ascSortLower'](Parser['sourceJsonToFull'](_0x47b5da[_0x12f481(0x1d3)]||SRC_PHB),Parser['sourceJsonToFull'](_0x2d9429['source']||SRC_PHB)))[_0x12f481(0x1f6)]((_0x16ab40,_0x4a3fb0)=>{const _0x7ecb=_0x12f481;return this[_0x7ecb(0x34b)][_0x7ecb(0x13c)][_0x7ecb(0x2cd)](_0x16ab40),{'name':_0x16ab40[_0x7ecb(0x238)],'source':_0x16ab40['source'],'sourceShort':Parser[_0x7ecb(0x36d)](_0x16ab40[_0x7ecb(0x1d3)]),'sourceLong':Parser['sourceJsonToFull'](_0x16ab40[_0x7ecb(0x1d3)]),'sourceClassName':Parser['sourceJsonToColor'](_0x16ab40[_0x7ecb(0x1d3)]),'sourceStyle':BrewUtil2[_0x7ecb(0x1cd)](_0x16ab40['source']),'ixClass':_0x4a3fb0,'disabled':!_0x16ab40[_0x7ecb(0x1bc)],'subRows':_0x5b5fcc?[]:(_0x16ab40[_0x7ecb(0x185)]||[])[_0x7ecb(0x1f6)]((_0x35474e,_0x3cb4a2)=>({'name':_0x35474e[_0x7ecb(0x238)],'source':_0x35474e[_0x7ecb(0x1d3)]||_0x16ab40[_0x7ecb(0x1d3)],'sourceShort':Parser['sourceJsonToAbv'](_0x35474e[_0x7ecb(0x1d3)]||_0x16ab40[_0x7ecb(0x1d3)]),'sourceLong':Parser[_0x7ecb(0x2b9)](_0x35474e[_0x7ecb(0x1d3)]||_0x16ab40[_0x7ecb(0x1d3)]),'sourceClassName':Parser[_0x7ecb(0x1e1)](_0x35474e[_0x7ecb(0x1d3)]||_0x16ab40[_0x7ecb(0x1d3)]),'sourceStyle':BrewUtil2[_0x7ecb(0x1cd)](_0x35474e[_0x7ecb(0x1d3)]||_0x16ab40[_0x7ecb(0x1d3)]),'ixSubclass':_0x3cb4a2}))};})};if(this[_0x12f481(0x37b)])this['_cachedData'][_0x12f481(0x263)]=!![];if(_0x5b5fcc)this[_0x12f481(0x39c)][_0x12f481(0x318)]=!![];return this[_0x12f481(0x39c)];}[_0xe2c180(0x141)]({allContentMerged:_0x372971}){const _0x386b25=_0xe2c180;return ImportListClass[_0x386b25(0x245)][_0x386b25(0x305)]({'allContentMerged':_0x372971});}[_0xe2c180(0x1fa)]({dedupedAllContentMerged:_0x22c02c}){const _0x4e4cfe=_0xe2c180;return ImportListClass['Utils'][_0x4e4cfe(0x35e)]({'dedupedAllContentMerged':_0x22c02c});}[_0xe2c180(0x1e2)](){const _0x42b2ad=_0xe2c180;this[_0x42b2ad(0x2ae)]['click'](async()=>{const _0x28ae22=_0x42b2ad;if(!this[_0x28ae22(0x2ea)])return;const _0x5de00e=this['_actor']?this['_list'][_0x28ae22(0x1fc)]['filter'](_0x598154=>_0x598154[_0x28ae22(0x2fd)]['tglSel']&&_0x598154['data'][_0x28ae22(0x28a)]['classList'][_0x28ae22(0x130)](_0x28ae22(0x23e))):this[_0x28ae22(0x2ea)][_0x28ae22(0x1fc)][_0x28ae22(0x383)](_0x38ccc2=>_0x38ccc2['data'][_0x28ae22(0x215)][_0x28ae22(0x252)]);if(!_0x5de00e['length'])return ui[_0x28ae22(0x1fb)][_0x28ae22(0x228)]('Please\x20select\x20something\x20to\x20import!');this[_0x28ae22(0x331)](),await this[_0x28ae22(0x33d)]({'listItems':_0x5de00e}),this['_$cbAll'][_0x28ae22(0x2ef)](_0x28ae22(0x252),![])[_0x28ae22(0x210)]();});}async['_pImportListItems']({listItems:_0x276d85,isBackground:_0x2f5f4b}){const _0x18d6a2=_0xe2c180;this[_0x18d6a2(0x1b6)]();const _0x10cef1=_0x276d85[_0x18d6a2(0x1f6)](_0x3ee2e2=>({'ixClass':_0x3ee2e2[_0x18d6a2(0x2fd)]['ixClass'],'ixSubclass':_0x3ee2e2[_0x18d6a2(0x2fd)][_0x18d6a2(0x308)]})),_0x298049=_0x10cef1['map'](({ixClass:_0x1db81b,ixSubclass:_0x373ccc})=>{const _0x1fb7d0=_0x18d6a2,_0x4ad17f=MiscUtil['copy'](this[_0x1fb7d0(0x12f)][_0x1fb7d0(0x199)][_0x1db81b]);return{'ixClass':_0x1db81b,'cls':_0x4ad17f,'ixSubclass':_0x373ccc,'sc':_0x373ccc!=null?_0x4ad17f[_0x1fb7d0(0x185)][_0x373ccc]:null};});_0x298049['filter'](_0x44d962=>!_0x44d962['sc'])[_0x18d6a2(0x133)](_0x3b22e8=>_0x3b22e8[_0x18d6a2(0x1c2)][_0x18d6a2(0x185)]=[]),_0x298049[_0x18d6a2(0x2e0)]((_0x1f58b6,_0x41e524)=>!!_0x1f58b6['sc']-!!_0x41e524['sc']);const _0x3226c4=[],_0x4fb8f7=[];_0x298049[_0x18d6a2(0x133)](_0x4781f0=>{const _0x1d32fd=_0x18d6a2;if(_0x4781f0['sc']){const _0x183a5a=_0x3226c4['find'](_0x58dbef=>_0x58dbef[_0x1d32fd(0x238)][_0x1d32fd(0x37a)]()===_0x4781f0['sc']['className'][_0x1d32fd(0x37a)]()&&_0x58dbef['source'][_0x1d32fd(0x37a)]()===_0x4781f0['sc'][_0x1d32fd(0x339)][_0x1d32fd(0x37a)]());if(_0x183a5a)_0x183a5a[_0x1d32fd(0x185)][_0x1d32fd(0x33b)](_0x4781f0['sc']);else _0x4fb8f7[_0x1d32fd(0x33b)]({'cls':_0x4781f0[_0x1d32fd(0x1c2)],'sc':_0x4781f0['sc']});}else _0x3226c4[_0x1d32fd(0x33b)](_0x4781f0[_0x1d32fd(0x1c2)]);});if(_0x3226c4[_0x18d6a2(0x362)]||_0x4fb8f7[_0x18d6a2(0x362)])await this['_pDoPreCachePack']();await(_0x2f5f4b?this[_0x18d6a2(0x31f)]({'classes':_0x3226c4,'looseSubclasses':_0x4fb8f7}):this['_pImportListItems_foreground']({'classes':_0x3226c4,'looseSubclasses':_0x4fb8f7}));if(!this[_0x18d6a2(0x37b)])game[this[_0x18d6a2(0x356)]][_0x18d6a2(0x387)]();}async[_0xe2c180(0x31f)]({classes:_0x3734c1,looseSubclasses:_0x3fcdc7}){const _0x1b2b86=_0xe2c180;for(const _0x57374b of _0x3734c1){try{const _0x238b76=await this[_0x1b2b86(0x2a5)](_0x57374b);UtilApplications[_0x1b2b86(0x16c)](_0x238b76);}catch(_0x2ff237){UtilApplications['doShowImportedNotification']({'entity':entry,'status':UtilApplications['TASK_EXIT_FAILED']}),console[_0x1b2b86(0x298)](_0x2ff237);}}for(const {cls:_0x1fb576,sc:_0x232bcb}of _0x3fcdc7){try{const _0x1769c2=await this['pImportSubclass'](_0x1fb576,_0x232bcb);UtilApplications[_0x1b2b86(0x16c)](_0x1769c2);}catch(_0x377c11){UtilApplications[_0x1b2b86(0x16c)]({'entity':entry,'status':UtilApplications[_0x1b2b86(0x2b0)]}),console[_0x1b2b86(0x298)](_0x377c11);}}}async['_pImportListItems_foreground']({classes:_0x544e25,looseSubclasses:_0x461341}){const _0x3a205f=_0xe2c180,_0x447af1=[..._0x544e25[_0x3a205f(0x1f6)](_0x4be102=>{const _0x496de9=_0x3a205f;return new Util[(_0x496de9(0x17e))](_0x4be102[_0x496de9(0x238)]+'\x20('+Parser['sourceJsonToAbv'](_0x4be102[_0x496de9(0x1d3)])+')',()=>this[_0x496de9(0x2a5)](_0x4be102));}),..._0x461341[_0x3a205f(0x1f6)](({cls:_0x3efb77,sc:_0x44b44c})=>{const _0x1de5ca=_0x3a205f;return new Util[(_0x1de5ca(0x17e))](_0x44b44c['name']+'\x20('+Parser[_0x1de5ca(0x36d)](_0x44b44c[_0x1de5ca(0x1d3)])+')',()=>this['pImportSubclass'](_0x3efb77,_0x44b44c));})];await UtilApplications[_0x3a205f(0x18e)](_0x447af1);}async['_renderInner_pInitFilteredList'](){const _0x7a83d=_0xe2c180;this[_0x7a83d(0x2ea)]=new List({'$iptSearch':this['_$iptSearch'],'$wrpList':this['_$wrpList'],'fnSort':(_0x37b451,_0x2e8c03,_0x254f0d)=>{const _0x3f0456=_0x7a83d;if(_0x254f0d['sortDir']==='desc'&&_0x37b451['data'][_0x3f0456(0x280)]===_0x2e8c03['data'][_0x3f0456(0x280)]&&(_0x37b451[_0x3f0456(0x2fd)]['ixSubclass']!=null||_0x2e8c03[_0x3f0456(0x2fd)][_0x3f0456(0x308)]!=null))return _0x37b451['data'][_0x3f0456(0x308)]!=null?-0x1:0x1;return SortUtil[_0x3f0456(0x277)](_0x37b451[_0x3f0456(0x293)]['sortName'],_0x2e8c03[_0x3f0456(0x293)][_0x3f0456(0x1c6)]);}}),SortUtil[_0x7a83d(0x19c)](this[_0x7a83d(0x343)],this[_0x7a83d(0x2ea)]);const _0x1e8113=this[_0x7a83d(0x39c)]['rows'][_0x7a83d(0x1f6)](_0x2aa2ac=>{const _0x51ae9b=_0x7a83d,_0x43815c={..._0x2aa2ac};delete _0x43815c[_0x51ae9b(0x14a)];if(Config[_0x51ae9b(0x2ad)](_0x51ae9b(0x26d),_0x51ae9b(0x318)))return[_0x43815c];const _0x3aac23=_0x2aa2ac[_0x51ae9b(0x14a)][_0x51ae9b(0x1f6)](_0x481c18=>({..._0x481c18,'ixClass':_0x2aa2ac[_0x51ae9b(0x280)],'className':_0x2aa2ac['name'],'classSource':_0x2aa2ac[_0x51ae9b(0x1d3)],'classSourceLong':_0x2aa2ac['sourceLong'],'classSourceClassName':_0x2aa2ac[_0x51ae9b(0x30a)]}));return[_0x43815c,..._0x3aac23];})[_0x7a83d(0x38f)]();await this[_0x7a83d(0x34b)][_0x7a83d(0x2bc)]({'$iptSearch':this[_0x7a83d(0x279)],'$btnReset':this[_0x7a83d(0x156)],'$btnOpen':this[_0x7a83d(0x1e0)],'$btnToggleSummaryHidden':this[_0x7a83d(0x232)],'$wrpMiniPills':this[_0x7a83d(0x324)],'namespace':this['_getFilterNamespace']()}),this[_0x7a83d(0x12f)][_0x7a83d(0x199)][_0x7a83d(0x133)](_0xc056bd=>this[_0x7a83d(0x34b)][_0x7a83d(0x1bb)](_0xc056bd));const _0x1f5ea6={'fnGetName':_0x616178=>_0x616178[_0x7a83d(0x238)],'fnGetValues':_0x52f946=>{const _0x45ce11=_0x7a83d;if(_0x52f946[_0x45ce11(0x308)]!=null)return{'sortName':_0x52f946[_0x45ce11(0x262)]+'\x20SOURCE\x20'+_0x52f946[_0x45ce11(0x13d)]+_0x45ce11(0x2e4)+_0x52f946[_0x45ce11(0x238)]+_0x45ce11(0x171)+_0x52f946[_0x45ce11(0x29e)],'source':_0x52f946[_0x45ce11(0x1d3)],'hash':UrlUtil[_0x45ce11(0x397)][_0x45ce11(0x32b)](_0x52f946)};return{'sortName':_0x52f946[_0x45ce11(0x238)]+_0x45ce11(0x171)+_0x52f946['sourceLong'],'source':_0x52f946[_0x45ce11(0x1d3)],'hash':UrlUtil[_0x45ce11(0x397)][this['_page']](_0x52f946)};},'fnGetData':(_0xeadcc4,_0x5a2764)=>{const _0x5453bd=_0x7a83d,_0x13e9a2=this[_0x5453bd(0x37b)]?{'tglSel':_0xeadcc4['ele'][_0x5453bd(0x351)][_0x5453bd(0x351)]}:UtilList2[_0x5453bd(0x2a8)](_0xeadcc4);if(_0x5a2764[_0x5453bd(0x308)]!=null)return{..._0x13e9a2,'ixClass':_0x5a2764[_0x5453bd(0x280)],'ixSubclass':_0x5a2764[_0x5453bd(0x308)]};return{..._0x13e9a2,'ixClass':_0x5a2764[_0x5453bd(0x280)]};}};this[_0x7a83d(0x37b)]?_0x1f5ea6[_0x7a83d(0x1f4)]=_0x574b67=>{const _0x39cea0=_0x7a83d;_0x574b67['ele'][_0x39cea0(0x1d0)]('click',()=>{const _0x5bc3af=_0x39cea0,_0xca6ed9=_0x574b67[_0x5bc3af(0x2fd)][_0x5bc3af(0x308)]!=null,_0x380f85=_0xca6ed9?this[_0x5bc3af(0x2ea)]['items'][_0x5bc3af(0x39b)](_0x12e43e=>_0x12e43e[_0x5bc3af(0x2fd)][_0x5bc3af(0x280)]===_0x574b67[_0x5bc3af(0x2fd)][_0x5bc3af(0x280)]&&_0x12e43e[_0x5bc3af(0x2fd)][_0x5bc3af(0x308)]==null):null,_0x39dc9c=this['_list']['items']['filter'](_0x4064c9=>_0x4064c9['data'][_0x5bc3af(0x28a)][_0x5bc3af(0x382)][_0x5bc3af(0x130)](_0x5bc3af(0x23e)));if(!_0x39dc9c[_0x5bc3af(0x362)]){_0x574b67[_0x5bc3af(0x2fd)][_0x5bc3af(0x28a)][_0x5bc3af(0x382)][_0x5bc3af(0x301)]('active'),_0x574b67[_0x5bc3af(0x18b)]['classList']['add'](_0x5bc3af(0x1fd));_0xca6ed9&&(_0x380f85[_0x5bc3af(0x2fd)][_0x5bc3af(0x28a)][_0x5bc3af(0x382)][_0x5bc3af(0x301)](_0x5bc3af(0x23e)),_0x380f85[_0x5bc3af(0x18b)][_0x5bc3af(0x382)][_0x5bc3af(0x301)]('list-multi-selected'));return;}if(_0x574b67[_0x5bc3af(0x2fd)][_0x5bc3af(0x28a)][_0x5bc3af(0x382)][_0x5bc3af(0x130)](_0x5bc3af(0x23e))){_0x574b67[_0x5bc3af(0x2fd)][_0x5bc3af(0x28a)][_0x5bc3af(0x382)]['remove'](_0x5bc3af(0x23e)),_0x574b67[_0x5bc3af(0x18b)][_0x5bc3af(0x382)][_0x5bc3af(0x1ad)](_0x5bc3af(0x1fd));_0xca6ed9?(_0x380f85[_0x5bc3af(0x2fd)][_0x5bc3af(0x28a)][_0x5bc3af(0x382)][_0x5bc3af(0x1ad)](_0x5bc3af(0x23e)),_0x380f85['ele'][_0x5bc3af(0x382)][_0x5bc3af(0x1ad)]('list-multi-selected')):_0x39dc9c[_0x5bc3af(0x133)](_0x12e591=>{const _0x86010e=_0x5bc3af;_0x12e591[_0x86010e(0x2fd)][_0x86010e(0x28a)][_0x86010e(0x382)][_0x86010e(0x1ad)](_0x86010e(0x23e)),_0x12e591[_0x86010e(0x18b)]['classList'][_0x86010e(0x1ad)](_0x86010e(0x1fd));});return;}_0x39dc9c[_0x5bc3af(0x133)](_0x29d254=>{const _0x1b61a1=_0x5bc3af;_0x29d254['data']['tglSel'][_0x1b61a1(0x382)]['remove'](_0x1b61a1(0x23e)),_0x29d254['ele'][_0x1b61a1(0x382)][_0x1b61a1(0x1ad)]('list-multi-selected');}),_0x574b67['data']['tglSel'][_0x5bc3af(0x382)]['add']('active'),_0x574b67[_0x5bc3af(0x18b)][_0x5bc3af(0x382)]['add'](_0x5bc3af(0x1fd)),_0xca6ed9&&(_0x380f85['data']['tglSel']['classList'][_0x5bc3af(0x301)](_0x5bc3af(0x23e)),_0x380f85[_0x5bc3af(0x18b)]['classList']['add']('list-multi-selected'));});}:_0x1f5ea6[_0x7a83d(0x1f4)]=_0x29fb90=>UtilList2[_0x7a83d(0x2f5)](this[_0x7a83d(0x2ea)],_0x29fb90),this[_0x7a83d(0x2ea)][_0x7a83d(0x22e)](_0x1e8113,_0x1f5ea6),this[_0x7a83d(0x2ea)]['init'](),this['_pageFilter'][_0x7a83d(0x161)](),this[_0x7a83d(0x34b)]['filterBox'][_0x7a83d(0x387)](),this[_0x7a83d(0x34b)][_0x7a83d(0x1d6)]['on'](FilterBox[_0x7a83d(0x304)],this[_0x7a83d(0x37c)][_0x7a83d(0x1bf)](this)),this[_0x7a83d(0x37c)]();}[_0xe2c180(0x18a)](){const _0x56c2c0=_0xe2c180;if(!this[_0x56c2c0(0x37b)])return super[_0x56c2c0(0x18a)]();this[_0x56c2c0(0x2d0)]['click'](()=>{const _0x59a963=_0x56c2c0;if(!this[_0x59a963(0x2ea)]||!this[_0x59a963(0x2ea)]['visibleItems']['length'])return;const _0x44f566=RollerUtil[_0x59a963(0x139)](this[_0x59a963(0x2ea)][_0x59a963(0x231)]);if(!_0x44f566)return;_0x44f566[_0x59a963(0x18b)]['click'](),_0x44f566['ele'][_0x59a963(0x249)]({'block':_0x59a963(0x288)});});}[_0xe2c180(0x37c)](){const _0x3ea104=_0xe2c180;return ModalFilterClasses[_0x3ea104(0x162)]({'pageFilter':this['_pageFilter'],'list':this['_list'],'allData':this[_0x3ea104(0x12f)][_0x3ea104(0x199)]});}async[_0xe2c180(0x26e)](_0x16628b,_0x284043){const _0x550ef0=_0xe2c180;_0x284043=_0x284043||{};!_0x284043['filterValues']&&!this['_pageFilter']?.['filterBox']&&(_0x284043[_0x550ef0(0x33e)]=await ImportListClass['pGetDefaultFilterValues']());if(_0x16628b?.[_0x550ef0(0x2fd)]?.[_0x550ef0(0x199)]){const _0x3a9e85=_0x16628b?.[_0x550ef0(0x2fd)]?.[_0x550ef0(0x32b)];_0x16628b=_0x16628b?.[_0x550ef0(0x2fd)]?.['class'],_0x16628b=await Renderer[_0x550ef0(0x2f8)][_0x550ef0(0x254)](_0x550ef0(0x36e),_0x16628b[_0x550ef0(0x1d3)],UrlUtil[_0x550ef0(0x397)][UrlUtil[_0x550ef0(0x129)]](_0x16628b),{'isCopy':!![]});const _0x1d06bb={'class':[_0x16628b]};if(_0x3a9e85){const _0xcf432f=await Renderer['hover']['pCacheAndGet']('raw_subclass',_0x3a9e85['source'],UrlUtil[_0x550ef0(0x397)]['subclass'](_0x3a9e85),{'isCopy':!![]});_0x1d06bb[_0x550ef0(0x32b)]=[_0xcf432f];}const _0x480b68=await this['constructor'][_0x550ef0(0x179)](_0x1d06bb);_0x16628b=_0x480b68[_0x550ef0(0x199)][0x0];if(_0x3a9e85){const _0x252381=_0x16628b[_0x550ef0(0x185)][0x0];return _0x16628b[_0x550ef0(0x185)]=[],this[_0x550ef0(0x201)](_0x16628b,_0x252381,_0x284043);}}return this[_0x550ef0(0x2a5)](_0x16628b,_0x284043);}async[_0xe2c180(0x2a5)](_0x486a3a,_0x33f924){const _0x3fd857=_0xe2c180;_0x33f924=_0x33f924||{},console[_0x3fd857(0x219)](...LGT,_0x3fd857(0x1d1)+_0x486a3a['name']+'\x22\x20(from\x20\x22'+Parser['sourceJsonToAbv'](_0x486a3a[_0x3fd857(0x1d3)])+'\x22)');if(DataConverterClass[_0x3fd857(0x300)](_0x486a3a))return ImportSummary[_0x3fd857(0x2c7)]();if(_0x33f924['isTemp'])return this[_0x3fd857(0x214)](_0x486a3a,_0x33f924);if(this[_0x3fd857(0x37b)])return this[_0x3fd857(0x23a)](_0x486a3a,_0x33f924);return this[_0x3fd857(0x214)](_0x486a3a,_0x33f924);}async['_pImportClass_pImportToActor'](_0x19cd28,_0x130e32){const _0x353a4b=_0xe2c180,_0x468d21=new ImportListClass['ImportEntryOpts']({'isClassImport':!![],'isCharactermancer':_0x130e32[_0x353a4b(0x392)]});let _0x5687b1;!_0x19cd28[_0x353a4b(0x222)]?(_0x5687b1=Charactermancer_Class_Util[_0x353a4b(0x386)](_0x19cd28),this['constructor'][_0x353a4b(0x289)](_0x19cd28,_0x5687b1),_0x5687b1=Charactermancer_Util[_0x353a4b(0x332)](_0x5687b1,this[_0x353a4b(0x34b)],_0x130e32['filterValues']||this['_pageFilter'][_0x353a4b(0x1d6)][_0x353a4b(0x225)]())):this[_0x353a4b(0x13c)][_0x353a4b(0x289)](_0x19cd28);const _0x5d51c6=_0x19cd28[_0x353a4b(0x185)]?.[_0x353a4b(0x362)]?_0x19cd28[_0x353a4b(0x185)][0x0]:null;return this[_0x353a4b(0x2fc)]({'cls':_0x19cd28,'sc':_0x5d51c6,'importOpts':_0x130e32,'dataBuilderOpts':_0x468d21,'allFeatures':_0x5687b1});}static[_0xe2c180(0x289)](_0x13da9e,_0x52076f=null){const _0x228d1a=_0xe2c180;let _0x1c0b0d;if(_0x52076f){const _0x714011=_0x52076f[_0x228d1a(0x39b)](_0x259c6b=>_0x259c6b[_0x228d1a(0x145)]);if(!_0x714011?.['loadeds'][_0x228d1a(0x362)])return;_0x1c0b0d=_0x714011[_0x228d1a(0x1b9)];}else _0x1c0b0d=_0x13da9e['_foundryAllFeatures'][_0x228d1a(0x383)](_0xb5d6d8=>_0xb5d6d8[_0x228d1a(0x14d)]===_0x228d1a(0x145));if(!_0x1c0b0d[_0x228d1a(0x362)])return;const _0x462ab6=_0x13da9e[_0x228d1a(0x1bc)]['find'](_0x686eed=>_0x686eed[_0x228d1a(0x290)])?.[_0x228d1a(0x364)];if(_0x1c0b0d[0x0]?.[_0x228d1a(0x193)]?.[_0x228d1a(0x364)]!==_0x462ab6)return;if(BrewUtil2[_0x228d1a(0x39a)](_0x1c0b0d[0x0]?.[_0x228d1a(0x193)]?.['source'])&&[_0x228d1a(0x1a2),'languageProficiencies','toolProficiencies',_0x228d1a(0x21e),_0x228d1a(0x1ff),_0x228d1a(0x261),_0x228d1a(0x2a4),'resist','vulnerable',_0x228d1a(0x173),'expertise'][_0x228d1a(0x2c1)](_0x132aaf=>_0x1c0b0d[0x0]['entity'][_0x132aaf]))return;_0x1c0b0d[0x0][_0x228d1a(0x13b)]=!![];}async[_0xe2c180(0x2fc)]({cls:_0x14fa46,sc:_0x8b1182,importOpts:_0x1de689,dataBuilderOpts:_0x7cba16,allFeatures:_0xfd1866}){const _0x2f624b=_0xe2c180,_0x4be095=await this[_0x2f624b(0x196)](_0x14fa46,_0x1de689,_0xfd1866,_0x7cba16,_0x8b1182!=null);if(_0x7cba16[_0x2f624b(0x239)])return ImportSummary['cancelled']();await this[_0x2f624b(0x1ab)](_0x4be095,_0x7cba16);if(_0x7cba16[_0x2f624b(0x239)])return ImportSummary[_0x2f624b(0x178)]();_0x7cba16[_0x2f624b(0x278)]=Math[_0x2f624b(0x2e8)](..._0x4be095)+0x1,_0x7cba16[_0x2f624b(0x30c)]=_0x7cba16[_0x2f624b(0x278)]-Math['min'](..._0x4be095),_0x7cba16['numLevelsPrev']=UtilActors[_0x2f624b(0x194)](this[_0x2f624b(0x37b)]),_0x7cba16[_0x2f624b(0x212)]=_0x14fa46!=null&&_0x4be095[_0x2f624b(0x1df)](0x0),_0x7cba16[_0x2f624b(0x2e1)]=await this[_0x2f624b(0x344)](_0x14fa46,_0x7cba16);if(_0x7cba16[_0x2f624b(0x239)])return ImportSummary[_0x2f624b(0x178)]();const _0x458ea9=await this[_0x2f624b(0x241)](_0x14fa46,_0x7cba16);if(_0x7cba16[_0x2f624b(0x239)])return ImportSummary[_0x2f624b(0x178)]();_0x7cba16['hpIncreaseMode']=_0x458ea9[_0x2f624b(0x1cc)],_0x7cba16['hpIncreaseCustomRollFormula']=_0x458ea9[_0x2f624b(0x21a)];const _0x122e6d={'system':{}},_0x1b9033=await this['_pImportEntry_pGetCurLevelFillClassData'](_0x122e6d,_0x14fa46,_0x8b1182,_0x1de689,_0x7cba16);if(_0x7cba16['isCancelled'])return ImportSummary[_0x2f624b(0x178)]();const {curLevel:_0x22e87f,existingClassItem:_0x155533,existingSubclassItem:_0x513d95}=_0x1b9033;this[_0x2f624b(0x31c)](_0x122e6d,_0x14fa46,_0x8b1182,_0x22e87f,_0x7cba16),await this[_0x2f624b(0x12d)](_0x122e6d,_0x14fa46,_0x8b1182,_0x22e87f,_0x155533,_0x513d95,_0x7cba16);if(_0x7cba16[_0x2f624b(0x239)])return ImportSummary[_0x2f624b(0x178)]();await this[_0x2f624b(0x368)](_0x14fa46,_0x8b1182,_0x22e87f,_0x1de689,_0x7cba16),await this[_0x2f624b(0x154)](_0x14fa46,_0x14fa46[_0x2f624b(0x185)],_0x22e87f,_0x7cba16);if(_0x7cba16['isCancelled'])return ImportSummary[_0x2f624b(0x178)]();if(_0x14fa46['preparedSpells']&&!_0x14fa46[_0x2f624b(0x295)])await this[_0x2f624b(0x153)](_0x14fa46,_0x8b1182,_0x22e87f,_0x7cba16);await this['_pImportEntry_pAddUpdateClassItem'](_0x14fa46,_0x8b1182,_0x7cba16),await this[_0x2f624b(0x1b1)](_0x14fa46,_0x8b1182,_0xfd1866,_0x4be095,_0x1de689,_0x7cba16);if(_0x7cba16['isCancelled'])return ImportSummary['cancelled']();await this['_pImportEntry_pAddUnarmedStrike'](),await this[_0x2f624b(0x12b)](_0x7cba16),await this[_0x2f624b(0x2e6)](_0x7cba16);if(this['_actor'][_0x2f624b(0x286)])this['_actor']['sheet'][_0x2f624b(0x387)]();return new ImportSummary({'status':UtilApplications[_0x2f624b(0x126)],'imported':[new ImportedDocument({'name':''+_0x14fa46[_0x2f624b(0x238)]+(_0x8b1182?'\x20('+_0x8b1182[_0x2f624b(0x238)]+')':''),'actor':this['_actor']})]});}async[_0xe2c180(0x196)](_0x5d40fe,_0x4afe5a,_0x17c946,_0x2ef42d,_0x20d844){const _0x441434=_0xe2c180;if(_0x5d40fe['_foundrySelectedLevelIndices'])return _0x5d40fe['_foundrySelectedLevelIndices'];if(_0x4afe5a[_0x441434(0x137)])return _0x4afe5a[_0x441434(0x137)]['map'](_0x59b7c5=>_0x59b7c5-0x1)[_0x441434(0x383)](_0x30f7ca=>_0x30f7ca>=0x0);const _0x797db1=await Charactermancer_Class_LevelSelect[_0x441434(0x1d5)]({'features':_0x17c946,'isSubclass':_0x20d844,'maxPreviousLevel':this[_0x441434(0x12e)](_0x5d40fe)});if(_0x797db1==null)return _0x2ef42d['isCancelled']=!![];return _0x797db1['data'];}[_0xe2c180(0x12e)](_0x5a16ec){const _0x272d1a=_0xe2c180,_0x44863f=this[_0x272d1a(0x155)](_0x5a16ec);if(!_0x44863f[_0x272d1a(0x362)])return 0x0;return Math[_0x272d1a(0x2e8)](..._0x44863f[_0x272d1a(0x1f6)](_0x5014ad=>_0x5014ad['system'][_0x272d1a(0x137)]||0x0));}[_0xe2c180(0x31c)](_0x14f5d3,_0x2d11a0,_0x2bc1c3,_0x2081a6,_0x35d87c){const _0x48ac19=_0xe2c180,_0x4019b1={'dnd5e':{}};if(Object[_0x48ac19(0x197)](_0x4019b1[_0x48ac19(0x31d)])['length'])_0x14f5d3[_0x48ac19(0x33a)]=_0x4019b1;}async[_0xe2c180(0x344)](_0x353d80,_0xf5a743){const _0x38d8f3=_0xe2c180,_0x31cc48=this[_0x38d8f3(0x37b)][_0x38d8f3(0x1fc)][_0x38d8f3(0x383)](_0x5ae0e3=>_0x5ae0e3[_0x38d8f3(0x14d)]===_0x38d8f3(0x199));if(!_0xf5a743['isClassImport']||!_0xf5a743[_0x38d8f3(0x212)]||!_0x31cc48[_0x38d8f3(0x362)])return Charactermancer_Class_ProficiencyImportModeSelect[_0x38d8f3(0x2e9)];if(_0x353d80[_0x38d8f3(0x255)]!=null)return _0x353d80[_0x38d8f3(0x255)];const _0x3fcc2f=await Charactermancer_Class_ProficiencyImportModeSelect[_0x38d8f3(0x1d5)]();if(_0x3fcc2f==null)_0xf5a743[_0x38d8f3(0x239)]=!![];return _0x3fcc2f['data'];}async[_0xe2c180(0x241)](_0x46395d,_0x3558d3){const _0x24bcf7=_0xe2c180;if(!Charactermancer_Class_HpIncreaseModeSelect[_0x24bcf7(0x271)](_0x46395d))return{'mode':ConfigConsts[_0x24bcf7(0x353)]};if(_0x46395d[_0x24bcf7(0x1c1)]!=null||_0x46395d[_0x24bcf7(0x1cb)]!=null)return{'mode':_0x46395d[_0x24bcf7(0x1c1)],'customFormula':_0x46395d['_foundryHpIncreaseCustomFormula']};const _0x27827c=await Charactermancer_Class_HpIncreaseModeSelect[_0x24bcf7(0x1d5)]();if(_0x27827c==null)return _0x3558d3['isCancelled']=!![];if(_0x27827c===VeCt[_0x24bcf7(0x1cf)])return{'mode':ConfigConsts[_0x24bcf7(0x353)]};return _0x27827c['data'];}async[_0xe2c180(0x214)](_0x493830,_0x5d493c){const _0x59ba0e=_0xe2c180,_0x48003=this[_0x59ba0e(0x187)]({'entity':_0x493830,'importOpts':_0x5d493c});if(_0x48003['isSkip'])return new ImportSummary({'status':UtilApplications[_0x59ba0e(0x143)],'imported':[new ImportedDocument({'isExisting':!![],'document':_0x48003[_0x59ba0e(0x166)]})]});const _0x4fb463=await DataConverterClass[_0x59ba0e(0x227)](_0x493830,{'isAddOwnership':!![],'filterValues':_0x5d493c[_0x59ba0e(0x33e)]||this['_pageFilter']['filterBox'][_0x59ba0e(0x225)](),'pageFilter':this['_pageFilter']}),_0x3fe300=this['_getDocumentClass']();if(_0x5d493c[_0x59ba0e(0x1e8)]){const _0x197c34=await Item[_0x59ba0e(0x1d8)](_0x4fb463,{'renderSheet':!![],'temporary':!![]}),_0x2d9479=await(_0x493830['subclasses']||[])[_0x59ba0e(0x323)](_0xa3cd37=>this[_0x59ba0e(0x37e)](_0x493830,_0xa3cd37,_0x5d493c));return new ImportSummary({'status':UtilApplications[_0x59ba0e(0x126)],'imported':[_0x197c34,..._0x2d9479][_0x59ba0e(0x1f6)](_0x160c5f=>new ImportedDocument({'document':_0x160c5f,'actor':this[_0x59ba0e(0x37b)]}))});}else{if(this[_0x59ba0e(0x281)]){if(_0x48003[_0x59ba0e(0x176)]){const _0x2fb2b8=await this[_0x59ba0e(0x1db)](_0x48003,_0x4fb463),_0x15e8e5=await(_0x493830['subclasses']||[])[_0x59ba0e(0x323)](_0x5b274e=>this[_0x59ba0e(0x37e)](_0x493830,_0x5b274e,_0x5d493c));return new ImportSummary({'status':UtilApplications[_0x59ba0e(0x1c8)],'imported':[_0x2fb2b8,..._0x15e8e5][_0x59ba0e(0x1f6)](_0xe3c705=>new ImportedDocument({'isExisting':!![],'document':_0xe3c705,'actor':this[_0x59ba0e(0x37b)]}))});}const _0x14be85=new _0x3fe300(_0x4fb463);await this['_pack'][_0x59ba0e(0x2df)](_0x14be85);const _0x2e2a50=await(_0x493830['subclasses']||[])[_0x59ba0e(0x323)](_0x473aed=>this[_0x59ba0e(0x37e)](_0x493830,_0x473aed,_0x5d493c));return await this['_pImportEntry_pAddToTargetTableIfRequired']([_0x14be85],_0x48003),new ImportSummary({'status':UtilApplications['TASK_EXIT_COMPLETE'],'imported':[_0x14be85,..._0x2e2a50][_0x59ba0e(0x1f6)](_0x1c0b03=>new ImportedDocument({'document':_0x1c0b03,'actor':this['_actor']}))});}else{if(_0x48003['isOverwrite']){const _0x33fece=await this[_0x59ba0e(0x378)](_0x48003,_0x4fb463),_0xabd173=await(_0x493830['subclasses']||[])[_0x59ba0e(0x323)](_0x2e3ec8=>this['_pImportSubclass_pImportToItems'](_0x493830,_0x2e3ec8,_0x5d493c));return new ImportSummary({'status':UtilApplications['TASK_EXIT_COMPLETE_UPDATE_OVERWRITE'],'imported':[_0x33fece,..._0xabd173][_0x59ba0e(0x1f6)](_0x1fd30e=>new ImportedDocument({'isExisting':!![],'document':_0x1fd30e,'actor':this[_0x59ba0e(0x37b)]}))});}const _0x209d02=(await this[_0x59ba0e(0x23b)](_0x493830))?.[_0x59ba0e(0x19b)];if(_0x209d02)_0x4fb463[_0x59ba0e(0x374)]=_0x209d02;const _0x576548=await Item[_0x59ba0e(0x1d8)](_0x4fb463,{'renderSheet':![],'temporary':![]});await game[_0x59ba0e(0x1fc)][_0x59ba0e(0x311)](_0x576548['id'],_0x576548);const _0x115501=await(_0x493830['subclasses']||[])[_0x59ba0e(0x323)](_0x4addd1=>this['_pImportSubclass_pImportToItems'](_0x493830,_0x4addd1,_0x5d493c,{'folderId':_0x209d02}));return new ImportSummary({'status':UtilApplications[_0x59ba0e(0x126)],'imported':[_0x576548,..._0x115501][_0x59ba0e(0x1f6)](_0x26a25=>new ImportedDocument({'document':_0x26a25,'actor':this[_0x59ba0e(0x37b)]}))});}}}async[_0xe2c180(0x201)](_0x244849,_0x41b594,_0x32562e){const _0x16f9a1=_0xe2c180;_0x32562e=_0x32562e||{},console[_0x16f9a1(0x219)](...LGT,_0x16f9a1(0x1c5)+_0x41b594['name']+_0x16f9a1(0x2c0)+Parser[_0x16f9a1(0x36d)](_0x41b594[_0x16f9a1(0x1d3)])+'\x22)');if(DataConverterClass['isStubClass'](_0x244849))return ImportSummary[_0x16f9a1(0x2c7)]();if(DataConverterClass['isStubSubclass'](_0x41b594))return ImportSummary['completedStub']();if(_0x32562e['isTemp'])return this['_pImportSubclass_pImportToItems'](_0x244849,_0x41b594,_0x32562e);if(this[_0x16f9a1(0x37b)])return this[_0x16f9a1(0x235)](_0x244849,_0x41b594,_0x32562e);return this['_pImportSubclass_pImportToItems'](_0x244849,_0x41b594,_0x32562e);}async[_0xe2c180(0x235)](_0x188981,_0x43fd33,_0x2dff50){const _0x508f98=_0xe2c180,_0x4c3b71=new ImportListClass[(_0x508f98(0x14e))]({'isClassImport':![],'isCharactermancer':_0x2dff50[_0x508f98(0x392)]}),_0x1642cc=this[_0x508f98(0x37b)][_0x508f98(0x1fc)][_0x508f98(0x383)](_0x146d34=>_0x146d34[_0x508f98(0x14d)]===_0x508f98(0x199));if(!_0x1642cc[_0x508f98(0x362)]){const _0x3096e2=await InputUiUtil['pGetUserBoolean']({'title':'Import\x20Class?','htmlDescription':_0x508f98(0x2a7),'textYes':_0x508f98(0x370),'textNo':_0x508f98(0x2da)});if(_0x3096e2==null)return _0x4c3b71[_0x508f98(0x239)]=!![],ImportSummary[_0x508f98(0x178)]();if(_0x3096e2===!![]){const _0x48bea6=MiscUtil[_0x508f98(0x149)](_0x188981);return _0x48bea6[_0x508f98(0x185)]=[_0x43fd33],this['pImportClass'](_0x48bea6,_0x2dff50);}}let _0x504d8d=MiscUtil['copy'](_0x43fd33[_0x508f98(0x380)]);return this['constructor'][_0x508f98(0x289)](_0x188981,_0x504d8d),_0x504d8d=Charactermancer_Util[_0x508f98(0x332)](_0x504d8d,this['_pageFilter'],_0x2dff50[_0x508f98(0x33e)]||this[_0x508f98(0x34b)][_0x508f98(0x1d6)][_0x508f98(0x225)]()),this[_0x508f98(0x2fc)]({'cls':_0x188981,'sc':_0x43fd33,'importOpts':_0x2dff50,'dataBuilderOpts':_0x4c3b71,'allFeatures':_0x504d8d});}async[_0xe2c180(0x37e)](_0x2ebe1a,_0xbc5740,_0x519198,_0x2e926b){const _0x56e265=_0xe2c180;_0x2e926b=_0x2e926b||{};const _0x59b58c=await DataConverterClass[_0x56e265(0x273)](_0x2ebe1a,_0xbc5740,{'isAddOwnership':!![],'filterValues':_0x519198[_0x56e265(0x33e)]||this[_0x56e265(0x34b)][_0x56e265(0x1d6)][_0x56e265(0x225)](),'pageFilter':this[_0x56e265(0x34b)]}),_0x4a3c13=this[_0x56e265(0x187)]({'name':_0x59b58c[_0x56e265(0x238)],'source':_0x59b58c[_0x56e265(0x128)][_0x56e265(0x1d3)],'importOpts':_0x519198});if(_0x4a3c13['isSkip'])return new ImportSummary({'status':UtilApplications[_0x56e265(0x143)],'imported':[new ImportedDocument({'isExisting':!![],'document':_0x4a3c13[_0x56e265(0x166)]})]});const _0x5b54c0=this['_getDocumentClass']();if(_0x519198[_0x56e265(0x1e8)]){const _0x526278=await Item['create'](_0x59b58c,{'renderSheet':!![],'temporary':!![]});return new ImportSummary({'status':UtilApplications[_0x56e265(0x126)],'imported':[new ImportedDocument({'document':_0x526278})]});}else{if(this[_0x56e265(0x281)]){if(_0x4a3c13[_0x56e265(0x176)])return this['_pImportEntry_pDoUpdateExistingPackEntity'](_0x4a3c13,_0x59b58c);const _0x42203e=new _0x5b54c0(_0x59b58c);return await this[_0x56e265(0x281)][_0x56e265(0x2df)](_0x42203e),await this['_pImportEntry_pAddToTargetTableIfRequired']([_0x42203e],_0x4a3c13),new ImportSummary({'status':UtilApplications[_0x56e265(0x126)],'imported':[new ImportedDocument({'document':_0x42203e})]});}else{if(_0x4a3c13[_0x56e265(0x176)])return this[_0x56e265(0x378)](_0x4a3c13,_0x59b58c);const _0x24ea2f=_0x2e926b['folderId']||(await this[_0x56e265(0x23b)](_0xbc5740))?.['folderId'];if(_0x24ea2f)_0x59b58c[_0x56e265(0x374)]=_0x24ea2f;const _0x3ec979=await Item[_0x56e265(0x1d8)](_0x59b58c,{'renderSheet':![],'temporary':![]});return await game[_0x56e265(0x1fc)][_0x56e265(0x311)](_0x3ec979['id'],_0x3ec979),new ImportSummary({'status':UtilApplications[_0x56e265(0x126)],'imported':[new ImportedDocument({'document':_0x3ec979})]});}}}async[_0xe2c180(0x12d)](_0x125e6b,_0x2c41b1,_0x1ef9a8,_0x28b1cf,_0x511e11,_0x13ced5,_0x3fc873){const _0x462760=_0xe2c180,_0x1c4f20=this[_0x462760(0x37b)][_0x462760(0x1fc)]['filter'](_0x15ec10=>_0x15ec10[_0x462760(0x14d)]==='class')[_0x462760(0x383)](_0x5a1b17=>_0x5a1b17!==_0x511e11),_0x3d6596=this['_actor'][_0x462760(0x1fc)][_0x462760(0x383)](_0x46ca09=>_0x46ca09[_0x462760(0x14d)]===_0x462760(0x32b))[_0x462760(0x383)](_0x14edc2=>_0x14edc2!==_0x13ced5);await this[_0x462760(0x29f)]({'actUpdate':_0x125e6b,'dataBuilderOpts':_0x3fc873,'otherExistingClassItems':_0x1c4f20}),await this[_0x462760(0x1da)]({'actUpdate':_0x125e6b,'dataBuilderOpts':_0x3fc873}),await this[_0x462760(0x315)]({'actUpdate':_0x125e6b,'cls':_0x2c41b1,'sc':_0x1ef9a8,'dataBuilderOpts':_0x3fc873,'otherExistingClassItems':_0x1c4f20,'otherExistingSubclassItems':_0x3d6596}),await this[_0x462760(0x200)]({'actUpdate':_0x125e6b,'cls':_0x2c41b1,'sc':_0x1ef9a8,'dataBuilderOpts':_0x3fc873,'otherExistingClassItems':_0x1c4f20,'otherExistingSubclassItems':_0x3d6596}),await this[_0x462760(0x30e)]({'actUpdate':_0x125e6b,'cls':_0x2c41b1,'dataBuilderOpts':_0x3fc873}),await this[_0x462760(0x2f0)]({'actUpdate':_0x125e6b,'cls':_0x2c41b1,'dataBuilderOpts':_0x3fc873});if(_0x3fc873[_0x462760(0x239)])return;if(Object[_0x462760(0x197)](_0x125e6b['system'])[_0x462760(0x362)])await UtilDocuments[_0x462760(0x2ff)](this['_actor'],_0x125e6b);}async[_0xe2c180(0x29f)]({actUpdate:_0x15dd72,dataBuilderOpts:_0x2da110,otherExistingClassItems:_0x49b25f}){const _0x94dd49=_0xe2c180;if(Config['get']('importClass',_0x94dd49(0x28c)))return;const _0x282933=_0x49b25f['map'](_0x115e0e=>_0x115e0e[_0x94dd49(0x128)][_0x94dd49(0x137)]||0x0)['reduce']((_0x2528f5,_0x2337db)=>_0x2528f5+_0x2337db,0x0)+(_0x2da110['targetLevel']||0x0);if(_0x282933<=0x0)return;const _0x463f50=(_0x15dd72[_0x94dd49(0x128)][_0x94dd49(0x37f)]=_0x15dd72[_0x94dd49(0x128)]['details']||{})['xp']=_0x15dd72['system']['details']['xp']||{},_0x2c3aa2=MiscUtil[_0x94dd49(0x2ad)](this[_0x94dd49(0x37b)],_0x94dd49(0x128),_0x94dd49(0x37f),'xp','value')||0x0,_0x4d14a0=Parser[_0x94dd49(0x260)][_0x282933-0x1],_0x23a631=Parser[_0x94dd49(0x260)][Math['min'](_0x282933,0x13)];_0x2c3aa2<_0x4d14a0?(_0x463f50[_0x94dd49(0x2c2)]=0x0,_0x463f50[_0x94dd49(0x325)]=_0x4d14a0):_0x463f50[_0x94dd49(0x2c2)]=_0x2c3aa2/_0x23a631*0x64,_0x463f50[_0x94dd49(0x2e8)]=_0x23a631;}async[_0xe2c180(0x1da)]({actUpdate:_0x22618f,dataBuilderOpts:_0x210547}){const _0x1acee7=_0xe2c180,_0x1107c5=MiscUtil[_0x1acee7(0x2ad)](this[_0x1acee7(0x37b)],_0x1acee7(0x128),_0x1acee7(0x250),_0x1acee7(0x2ee)),_0x53cb05=Math['floor']((_0x210547[_0x1acee7(0x278)]-0x1)/0x4)+0x2;if(_0x1107c5<_0x53cb05)(_0x22618f[_0x1acee7(0x128)][_0x1acee7(0x250)]=_0x22618f[_0x1acee7(0x128)][_0x1acee7(0x250)]||{})[_0x1acee7(0x2ee)]=_0x53cb05;}async[_0xe2c180(0x315)]({actUpdate:_0x49af5e,cls:_0x38a25a,sc:_0x406448,dataBuilderOpts:_0x238282,otherExistingClassItems:_0x3655a2,otherExistingSubclassItems:_0x370714}){const _0x3d7803=_0xe2c180,_0xc84c22=Charactermancer_Class_Util[_0x3d7803(0x345)](_0x38a25a,_0x406448,{'targetLevel':_0x238282[_0x3d7803(0x278)],'otherExistingClassItems':_0x3655a2,'otherExistingSubclassItems':_0x370714}),_0x1c5f86=this[_0x3d7803(0x22f)]({'actUpdate':_0x49af5e,'dataBuilderOpts':_0x238282,'progressionMeta':_0xc84c22});!_0x1c5f86&&(delete _0x49af5e[_0x3d7803(0x2fd)]?.[_0x3d7803(0x2b2)],delete _0x238282['postItemActorUpdate']?.[_0x3d7803(0x2fd)]?.[_0x3d7803(0x2b2)]);const {spellAbility:_0x4b55c0,totalSpellcastingLevels:_0x48d807}=_0xc84c22;if(_0x4b55c0)(_0x49af5e[_0x3d7803(0x128)]['attributes']=_0x49af5e[_0x3d7803(0x128)][_0x3d7803(0x250)]||{})[_0x3d7803(0x226)]=_0x4b55c0;await this[_0x3d7803(0x2de)]({'actUpdate':_0x49af5e,'totalSpellcastingLevels':_0x48d807});}['_pImportEntry_pDoUpdateCharacter_spellcasting_slots']({actUpdate:_0x35be2c,dataBuilderOpts:_0x272380,progressionMeta:_0x56b749}){const _0x46ba0f=_0xe2c180,{casterProgression:_0x42d972,totalSpellcastingLevels:_0x2af331,maxPactCasterLevel:_0xb9472c}=_0x56b749;if(!_0x2af331&&_0x42d972!=='pact')return;let _0xe79931=![];_0x35be2c[_0x46ba0f(0x128)][_0x46ba0f(0x2b2)]=_0x35be2c[_0x46ba0f(0x128)][_0x46ba0f(0x2b2)]||{};const _0x48150b=MiscUtil[_0x46ba0f(0x373)](_0x272380[_0x46ba0f(0x2b1)],_0x46ba0f(0x128),_0x46ba0f(0x2b2),{});if(_0x2af331){const _0x3d4861=UtilDataConverter[_0x46ba0f(0x36b)]['full'];let _0x2f7dcb=_0x3d4861[_0x2af331-0x1]||_0x3d4861[_0x46ba0f(0x1f3)]();return _0x2f7dcb['forEach']((_0x2410ff,_0x3dff7f)=>{const _0x3ce141=_0x46ba0f;if(_0x2410ff===0x0)return;const _0x6ec401='spell'+(_0x3dff7f+0x1),_0xfd9a3c=MiscUtil[_0x3ce141(0x2ad)](this[_0x3ce141(0x37b)],_0x3ce141(0x128),_0x3ce141(0x2b2),_0x6ec401,_0x3ce141(0x2e8)),_0x9d66bb=MiscUtil[_0x3ce141(0x2ad)](this[_0x3ce141(0x37b)],_0x3ce141(0x128),_0x3ce141(0x2b2),_0x6ec401,_0x3ce141(0x325));if(_0xfd9a3c!=null){if(_0xfd9a3c<_0x2410ff){_0xe79931=!![];const _0x3fa4af=_0x2410ff-_0xfd9a3c;_0x35be2c[_0x3ce141(0x128)][_0x3ce141(0x2b2)][_0x6ec401]={'max':_0x2410ff,'value':_0x9d66bb+_0x3fa4af},_0x48150b[_0x6ec401]={'max':_0x2410ff,'value':_0x9d66bb+_0x3fa4af};}}else _0xe79931=!![],_0x35be2c[_0x3ce141(0x128)][_0x3ce141(0x2b2)][_0x6ec401]={'max':_0x2410ff,'value':_0x2410ff},_0x48150b[_0x6ec401]={'max':_0x2410ff,'value':_0x2410ff};}),_0xe79931;}if(_0x42d972===_0x46ba0f(0x172)){const _0x549f77=MiscUtil[_0x46ba0f(0x2ad)](this['_actor'],_0x46ba0f(0x128),'spells',_0x46ba0f(0x172),_0x46ba0f(0x2e8)),_0x56a7ba=MiscUtil[_0x46ba0f(0x2ad)](this[_0x46ba0f(0x37b)],'system','spells',_0x46ba0f(0x172),_0x46ba0f(0x325)),_0x12d59f=UtilDataConverter[_0x46ba0f(0x36b)][_0x46ba0f(0x172)][_0xb9472c-0x1][_0x46ba0f(0x39b)](Boolean);if(_0x549f77!=null){if(_0x549f77<_0x12d59f){_0xe79931=!![];const _0x398d9a=_0x12d59f-_0x549f77;_0x35be2c['system'][_0x46ba0f(0x2b2)][_0x46ba0f(0x172)]={'max':_0x12d59f,'value':_0x56a7ba+_0x398d9a},_0x48150b[_0x46ba0f(0x172)]={'max':_0x12d59f,'value':_0x56a7ba+_0x398d9a};}}else _0xe79931=!![],_0x35be2c[_0x46ba0f(0x128)]['spells'][_0x46ba0f(0x172)]={'max':_0x12d59f,'value':_0x12d59f},_0x48150b[_0x46ba0f(0x172)]={'max':_0x12d59f,'value':_0x12d59f};return _0xe79931;}return![];}async[_0xe2c180(0x2de)]({actUpdate:_0x4cf8de,totalSpellcastingLevels:_0x259d26}){const _0x3a1210=_0xe2c180;if(!_0x259d26||Config['get']('importSpell',Config[_0x3a1210(0x292)]({'actorType':this[_0x3a1210(0x37b)]?.[_0x3a1210(0x14d)]}))===ConfigConsts['C_SPELL_POINTS_MODE__DISABLED'])return;return Config[_0x3a1210(0x2ad)](_0x3a1210(0x27b),'spellPointsResource')===ConfigConsts['C_SPELL_POINTS_RESOURCE__SHEET_ITEM']?UtilActors[_0x3a1210(0x2c6)]({'actor':this[_0x3a1210(0x37b)],'totalSpellcastingLevels':_0x259d26}):this[_0x3a1210(0x20c)]({'actUpdate':_0x4cf8de,'amount':UtilDataConverter['getSpellPointTotal']({'totalSpellcastingLevels':_0x259d26}),'label':_0x3a1210(0x395),'resource':Config[_0x3a1210(0x2a3)]()});}async['_pImportEntry_pDoUpdateCharacter_spellcasting_spellPsiPoints_resource']({actUpdate:_0x3301d0,amount:_0x2040b6,label:_0x503886,resource:_0x43cd2e}){const _0x3a84b4=_0xe2c180,_0x28f3e8=(_0x43cd2e||'')[_0x3a84b4(0x276)]()['split']('.');if(!_0x28f3e8[_0x3a84b4(0x362)]){const _0x3925a6=_0x3a84b4(0x248)+_0x503886+_0x3a84b4(0x2d7)+_0x43cd2e+_0x3a84b4(0x23c);console[_0x3a84b4(0x228)](...LGT,_0x3925a6),ui[_0x3a84b4(0x1fb)][_0x3a84b4(0x228)](_0x3925a6);return;}const _0x2cdb46=[..._0x28f3e8,_0x3a84b4(0x325)],_0x111e47=[..._0x28f3e8,_0x3a84b4(0x2e8)],_0x427fe0=this[_0x3a84b4(0x37b)][_0x3a84b4(0x128)][_0x3a84b4(0x369)]||this['_actor']['system'],_0xb5c64e=MiscUtil['get'](_0x427fe0,_0x3a84b4(0x128),..._0x2cdb46)||0x0,_0x19526f=MiscUtil[_0x3a84b4(0x2ad)](_0x427fe0,'system',..._0x111e47)||0x0;if(_0x2040b6>_0x19526f){const _0x56abb9=_0x2040b6-_0x19526f;MiscUtil[_0x3a84b4(0x311)](_0x3301d0,'system',..._0x2cdb46,_0xb5c64e+_0x56abb9),MiscUtil[_0x3a84b4(0x311)](_0x3301d0,'system',..._0x111e47,_0x2040b6);const _0x12c830=[..._0x28f3e8,_0x3a84b4(0x21c)];!MiscUtil[_0x3a84b4(0x2ad)](_0x427fe0,_0x3a84b4(0x128),..._0x12c830)&&MiscUtil[_0x3a84b4(0x311)](_0x3301d0,'system',..._0x12c830,_0x503886);}}async['_pImportEntry_pDoUpdateCharacter_psionics']({actUpdate:_0x58139d,cls:_0x2afb40,sc:_0x4f48a0,dataBuilderOpts:_0x5543a1,otherExistingClassItems:_0x241ccc,otherExistingSubclassItems:_0x229e61}){const _0x4b7232=_0xe2c180,{totalMysticLevels:_0x454aae}=Charactermancer_Class_Util[_0x4b7232(0x1b2)]({'cls':_0x2afb40,'targetLevel':_0x5543a1['targetLevel'],'otherExistingClassItems':_0x241ccc,'otherExistingSubclassItems':_0x229e61});await this[_0x4b7232(0x360)]({'actUpdate':_0x58139d,'totalMysticLevels':_0x454aae});}async['_pImportEntry_pDoUpdateCharacter_psionics_psiPoints']({actUpdate:_0x36c957,totalMysticLevels:_0x5b72cf}){const _0x4232e8=_0xe2c180;if(!_0x5b72cf)return;return Config[_0x4232e8(0x2ad)](_0x4232e8(0x12a),_0x4232e8(0x268))===ConfigConsts[_0x4232e8(0x393)]?UtilActors[_0x4232e8(0x1a7)]({'actor':this[_0x4232e8(0x37b)],'totalMysticLevels':_0x5b72cf}):this[_0x4232e8(0x20c)]({'actUpdate':_0x36c957,'amount':UtilDataConverter[_0x4232e8(0x274)]({'totalMysticLevels':_0x5b72cf}),'label':'Psi\x20Points','resource':Config['getPsiPointsResource']()});}async[_0xe2c180(0x30e)]({actUpdate:_0x3a5eae,cls:_0xbc5a5e,dataBuilderOpts:_0x243aa5}){const _0x3eda99=_0xe2c180;if(!_0x243aa5[_0x3eda99(0x29c)]||!Charactermancer_Class_HpIncreaseModeSelect[_0x3eda99(0x271)](_0xbc5a5e))return;const _0x5e250d=Parser[_0x3eda99(0x209)](Charactermancer_Util['getCurrentAbilityScores'](this[_0x3eda99(0x37b)])[_0x3eda99(0x181)]),_0x440fe8=_0x243aa5[_0x3eda99(0x212)]&&_0x243aa5[_0x3eda99(0x2e1)]!==Charactermancer_Class_ProficiencyImportModeSelect[_0x3eda99(0x150)];let _0x32e6d1=_0x440fe8?_0xbc5a5e['hd'][_0x3eda99(0x38c)]*_0xbc5a5e['hd'][_0x3eda99(0x2c9)]+_0x5e250d:0x0;const _0x139596=_0x440fe8?_0x243aa5[_0x3eda99(0x30c)]-0x1:_0x243aa5[_0x3eda99(0x30c)];switch(_0x243aa5['hpIncreaseMode']){case ConfigConsts[_0x3eda99(0x25f)]:{const _0x58762f=Math[_0x3eda99(0x207)](_0xbc5a5e['hd'][_0x3eda99(0x38c)]*((_0xbc5a5e['hd']['faces']+0x1)/0x2));_0x32e6d1+=_0x139596*Math['max'](_0x58762f+_0x5e250d,0x1);break;}case ConfigConsts[_0x3eda99(0x2b6)]:case ConfigConsts[_0x3eda99(0x21f)]:{const _0x227d88=_0x243aa5[_0x3eda99(0x19a)]===ConfigConsts['C_IMPORT_CLASS_HP_INCREASE_MODE__ROLL']?_0xbc5a5e['hd']['number']+'d'+_0xbc5a5e['hd'][_0x3eda99(0x2c9)]+_0x3eda99(0x224)+_0x5e250d:(_0x243aa5[_0x3eda99(0x1aa)]||'0')+_0x3eda99(0x224)+_0x5e250d,_0x1d058e=_0x227d88['replace'](/@hd\.number/g,''+_0xbc5a5e['hd'][_0x3eda99(0x38c)])['replace'](/@hd\.faces/g,''+_0xbc5a5e['hd'][_0x3eda99(0x2c9)]),_0x4e3faa=this[_0x3eda99(0x37b)][_0x3eda99(0x34a)]();try{for(let _0x417f1d=0x0;_0x417f1d<_0x139596;++_0x417f1d){const _0x75ff6d=new Roll(_0x1d058e,_0x4e3faa);await _0x75ff6d[_0x3eda99(0x1e3)](),_0x32e6d1+=Math[_0x3eda99(0x2e8)](_0x75ff6d[_0x3eda99(0x385)],0x1),await _0x75ff6d[_0x3eda99(0x22b)]({'flavor':'HP\x20Increase','speaker':{'actor':this[_0x3eda99(0x37b)]['id'],'alias':this[_0x3eda99(0x37b)][_0x3eda99(0x238)],'scene':null,'token':null}});}}catch(_0xa11727){_0x32e6d1=0x0,ui[_0x3eda99(0x1fb)][_0x3eda99(0x298)](_0x3eda99(0x1f2)+_0x1d058e+_0x3eda99(0x366)+_0x227d88+_0x3eda99(0x257)+VeCt[_0x3eda99(0x246)]),setTimeout(()=>{throw _0xa11727;});}break;}case ConfigConsts[_0x3eda99(0x353)]:{_0x32e6d1=0x0;break;}default:throw new Error(_0x3eda99(0x169)+_0x243aa5[_0x3eda99(0x19a)]+'\x22');}if(_0x32e6d1){const {value:_0x4b7ecd,max:_0x1ccc65}=Charactermancer_Util['getBaseHp'](this['_actor']);switch(_0x243aa5[_0x3eda99(0x2e1)]){case Charactermancer_Class_ProficiencyImportModeSelect[_0x3eda99(0x150)]:{const _0x6e0d69=_0x4b7ecd+_0x32e6d1,_0x19042a=_0x1ccc65+_0x32e6d1;MiscUtil['set'](_0x3a5eae,_0x3eda99(0x128),'attributes','hp',_0x3eda99(0x325),_0x6e0d69),MiscUtil[_0x3eda99(0x311)](_0x3a5eae,_0x3eda99(0x128),_0x3eda99(0x250),'hp',_0x3eda99(0x2e8),_0x19042a);break;}case Charactermancer_Class_ProficiencyImportModeSelect['MODE_PRIMARY']:{const _0x31f5c2=(_0x440fe8?0x0:_0x4b7ecd)+_0x32e6d1,_0x41dc52=(_0x440fe8?0x0:_0x1ccc65)+_0x32e6d1;MiscUtil['set'](_0x3a5eae,_0x3eda99(0x128),_0x3eda99(0x250),'hp',_0x3eda99(0x325),_0x31f5c2),MiscUtil['set'](_0x3a5eae,'system',_0x3eda99(0x250),'hp','max',_0x41dc52);break;}case Charactermancer_Class_ProficiencyImportModeSelect[_0x3eda99(0x31e)]:break;default:throw new Error(_0x3eda99(0x1eb)+_0x243aa5[_0x3eda99(0x2e1)]+'\x22');}}}async[_0xe2c180(0x2f0)]({actUpdate:_0x3ac397,cls:_0x338c40,dataBuilderOpts:_0x53b9c1}){const _0x4a9dbf=_0xe2c180;await DataConverter['pFillActorLanguageData'](MiscUtil['get'](this[_0x4a9dbf(0x37b)],_0x4a9dbf(0x128),'traits',_0x4a9dbf(0x142)),_0x338c40[_0x4a9dbf(0x31a)],_0x3ac397[_0x4a9dbf(0x128)],_0x53b9c1);}async[_0xe2c180(0x157)](_0x41ca5c,_0x104d5e,_0x3c4f94,_0x52e771){const _0x2ae50d=_0xe2c180,_0x1d0d0f={'chosenProficiencies':{}};_0x1d0d0f['chosenProficiencies']=await this['_pImportEntry_pDoUpdateCharacter_pPopulateProficienciesFrom'](_0x41ca5c,_0x104d5e[_0x2ae50d(0x230)],_0x104d5e[_0x2ae50d(0x1ca)],Charactermancer_Class_ProficiencyImportModeSelect[_0x2ae50d(0x2e9)],_0x52e771);if(_0x52e771[_0x2ae50d(0x239)])return;await this[_0x2ae50d(0x30d)](_0x104d5e,_0x52e771);if(_0x52e771[_0x2ae50d(0x239)])return;return _0x1d0d0f;}async[_0xe2c180(0x177)](_0x2b8074,_0xcd3f4b,_0x5a3bac,_0xd8af24,_0x4cb250){const _0x6a2768=_0xe2c180,_0x1a8f71={'skills':{}};if(_0xcd3f4b?.[_0x6a2768(0x28e)]){const _0x4710ef=await DataConverter['pFillActorSkillData'](MiscUtil[_0x6a2768(0x2ad)](this['_actor'],_0x6a2768(0x128),_0x6a2768(0x28e)),_0xcd3f4b[_0x6a2768(0x28e)],_0x2b8074['system'],_0x4cb250);if(_0x4cb250[_0x6a2768(0x239)])return _0x1a8f71;_0x1a8f71[_0x6a2768(0x28e)]=_0x4710ef;}const _0x41a0df=await Charactermancer_Class_StartingProficiencies[_0x6a2768(0x1d5)]({'mode':_0xd8af24,'primaryProficiencies':_0xd8af24===Charactermancer_Class_ProficiencyImportModeSelect[_0x6a2768(0x2e9)]?_0xcd3f4b:null,'multiclassProficiencies':_0xd8af24===Charactermancer_Class_ProficiencyImportModeSelect[_0x6a2768(0x150)]?_0xcd3f4b:null,'savingThrowsProficiencies':_0x5a3bac,'existingProficienciesFvttArmor':MiscUtil[_0x6a2768(0x2ad)](this[_0x6a2768(0x37b)],'system',_0x6a2768(0x2d9),'armorProf'),'existingProficienciesFvttWeapons':MiscUtil[_0x6a2768(0x2ad)](this[_0x6a2768(0x37b)],_0x6a2768(0x128),_0x6a2768(0x2d9),_0x6a2768(0x160)),'existingProficienciesFvttTools':MiscUtil[_0x6a2768(0x2ad)](this[_0x6a2768(0x37b)],_0x6a2768(0x128),_0x6a2768(0x2d9),_0x6a2768(0x294)),'existingProficienciesFvttSavingThrows':Charactermancer_Class_StartingProficiencies['getExistingProficienciesFvttSavingThrows'](this[_0x6a2768(0x37b)])});if(_0x41a0df==null)return _0x4cb250['isCancelled']=!![];if(_0x41a0df===VeCt[_0x6a2768(0x1cf)])return;return Charactermancer_Class_StartingProficiencies[_0x6a2768(0x16f)](_0x2b8074,_0x41a0df),_0x1a8f71;}async[_0xe2c180(0x216)](_0x48525a,_0x5ea4ed,_0xbe0480,_0x3e956e){const _0x32582e=_0xe2c180,_0x5737ea={'chosenProficiencies':{}};if(_0x5ea4ed['multiclassing']&&_0x5ea4ed['multiclassing']['proficienciesGained']){_0x5737ea[_0x32582e(0x32a)]=await this[_0x32582e(0x177)](_0x48525a,_0x5ea4ed['multiclassing'][_0x32582e(0x27f)],null,Charactermancer_Class_ProficiencyImportModeSelect[_0x32582e(0x150)],_0x3e956e);if(_0x3e956e['isCancelled'])return;}return _0x5737ea;}['_getExistingClassItems'](_0x1cc7f8){const _0x494a0c=_0xe2c180;return Charactermancer_Class_Util['getExistingClassItems'](this[_0x494a0c(0x37b)],_0x1cc7f8);}['_getExistingSubclassItems'](_0x2370b4,_0x21e078){const _0x437632=_0xe2c180;return Charactermancer_Class_Util[_0x437632(0x36a)](this['_actor'],_0x2370b4,_0x21e078);}static ['_CurLevelMeta']=class{constructor({curLevel:curLevel=0x0,existingCLassItem:existingCLassItem=null,existingSubclassItem:existingSubclassItem=null}={}){const _0x99c6d7=_0xe2c180;this['curLevel']=curLevel,this['existingClassItem']=existingCLassItem,this[_0x99c6d7(0x307)]=existingSubclassItem;}};async[_0xe2c180(0x26b)](_0x4014fa,_0xd53454,_0x53c439,_0x251547,_0x18d738){const _0x21179c=_0xe2c180,_0x5ad1db=new this[(_0x21179c(0x13c))][(_0x21179c(0x20a))](),_0x5695c4=await this[_0x21179c(0x1ac)]({'actUpdate':_0x4014fa,'cls':_0xd53454,'sc':_0x53c439,'dataBuilderOpts':_0x18d738});if(_0x18d738[_0x21179c(0x239)])return;const {existingClassItem:_0x5e176e,existingSubclassItem:_0x24cc5b}=await this[_0x21179c(0x174)]({'cls':_0xd53454,'sc':_0x53c439,'dataBuilderOpts':_0x18d738});if(_0x18d738[_0x21179c(0x239)])return;return _0x18d738[_0x21179c(0x1e9)]=_0x5e176e,_0x18d738[_0x21179c(0x1c9)]=_0x24cc5b,_0x5ad1db[_0x21179c(0x27e)]=_0x5e176e,_0x5ad1db['existingSubclassItem']=_0x24cc5b,await this[_0x21179c(0x244)]({'cls':_0xd53454,'sc':_0x53c439,'proficiencyMeta':_0x5695c4,'outCurLevelMeta':_0x5ad1db,'importOpts':_0x251547,'dataBuilderOpts':_0x18d738}),await this[_0x21179c(0x28f)]({'cls':_0xd53454,'sc':_0x53c439,'proficiencyMeta':_0x5695c4,'outCurLevelMeta':_0x5ad1db,'importOpts':_0x251547,'dataBuilderOpts':_0x18d738}),_0x5ad1db;}async[_0xe2c180(0x1ac)]({actUpdate:_0x165703,cls:_0x3c726a,sc:_0x3aaf27,dataBuilderOpts:_0x307b19}){const _0x2772d0=_0xe2c180;if(!_0x307b19['isClassImport']||!_0x307b19[_0x2772d0(0x212)])return{};switch(_0x307b19[_0x2772d0(0x2e1)]){case Charactermancer_Class_ProficiencyImportModeSelect[_0x2772d0(0x150)]:{return this[_0x2772d0(0x216)](_0x165703,_0x3c726a,_0x3aaf27,_0x307b19);}case Charactermancer_Class_ProficiencyImportModeSelect[_0x2772d0(0x2e9)]:{return this[_0x2772d0(0x157)](_0x165703,_0x3c726a,_0x3aaf27,_0x307b19);}case Charactermancer_Class_ProficiencyImportModeSelect[_0x2772d0(0x31e)]:{return{};}default:throw new Error('Unknown\x20proficiency\x20import\x20mode\x20\x22'+_0x307b19[_0x2772d0(0x2e1)]+'\x22');}}async[_0xe2c180(0x174)]({cls:_0x1bf0fa,sc:_0x897e5b,dataBuilderOpts:_0x4e18c0}){const _0x4017dc=_0xe2c180,_0x1c61ee=this[_0x4017dc(0x155)](_0x1bf0fa),_0x2df0bf=this[_0x4017dc(0x234)](_0x1bf0fa,_0x897e5b);if(!_0x1c61ee[_0x4017dc(0x362)]&&!_0x2df0bf['length'])return{};const _0x1ac1fe=_0x1bf0fa&&_0x1c61ee['length']>0x1,_0x58c013=_0x897e5b&&_0x2df0bf['length']>0x1;if(_0x1ac1fe&&_0x58c013){const [_0x419657,_0x443427]=await this[_0x4017dc(0x282)]({'cls':_0x1bf0fa,'sc':_0x897e5b,'existingClassItems':_0x1c61ee,'existingSubclassItems':_0x2df0bf});if(!_0x419657)return _0x4e18c0[_0x4017dc(0x239)]=!![],{};return _0x443427;}if(_0x1ac1fe)return{'existingClassItem':await this[_0x4017dc(0x13f)]({'dataBuilderOpts':_0x4e18c0,'clsOrSc':_0x1bf0fa,'existingItems':_0x1c61ee,'nameUnnamed':_0x4017dc(0x367)}),'existingSubclassItem':_0x2df0bf[0x0]};if(_0x58c013)return{'existingClassItem':_0x1c61ee[0x0],'existingSubclassItem':await this['_pGetUserClassSubclassItem']({'dataBuilderOpts':_0x4e18c0,'clsOrSc':_0x897e5b,'existingItems':_0x2df0bf,'nameUnnamed':_0x4017dc(0x2cc)})};return{'existingClassItem':_0x1c61ee[0x0],'existingSubclassItem':_0x2df0bf[0x0]};}async[_0xe2c180(0x244)]({cls:_0x345e03,sc:_0x568327,proficiencyMeta:_0x10a73a,outCurLevelMeta:_0x27cd82,importOpts:_0xd0cc71,dataBuilderOpts:_0x5c4784}){const _0x427059=_0xe2c180,{existingClassItem:_0x214199}=_0x27cd82,_0x8d8459=await DataConverterClass[_0x427059(0x227)](_0x345e03,{'sc':_0x568327,'filterValues':_0xd0cc71[_0x427059(0x33e)]||this[_0x427059(0x34b)][_0x427059(0x1d6)][_0x427059(0x225)](),'startingSkills':_0x10a73a[_0x427059(0x32a)]&&_0x10a73a[_0x427059(0x32a)][_0x427059(0x28e)]?Object[_0x427059(0x197)](_0x10a73a['chosenProficiencies'][_0x427059(0x28e)]):[],'proficiencyImportMode':_0x5c4784[_0x427059(0x2e1)],'level':_0x5c4784[_0x427059(0x278)],'isClsDereferenced':!![],'actor':this[_0x427059(0x37b)],'spellSlotLevelSelection':_0xd0cc71[_0x427059(0x1a6)]});if(_0x214199){let _0x512ee8=![];const _0x485526={'_id':_0x214199['id']},_0x315061=_0x8d8459[_0x427059(0x128)][_0x427059(0x354)][_0x427059(0x325)];_0x315061&&!(_0x214199[_0x427059(0x128)]['description']?.[_0x427059(0x325)]||'')[_0x427059(0x276)]()&&(_0x512ee8=!![],MiscUtil[_0x427059(0x311)](_0x485526,'system','description','value',_0x315061));let _0x537e5b=_0x214199[_0x427059(0x128)][_0x427059(0x137)];_0x537e5b&&(_0x5c4784['targetLevel']>_0x537e5b&&(_0x512ee8=!![],MiscUtil[_0x427059(0x311)](_0x485526,_0x427059(0x128),_0x427059(0x137),_0x5c4784[_0x427059(0x278)])));_0x485526[_0x427059(0x33a)]={..._0x214199[_0x427059(0x33a)],[SharedConsts[_0x427059(0x32d)]]:{..._0x214199['flags']?.[SharedConsts[_0x427059(0x32d)]],..._0x8d8459[_0x427059(0x33a)]?.[SharedConsts[_0x427059(0x32d)]]}},_0x5c4784[_0x427059(0x38b)]=_0x485526,_0x5c4784[_0x427059(0x21d)]=_0x5c4784[_0x427059(0x21d)]||_0x512ee8,_0x27cd82[_0x427059(0x337)]=_0x537e5b||0x0,_0x27cd82[_0x427059(0x27e)]=_0x214199;return;}_0x5c4784['classItemToCreate']=_0x8d8459;}async['_pImportEntry_pFillSubclassData']({cls:_0x3ceba3,sc:_0x121993,proficiencyMeta:_0xb6c6b2,outCurLevelMeta:_0x21821c,importOpts:_0xf043e2,dataBuilderOpts:_0x2c2395}){const _0xd3d691=_0xe2c180;if(!_0x121993)return;const {existingSubclassItem:_0x297b54}=_0x21821c,_0x311e64=await DataConverterClass['pGetSubclassItem'](_0x3ceba3,_0x121993,{'filterValues':_0xf043e2[_0xd3d691(0x33e)]||this['_pageFilter'][_0xd3d691(0x1d6)]['getValues'](),'proficiencyImportMode':_0x2c2395[_0xd3d691(0x2e1)],'isScDereferenced':!![],'actor':this[_0xd3d691(0x37b)]});if(_0x297b54){let _0x228307=![];const _0x469a83={'_id':_0x297b54['id']},_0x2a6de5=_0x311e64[_0xd3d691(0x128)]['description'][_0xd3d691(0x325)];_0x2a6de5&&!(_0x297b54['system'][_0xd3d691(0x354)]?.[_0xd3d691(0x325)]||'')[_0xd3d691(0x276)]()&&(_0x228307=!![],MiscUtil[_0xd3d691(0x311)](_0x469a83,_0xd3d691(0x128),_0xd3d691(0x354),_0xd3d691(0x325),_0x2a6de5));_0x2c2395[_0xd3d691(0x2e3)]=_0x469a83,_0x2c2395[_0xd3d691(0x2c4)]=_0x2c2395['isPersistSubclassItemUpdate']||_0x228307;return;}_0x2c2395[_0xd3d691(0x391)]=_0x311e64;}async[_0xe2c180(0x13f)]({dataBuilderOpts:_0x307c78,clsOrSc:_0x12fe23,existingItems:_0x438aaa,nameUnnamed:_0x4b8fbc}){const _0x271f90=_0xe2c180,_0x499d80=_0x12fe23[_0x271f90(0x238)]||_0x4b8fbc,_0xe7d695=await InputUiUtil[_0x271f90(0x25b)]({'values':_0x438aaa,'placeholder':_0x271f90(0x205),'title':'Select\x20Existing\x20Item\x20to\x20Import\x20'+_0x499d80+_0x271f90(0x2b4),'fnDisplay':_0x5d7e19=>{const _0x537253=_0x271f90;if(_0x5d7e19==null)return'(Create\x20New\x20Item)';return _0x5d7e19[_0x537253(0x238)]||_0x4b8fbc;},'isAllowNull':!![]});if(_0xe7d695==null)return _0x307c78[_0x271f90(0x239)]=!![],null;return _0x438aaa[_0xe7d695];}async[_0xe2c180(0x282)]({cls:_0x1e6a76,sc:_0x83b0f1,existingClassItems:_0x52ffe3,existingSubclassItems:_0x41429a}){const _0x80b487=_0xe2c180,_0x11da0e=(_0x1e6a76[_0x80b487(0x238)]||_0x80b487(0x140))+'\x20('+(_0x83b0f1['name']||_0x80b487(0x26c))+')',{$modalInner:_0x2371fb,doClose:_0x335ea6,pGetResolved:_0x31caf4,doAutoResize:_0x46c80a}=await UtilApplications[_0x80b487(0x287)]({'title':_0x80b487(0x361)+_0x11da0e+'\x20Levels\x20To'}),_0x1d47c1=BaseComponent[_0x80b487(0x213)]({'ixItemClass':null,'ixItemSubclass':null},'*'),_0xbc3149=$('<button\x20class=\x22btn\x20btn-primary\x20mr-2\x22>OK</button>')['click'](async()=>{const _0x2a0a13=_0x80b487,_0x7c7ffb={'existingClassItem':_0x52ffe3[_0x1d47c1[_0x2a0a13(0x233)]['ixItemSubclass']],'existingSubclassItem':_0x41429a[_0x1d47c1[_0x2a0a13(0x233)][_0x2a0a13(0x334)]]};return _0x335ea6(!![],_0x7c7ffb);}),_0x1465a8=$(_0x80b487(0x15d))['click'](()=>_0x335ea6(![])),_0x2a6aa7=ComponentUiUtil[_0x80b487(0x1c3)](_0x1d47c1,_0x80b487(0x2fe),{'values':_0x52ffe3,'fnDisplay':_0xf3aba=>_0xf3aba==null?_0x80b487(0x2f6):_0xf3aba['name']||'(Unnamed\x20class)','displayNullAs':_0x80b487(0x2f6),'isAllowNull':!![],'isSetIndexes':!![]}),_0x25e45c=ComponentUiUtil['$getSelEnum'](_0x1d47c1,'ixItemSubclass',{'values':_0x41429a,'fnDisplay':_0x14b950=>_0x14b950==null?_0x80b487(0x2f6):_0x14b950[_0x80b487(0x238)]||_0x80b487(0x26c),'displayNullAs':_0x80b487(0x2f6),'isAllowNull':!![],'isSetIndexes':!![]});return $$(_0x2371fb)`<div class="ve-flex-col">
			<label class="split-v-center mb-2"><div class="no-shrink mr-2 w-100p text-right">Class item</div>${_0x2a6aa7}</label>
			<label class="split-v-center"><div class="no-shrink mr-2 w-100p text-right">Subclass item</div>${_0x25e45c}</label>
		</div>`,$$`<div class="ve-flex-v-center ve-flex-h-right no-shrink pb-1 pt-1 px-1">${_0xbc3149}${_0x1465a8}</div>`['appendTo'](_0x2371fb),_0x2a6aa7[_0x80b487(0x2f1)](),_0x46c80a(),_0x31caf4();}async['_pImportCasterCantrips'](_0x3c8207,_0x48e418,_0x5e23aa,_0x52745b,_0x23f16b){const _0x13d7c4=_0xe2c180;if(_0x3c8207['_foundryIsSkipImportCantrips'])return;const _0x5bc882=Charactermancer_Spell_Util[_0x13d7c4(0x1ba)]({'cls':_0x3c8207,'sc':_0x48e418,'curLevel':_0x5e23aa,'targetLevel':_0x23f16b['targetLevel']});if(!_0x5bc882)return;const {maxCantripsHigh:_0x346476,deltaMaxCantrips:_0x3ddd37}=_0x5bc882;if(!_0x3ddd37||!_0x346476)return;const _0x2a9fab=await Charactermancer_Spell_Modal[_0x13d7c4(0x1d5)]({'actor':this[_0x13d7c4(0x37b)],'existingClass':_0x23f16b[_0x13d7c4(0x38b)]?_0x3c8207:null,'existingCasterMeta':Charactermancer_Spell_Util['getExistingCasterMeta']({'cls':_0x3c8207,'sc':_0x48e418,'actor':this[_0x13d7c4(0x37b)],'targetLevel':_0x23f16b[_0x13d7c4(0x278)]}),'spellDatas':(await Vetools['pGetAllSpells']({'isIncludeLoadedBrew':!![],'isApplyBlocklist':!![]}))[_0x13d7c4(0x371)],'className':_0x3c8207[_0x13d7c4(0x238)],'classSource':_0x3c8207[_0x13d7c4(0x1d3)],'brewClassSpells':_0x3c8207[_0x13d7c4(0x256)],'subclassName':_0x48e418?.['name'],'subclassSource':_0x48e418?.['source'],'brewSubclassSpells':_0x48e418?.['subclassSpells'],'brewSubSubclassSpells':_0x48e418?.[_0x13d7c4(0x223)],'maxLevel':0x0,'maxLearnedCantrips':_0x346476});if(!_0x2a9fab)return _0x52745b[_0x13d7c4(0x239)]=!![];if(_0x2a9fab===VeCt[_0x13d7c4(0x1cf)])return;await Charactermancer_Spell[_0x13d7c4(0x355)](this[_0x13d7c4(0x37b)],_0x2a9fab,{'cls':_0x3c8207,'sc':_0x48e418});}async[_0xe2c180(0x153)](_0x2116c7,_0x162647,_0x535be0,_0x69980){const _0x4ee8f2=_0xe2c180;if(_0x2116c7[_0x4ee8f2(0x164)])return;const _0x2677b4=Charactermancer_Spell_Util[_0x4ee8f2(0x1d4)]({'casterProgression':DataConverter['getMaxCasterProgression'](_0x2116c7['casterProgression'],_0x162647?.[_0x4ee8f2(0x24d)]),'curLevel':_0x535be0,'targetLevel':_0x69980['targetLevel'],'isBreakpointsOnly':!![]});if(!_0x2677b4)return;const {spellLevelLow:_0x38d651,spellLevelHigh:_0x5b318e,deltaLevels:_0x51891f}=_0x2677b4,_0x45c3e3=await InputUiUtil[_0x4ee8f2(0x2d1)]({'title':'Populate\x20Spellbook','htmlDescription':_0x4ee8f2(0x329)+(_0x51891f===0x1?'':'s')+'\x20'+(_0x51891f===0x1?_0x69980[_0x4ee8f2(0x278)]:_0x535be0+0x1+'-'+_0x69980[_0x4ee8f2(0x278)])+_0x4ee8f2(0x251),'textYes':_0x4ee8f2(0x321),'textNo':'No'});if(!_0x45c3e3)return;const _0x2d26f3=_0x162647?BrewUtil2[_0x4ee8f2(0x39a)](_0x162647['source']):BrewUtil2[_0x4ee8f2(0x39a)](_0x2116c7[_0x4ee8f2(0x1d3)]),_0x1487fc=!_0x2d26f3&&(_0x162647?SourceUtil[_0x4ee8f2(0x167)](_0x162647[_0x4ee8f2(0x1d3)]):SourceUtil['isNonstandardSource'](_0x2116c7[_0x4ee8f2(0x1d3)])),_0x1decf9=(await Vetools[_0x4ee8f2(0x363)]({'isFilterNonStandard':!_0x1487fc,'additionalSourcesBrew':_0x2d26f3?this[_0x4ee8f2(0x2f2)](_0x2116c7,_0x162647):null,'isApplyBlocklist':!![]}))[_0x4ee8f2(0x371)],_0x46ea71=await Charactermancer_Class_Util[_0x4ee8f2(0x24e)](_0x1decf9,_0x2116c7,_0x38d651,_0x5b318e);if(!_0x46ea71[_0x4ee8f2(0x362)])return;const {ImportListSpell:_0x11b2a5}=await import('./ImportListSpell.js'),_0x54de13=new _0x11b2a5({'actor':this[_0x4ee8f2(0x37b)]});await _0x54de13[_0x4ee8f2(0x319)]();for(const _0x3356b9 of _0x46ea71){const _0x403492=DataConverterSpell[_0x4ee8f2(0x396)](this[_0x4ee8f2(0x37b)],_0x3356b9[_0x4ee8f2(0x238)],_0x3356b9[_0x4ee8f2(0x1d3)]);if(_0x403492)continue;await _0x54de13[_0x4ee8f2(0x1c0)](_0x3356b9,{'opts_pGetSpellItem':{...await UtilActors[_0x4ee8f2(0x2d4)](),'ability':_0x69980[_0x4ee8f2(0x372)]}});}}[_0xe2c180(0x2f2)](_0x2208a5,_0x3e46cd){const _0x3b037e=_0xe2c180,_0x4790fe=new Set();if(!Parser['SOURCE_JSON_TO_ABV'][_0x2208a5[_0x3b037e(0x1d3)]])_0x4790fe[_0x3b037e(0x301)](_0x2208a5[_0x3b037e(0x1d3)]);if(_0x3e46cd&&!Parser['SOURCE_JSON_TO_ABV'][_0x3e46cd['source']])_0x4790fe[_0x3b037e(0x301)](_0x3e46cd[_0x3b037e(0x1d3)]);return _0x2208a5[_0x3b037e(0x256)]&&_0x2208a5['classSpells'][_0x3b037e(0x383)](_0x1bfac6=>_0x1bfac6['source']&&!Parser[_0x3b037e(0x2ed)][_0x1bfac6['source']])['forEach'](({source:_0x2137eb})=>_0x4790fe[_0x3b037e(0x301)](_0x2137eb)),_0x3e46cd&&_0x3e46cd[_0x3b037e(0x30f)]&&_0x3e46cd[_0x3b037e(0x30f)][_0x3b037e(0x383)](_0x499ebe=>_0x499ebe[_0x3b037e(0x1d3)]&&!Parser['SOURCE_JSON_TO_ABV'][_0x499ebe[_0x3b037e(0x1d3)]])[_0x3b037e(0x133)](({source:_0x24ac62})=>_0x4790fe[_0x3b037e(0x301)](_0x24ac62)),[..._0x4790fe];}async[_0xe2c180(0x154)](_0x493692,_0x26539a,_0x3d7f49,_0x315b02){const _0x3e135d=_0xe2c180,_0x335bce=Charactermancer_Spell_Util[_0x3e135d(0x1d4)]({'casterProgression':_0x493692[_0x3e135d(0x24d)],'curLevel':_0x3d7f49,'targetLevel':_0x315b02[_0x3e135d(0x278)]}),_0x58939a=await Charactermancer_AdditionalSpellsSelect[_0x3e135d(0x1d5)]({'additionalSpells':_0x493692[_0x3e135d(0x381)],'sourceHintText':_0x493692[_0x3e135d(0x238)],'curLevel':_0x3d7f49,'targetLevel':_0x315b02[_0x3e135d(0x278)],'spellLevelLow':_0x335bce?_0x335bce[_0x3e135d(0x24b)]:null,'spellLevelHigh':_0x335bce?_0x335bce[_0x3e135d(0x2f9)]:null,'isStandalone':!![]});if(_0x58939a==null)return _0x315b02[_0x3e135d(0x239)]=!![];_0x58939a!==VeCt[_0x3e135d(0x1cf)]&&await Charactermancer_AdditionalSpellsSelect[_0x3e135d(0x355)](this['_actor'],_0x58939a,{'abilityAbv':_0x493692[_0x3e135d(0x372)]});for(const _0x5f0a5f of _0x26539a){const _0x3fa553=Charactermancer_Spell_Util[_0x3e135d(0x1d4)]({'casterProgression':_0x5f0a5f?.[_0x3e135d(0x24d)]||_0x493692[_0x3e135d(0x24d)],'curLevel':_0x3d7f49,'targetLevel':_0x315b02[_0x3e135d(0x278)]}),_0x5359e2=await Charactermancer_AdditionalSpellsSelect[_0x3e135d(0x1d5)]({'additionalSpells':_0x5f0a5f[_0x3e135d(0x381)],'sourceHintText':_0x5f0a5f[_0x3e135d(0x238)],'curLevel':_0x3d7f49,'targetLevel':_0x315b02['targetLevel'],'spellLevelLow':_0x3fa553?_0x3fa553['spellLevelLow']:null,'spellLevelHigh':_0x3fa553?_0x3fa553[_0x3e135d(0x2f9)]:null,'isStandalone':!![]});if(_0x5359e2==null)return _0x315b02[_0x3e135d(0x239)]=!![];if(_0x5359e2===VeCt[_0x3e135d(0x1cf)])continue;await Charactermancer_AdditionalSpellsSelect['pApplyFormDataToActor'](this['_actor'],_0x5359e2,{'abilityAbv':_0x5f0a5f[_0x3e135d(0x372)]});}}async[_0xe2c180(0x1b1)](_0x7fd187,_0xc42af8,_0x35b827,_0x2b0b56,_0x298fc0,_0x52122a){const _0x1e8fac=_0xe2c180;if(_0x7fd187['_foundryAllFeatures']){await this['_pImportEntry_pFillItemArrayPredefinedFeatures']({'allPreloadedFeatures':_0x7fd187[_0x1e8fac(0x222)],'cls':_0x7fd187,'sc':_0xc42af8,'importOpts':_0x298fc0,'dataBuilderOpts':_0x52122a}),this['_pImportEntry_handleConDifference']({'conInitial':_0x7fd187[_0x1e8fac(0x269)],'conFinal':_0x7fd187[_0x1e8fac(0x1e5)],'isConPreApplied':!![],'dataBuilderOpts':_0x52122a});return;}const _0x4942b5=_0x35b827[_0x1e8fac(0x383)](_0x5dc85a=>_0x2b0b56['includes'](_0x5dc85a['level']-0x1)),_0x49ed82=await this[_0x1e8fac(0x18f)](_0x4942b5,_0x298fc0,_0x52122a);if(_0x52122a[_0x1e8fac(0x239)])return;this[_0x1e8fac(0x2dc)]({'conInitial':_0x49ed82[_0x1e8fac(0x34e)],'conFinal':_0x49ed82[_0x1e8fac(0x1c4)],'dataBuilderOpts':_0x52122a});}async[_0xe2c180(0x1ea)]({allPreloadedFeatures:_0x1986f1,cls:_0x484f57,sc:_0x582531,importOpts:_0x58373e,dataBuilderOpts:_0x558af5}){const _0x694ffd=_0xe2c180,{ImportListClassFeature:_0x25bef4}=await import(_0x694ffd(0x299)),{ImportListOptionalFeature:_0x2148e4}=await import(_0x694ffd(0x2a1)),_0x440b84=new _0x25bef4({'actor':this['_actor']});await _0x440b84['pInit']();const _0x1d7236=new _0x2148e4({'actor':this[_0x694ffd(0x37b)]});await _0x1d7236[_0x694ffd(0x319)]();for(const _0x58e8cb of _0x1986f1){if(_0x58e8cb['_foundryIsIgnoreFeature'])continue;switch(_0x58e8cb['type']){case _0x694ffd(0x2a0):{const _0x2e8825=await _0x1d7236[_0x694ffd(0x1c0)](_0x58e8cb[_0x694ffd(0x193)],{'isCharactermancer':!![],'isLeaf':!![]}),_0x20895b=this[_0x694ffd(0x13c)]['_getLevelledEmbeddedDocuments']({'importSummary':_0x2e8825,'level':_0x58e8cb[_0x694ffd(0x193)]['level']}),_0x245d8c=_0x58e8cb[_0x694ffd(0x193)]?.['ancestorSubclassName']?_0x558af5[_0x694ffd(0x206)]:_0x558af5[_0x694ffd(0x2e7)];_0x245d8c['push'](..._0x20895b);break;}case _0x694ffd(0x1e6):{const _0x5b816d=await _0x440b84['pImportEntry'](_0x58e8cb['entity'],{'isCharactermancer':!![],'isLeaf':!![],'spellcastingAbilityAbv':_0x484f57[_0x694ffd(0x372)]});_0x558af5[_0x694ffd(0x2e7)][_0x694ffd(0x33b)](...this[_0x694ffd(0x13c)][_0x694ffd(0x35b)]({'importSummary':_0x5b816d,'level':_0x58e8cb['entity'][_0x694ffd(0x364)]}));break;}case _0x694ffd(0x145):{const _0x209400=await _0x440b84[_0x694ffd(0x1c0)](_0x58e8cb[_0x694ffd(0x193)],{'isCharactermancer':!![],'isLeaf':!![],'spellcastingAbilityAbv':_0x582531?.[_0x694ffd(0x372)]});_0x558af5[_0x694ffd(0x206)][_0x694ffd(0x33b)](...this['constructor'][_0x694ffd(0x35b)]({'importSummary':_0x209400,'level':_0x58e8cb[_0x694ffd(0x193)][_0x694ffd(0x364)]}));break;}default:throw new Error('Unhandled\x20feature\x20type\x20\x22'+_0x58e8cb[_0x694ffd(0x14d)]+'\x22');}}}async['_pImportEntry_pFillItemArrayFeatures'](_0x3e1c87,_0x1ea74a,_0xe04c5){const _0x1a1fb5=_0xe2c180,_0x419ec8=Charactermancer_Util[_0x1a1fb5(0x2ca)](this[_0x1a1fb5(0x37b)])[_0x1a1fb5(0x181)],_0x5a6e5b=new Charactermancer_Class_Util[(_0x1a1fb5(0x236))](this[_0x1a1fb5(0x37b)]),{ImportListClassFeature:_0x54e7dc}=await import(_0x1a1fb5(0x299)),_0x5d1894=new _0x54e7dc({'actor':this['_actor']});await _0x5d1894[_0x1a1fb5(0x319)]();for(const _0x240d1e of _0x3e1c87){const _0x28ae36=(_0x240d1e['name']||'')[_0x1a1fb5(0x37a)]()[_0x1a1fb5(0x276)]();if(_0x28ae36===_0x1a1fb5(0x2e5)){const _0x4faafe=new ImportListClass[(_0x1a1fb5(0x1a1))](this[_0x1a1fb5(0x37b)],_0x240d1e['level'],_0xe04c5);_0x4faafe[_0x1a1fb5(0x387)](!![]);const _0x1bbeb7=await _0x4faafe['pWaitForUserInput']();if(_0x1bbeb7){const _0x3a74b7=new ImportListFeat({'actor':this[_0x1a1fb5(0x37b)]});await _0x3a74b7[_0x1a1fb5(0x1c0)](_0x1bbeb7,{'isCharactermancer':_0x1ea74a[_0x1a1fb5(0x392)]});}continue;}if(_0x240d1e[_0x1a1fb5(0x1b9)]?.['length']){_0x240d1e[_0x1a1fb5(0x1b9)]=_0x240d1e[_0x1a1fb5(0x1b9)][_0x1a1fb5(0x383)](_0x36c96e=>!_0x36c96e?.[_0x1a1fb5(0x13b)]);if(!_0x240d1e[_0x1a1fb5(0x1b9)]['length'])continue;}const _0x44e451=await _0x5d1894[_0x1a1fb5(0x1c0)](_0x240d1e,{'isCharactermancer':_0x1ea74a['isCharactermancer'],'isPreLoadedFeature':!![],'featureEntriesPageFilter':this['_pageFilter'],'featureEntriesPageFilterValues':_0x1ea74a[_0x1a1fb5(0x33e)]||this[_0x1a1fb5(0x34b)][_0x1a1fb5(0x1d6)][_0x1a1fb5(0x225)](),'existingFeatureChecker':_0x5a6e5b,'spellcastingAbilityAbv':_0xe04c5['spellcastingAbility']}),_0x33ae2a=this[_0x1a1fb5(0x13c)][_0x1a1fb5(0x35b)]({'importSummary':_0x44e451,'level':_0x240d1e[_0x1a1fb5(0x364)]});if(_0x240d1e[_0x1a1fb5(0x1e6)])_0xe04c5['importedClassFeatureLevelledEmbeddedDocuments']['push'](..._0x33ae2a);else _0x240d1e[_0x1a1fb5(0x145)]?_0xe04c5[_0x1a1fb5(0x206)]['push'](..._0x33ae2a):console[_0x1a1fb5(0x228)](...LGT,_0x1a1fb5(0x285));}if(_0xe04c5[_0x1a1fb5(0x239)])return;const _0x8cd43f=Charactermancer_Util['getCurrentAbilityScores'](this[_0x1a1fb5(0x37b)])[_0x1a1fb5(0x181)];return{'conInitial':_0x419ec8,'conFinal':_0x8cd43f};}static[_0xe2c180(0x35b)]({importSummary:_0x30b5e6,level:_0x520ffb}){const _0x4dd63e=_0xe2c180;return _0x30b5e6[_0x4dd63e(0x33f)]['filter'](_0x17fbe0=>_0x17fbe0['embeddedDocument'])['map'](_0x57badb=>new UtilAdvancements[(_0x4dd63e(0x1ee))]({'embeddedDocument':_0x57badb[_0x4dd63e(0x1f0)],'level':_0x520ffb}));}[_0xe2c180(0x2dc)]({conInitial:_0x13f76b,conFinal:_0x391748,dataBuilderOpts:_0x537385,isConPreApplied:_0x2928f0}){const _0xe9c51b=_0xe2c180;if(_0x13f76b==null||_0x391748==null||_0x391748===_0x13f76b)return;const _0x2c87f1=Parser[_0xe9c51b(0x209)](_0x13f76b),_0x207e32=Parser[_0xe9c51b(0x209)](_0x391748),_0x576459=(_0x537385[_0xe9c51b(0x2ce)]+(_0x2928f0?0x0:_0x537385['numLevels']))*(_0x207e32-_0x2c87f1),{value:_0x4c5ee2,max:_0x4873f4}=Charactermancer_Util[_0xe9c51b(0x136)](this[_0xe9c51b(0x37b)]),_0x65d823=_0x4c5ee2+_0x576459,_0x502271=_0x4873f4+_0x576459;MiscUtil[_0xe9c51b(0x311)](_0x537385[_0xe9c51b(0x333)],_0xe9c51b(0x128),_0xe9c51b(0x250),'hp',_0xe9c51b(0x325),_0x65d823),MiscUtil[_0xe9c51b(0x311)](_0x537385[_0xe9c51b(0x333)],_0xe9c51b(0x128),_0xe9c51b(0x250),'hp',_0xe9c51b(0x2e8),_0x502271);}async[_0xe2c180(0x29a)](_0x5f1d61,_0x149917,_0x2e833f){const _0x13daf5=_0xe2c180;for(const {dataBuilderProp:_0x4fe243,dataBuilderPropOut:_0x1cec3a}of[{'dataBuilderProp':_0x13daf5(0x30b),'dataBuilderPropOut':_0x13daf5(0x1e9)},{'dataBuilderProp':_0x13daf5(0x391),'dataBuilderPropOut':_0x13daf5(0x1c9)}]){if(!_0x2e833f[_0x4fe243])continue;const _0x202905=await UtilActors['pAddActorItems'](this[_0x13daf5(0x37b)],[_0x2e833f[_0x4fe243]]);_0x2e833f[_0x1cec3a]=DataConverter[_0x13daf5(0x1a3)](_0x202905,_0x2e833f[_0x4fe243])?.['document'];}const _0x48adf0=[_0x2e833f[_0x13daf5(0x21d)]?_0x2e833f[_0x13daf5(0x38b)]:null,_0x2e833f['isPersistSubclassItemUpdate']?_0x2e833f[_0x13daf5(0x2e3)]:null][_0x13daf5(0x383)](Boolean);_0x48adf0['length']&&await UtilDocuments[_0x13daf5(0x22c)](this[_0x13daf5(0x37b)],_0x48adf0,{'propData':'items','ClsEmbed':Item});}async[_0xe2c180(0x20b)](){const _0x1a61ba=_0xe2c180;if(!Config['get'](this[_0x1a61ba(0x148)],_0x1a61ba(0x347)))return;const _0x5050b7=MiscUtil['get'](this[_0x1a61ba(0x37b)],_0x1a61ba(0x1fc))||[],_0xe10e91=_0x5050b7[_0x1a61ba(0x2c1)](_0x3906e5=>_0x3906e5[_0x1a61ba(0x238)][_0x1a61ba(0x183)]('(')[0x0][_0x1a61ba(0x276)]()[_0x1a61ba(0x37a)]()===ImportListClass[_0x1a61ba(0x317)][_0x1a61ba(0x37a)]());if(_0xe10e91)return;const _0x151dd2={'name':'Unarmed\x20Strike','source':SRC_PHB,'page':0x95,'srd':!![],'type':'M','rarity':_0x1a61ba(0x180),'weaponCategory':'simple','foundrySystem':{'equipped':!![],'damage.parts':[['1\x20+\x20@mod',_0x1a61ba(0x2a2)]],'ability':_0x1a61ba(0x2c8)}},{ChooseImporter:_0x4a47b6}=await import(_0x1a61ba(0x13a)),_0x2ea6eb=_0x4a47b6[_0x1a61ba(0x192)](_0x1a61ba(0x125),this['_actor']);await _0x2ea6eb[_0x1a61ba(0x319)](),await _0x2ea6eb[_0x1a61ba(0x1c0)](_0x151dd2);}async[_0xe2c180(0x12b)](_0x43d7a9){const _0x5e213d=_0xe2c180;_0x43d7a9[_0x5e213d(0x2e7)][_0x5e213d(0x362)]&&await UtilAdvancements[_0x5e213d(0x17a)]({'actor':this[_0x5e213d(0x37b)],'parentEmbeddedDocument':_0x43d7a9[_0x5e213d(0x1e9)],'childLevelledEmbeddedDocuments':_0x43d7a9[_0x5e213d(0x2e7)]}),_0x43d7a9[_0x5e213d(0x206)][_0x5e213d(0x362)]&&await UtilAdvancements[_0x5e213d(0x17a)]({'actor':this['_actor'],'parentEmbeddedDocument':_0x43d7a9[_0x5e213d(0x1c9)],'childLevelledEmbeddedDocuments':_0x43d7a9[_0x5e213d(0x206)]});}async['_pImportEntry_pFinalise'](_0x4ab32f){const _0x210f2c=_0xe2c180;if(_0x4ab32f[_0x210f2c(0x32c)]?.[_0x210f2c(0x2fd)]?.['currency'])MiscUtil['set'](_0x4ab32f[_0x210f2c(0x333)],_0x210f2c(0x128),_0x210f2c(0x175),_0x4ab32f[_0x210f2c(0x32c)][_0x210f2c(0x2fd)]['currency']);await this[_0x210f2c(0x31b)](_0x4ab32f[_0x210f2c(0x333)]),await Charactermancer_StartingEquipment[_0x210f2c(0x39d)](this[_0x210f2c(0x37b)],_0x4ab32f[_0x210f2c(0x32c)]);if(_0x4ab32f[_0x210f2c(0x2fb)][_0x210f2c(0x362)])throw new Error(_0x210f2c(0x2ba));Config[_0x210f2c(0x2ad)](_0x210f2c(0x27b),Config[_0x210f2c(0x292)]({'actorType':this['_actor']?.[_0x210f2c(0x14d)]}))===ConfigConsts['C_SPELL_POINTS_MODE__ENABLED_AND_UNLIMITED_SLOTS']&&(!UtilActors['hasActorSpellPointSlotEffect']({'actor':this[_0x210f2c(0x37b)]})&&await UtilActors[_0x210f2c(0x17b)](this[_0x210f2c(0x37b)],UtilActors[_0x210f2c(0x390)]({'actor':this[_0x210f2c(0x37b)],'sheetIem':_0x4ab32f['classItem']})),Object['assign'](_0x4ab32f[_0x210f2c(0x2b1)],foundry[_0x210f2c(0x253)]['flattenObject'](UtilActors['getActorSpellPointsSlotsUpdateSys']())));Util[_0x210f2c(0x134)](_0x4ab32f[_0x210f2c(0x2b1)]);if(Object['keys'](_0x4ab32f[_0x210f2c(0x2b1)])['length'])await UtilDocuments[_0x210f2c(0x2ff)](this[_0x210f2c(0x37b)],_0x4ab32f[_0x210f2c(0x2b1)]);await UtilActors[_0x210f2c(0x358)]({'actor':this['_actor']});}async['_pValidateUserLevelIndices'](_0x4b30c3,_0x54c01c){const _0x1698ba=_0xe2c180;if(_0x4b30c3['length']>0x1)return;if(_0x4b30c3[0x0]===0x0)return;const _0x2dae8d=this['_actor'][_0x1698ba(0x1fc)]['filter'](_0x572386=>_0x572386[_0x1698ba(0x14d)]==='class');if(_0x2dae8d[_0x1698ba(0x362)])return;const _0x316e5e=_0x4b30c3[0x0]+0x1,_0x43fa98=await InputUiUtil[_0x1698ba(0x2d1)]({'title':'Import\x20Lower\x20Levels?','htmlDescription':'You\x20have\x20selected\x20a\x20single\x20level\x20to\x20import\x20(level\x20'+_0x316e5e+_0x1698ba(0x322)+(_0x316e5e===0x2?'':'s')+'\x20'+(_0x316e5e===0x2?'1':'1-'+(_0x316e5e-0x1))+_0x1698ba(0x320),'textYes':_0x1698ba(0x2e2)+_0x316e5e,'textNo':_0x1698ba(0x23d)+_0x316e5e});if(_0x43fa98==null){_0x54c01c[_0x1698ba(0x239)]=!![];return;}if(_0x43fa98){const _0x3a3610=_0x4b30c3[0x0];for(let _0x5b2592=0x0;_0x5b2592<=_0x3a3610;++_0x5b2592){_0x4b30c3[_0x5b2592]=_0x5b2592;}}}async[_0xe2c180(0x30d)](_0x34f389,_0x53e672){const _0x480061=_0xe2c180;if(!_0x34f389[_0x480061(0x1dc)])return;const _0x5a8c2c=new Charactermancer_StartingEquipment({'actor':this[_0x480061(0x37b)],'startingEquipment':_0x34f389[_0x480061(0x1dc)],'appSubTitle':_0x34f389[_0x480061(0x238)],'equiSpecialSource':_0x34f389[_0x480061(0x1d3)],'equiSpecialPage':_0x34f389[_0x480061(0x264)]}),_0x122f38=await _0x5a8c2c['pWaitForUserInput']();if(_0x122f38==null)return _0x53e672['isCancelled']=!![];if(_0x122f38===VeCt['SYM_UI_SKIP'])return;_0x53e672[_0x480061(0x32c)]=_0x122f38;}static async[_0xe2c180(0x335)](){const _0x14caab=_0xe2c180,_0x54cc05=new ModalFilterClasses({'namespace':ModalFilterClasses[_0x14caab(0x238)]+_0x14caab(0x258)});return await _0x54cc05[_0x14caab(0x15b)](),_0x54cc05[_0x14caab(0x26a)][_0x14caab(0x1d6)][_0x14caab(0x225)]();}['_getAsTag'](_0x43b07a){const _0x27bdf8=_0xe2c180,_0x23a6d4=this[_0x27bdf8(0x12f)][_0x27bdf8(0x199)][_0x43b07a['data'][_0x27bdf8(0x280)]],_0x2ad364=_0x23a6d4[_0x27bdf8(0x185)][_0x43b07a['data'][_0x27bdf8(0x308)]],_0x5e1861=DataUtil[_0x27bdf8(0x2b3)][_0x27bdf8(0x2ab)](_0x23a6d4,'class');return _0x27bdf8(0x265)+_0x5e1861+']';}}ImportListClass[_0xe2c180(0x1a4)]=_0xe2c180(0x204),ImportListClass['_ITEM_NAME_UNARMED_STRIKE']=_0xe2c180(0x27a),ImportListClass[_0xe2c180(0x14e)]=class extends ImportListCharacter[_0xe2c180(0x14e)]{constructor(_0x40b623){const _0x5ae5d9=_0xe2c180;super(_0x40b623),_0x40b623=_0x40b623||{},this[_0x5ae5d9(0x29c)]=!!_0x40b623[_0x5ae5d9(0x29c)],this[_0x5ae5d9(0x333)]={},this[_0x5ae5d9(0x2b1)]={},this[_0x5ae5d9(0x30b)]=null,this[_0x5ae5d9(0x38b)]=null,this[_0x5ae5d9(0x21d)]=![],this[_0x5ae5d9(0x391)]=null,this[_0x5ae5d9(0x2e3)]=null,this[_0x5ae5d9(0x2c4)]=![],this[_0x5ae5d9(0x1e9)]=null,this['subclassItem']=null,this[_0x5ae5d9(0x32c)]=null,this['targetLevel']=null,this['numLevels']=null,this[_0x5ae5d9(0x2ce)]=null,this[_0x5ae5d9(0x212)]=null,this[_0x5ae5d9(0x2e1)]=null,this['hpIncreaseMode']=null,this[_0x5ae5d9(0x1aa)]=null,this[_0x5ae5d9(0x2e7)]=[],this[_0x5ae5d9(0x206)]=[];}},ImportListClass[_0xe2c180(0x245)]=class{static[_0xe2c180(0x305)]({allContentMerged:_0x3652ba}){const _0x1d46b2=_0xe2c180;return _0x3652ba=MiscUtil[_0x1d46b2(0x149)](_0x3652ba),Object[_0x1d46b2(0x2d6)](_0x3652ba)[_0x1d46b2(0x133)](([_0x42cba6,_0x52fcd3])=>{const _0x524a4a=_0x1d46b2;if(_0x42cba6!==_0x524a4a(0x199))return;if(!(_0x52fcd3 instanceof Array))return;const _0x496b6d=[],_0x530316=new Set();_0x52fcd3[_0x524a4a(0x133)](_0x2d0a19=>{const _0x53f5ad=_0x524a4a,_0x124194=UrlUtil[_0x53f5ad(0x397)][UrlUtil[_0x53f5ad(0x129)]](_0x2d0a19);if(_0x530316[_0x53f5ad(0x34f)](_0x124194)){if(_0x2d0a19[_0x53f5ad(0x185)]?.['length']){const _0x476ad4=_0x496b6d['find'](_0x2a2f81=>UrlUtil[_0x53f5ad(0x397)][UrlUtil[_0x53f5ad(0x129)]](_0x2a2f81)===_0x124194);(_0x476ad4[_0x53f5ad(0x185)]=_0x476ad4['subclasses']||[])[_0x53f5ad(0x33b)](..._0x2d0a19['subclasses']);}return;}_0x530316[_0x53f5ad(0x301)](_0x124194),_0x496b6d[_0x53f5ad(0x33b)](_0x2d0a19);}),_0x3652ba[_0x42cba6]=_0x496b6d;}),_0x3652ba;}static[_0xe2c180(0x35e)]({dedupedAllContentMerged:_0x2716c7}){const _0x530549=_0xe2c180;return _0x2716c7={..._0x2716c7},Object[_0x530549(0x2d6)](_0x2716c7)['forEach'](([_0x4b5af2,_0x44dd59])=>{const _0x18953=_0x530549;if(_0x4b5af2!==_0x18953(0x199))return;if(!(_0x44dd59 instanceof Array))return;const _0x52b3b3=_0x44dd59['filter'](_0x1d183f=>{const _0x1336ab=_0x18953;if(_0x1d183f[_0x1336ab(0x1d3)]===VeCt[_0x1336ab(0x296)])return![];return!ExcludeUtil['isExcluded'](UrlUtil[_0x1336ab(0x397)]['class'](_0x1d183f),'class',_0x1d183f[_0x1336ab(0x1d3)],{'isNoCount':!![]});});_0x52b3b3[_0x18953(0x133)](_0x4b15f7=>{const _0x3f50c0=_0x18953;if(!_0x4b15f7['classFeatures'])return;_0x4b15f7['classFeatures']=_0x4b15f7[_0x3f50c0(0x1bc)]['filter'](_0x1c8861=>!ExcludeUtil[_0x3f50c0(0x16b)](_0x1c8861[_0x3f50c0(0x297)],_0x3f50c0(0x1e6),_0x1c8861['source'],{'isNoCount':!![]}));}),_0x52b3b3['forEach'](_0x13732d=>{const _0x2c2297=_0x18953;if(!_0x13732d[_0x2c2297(0x185)])return;_0x13732d[_0x2c2297(0x185)]=_0x13732d[_0x2c2297(0x185)]['filter'](_0x37e198=>{const _0xea7d43=_0x2c2297;if(_0x37e198[_0xea7d43(0x1d3)]===VeCt[_0xea7d43(0x296)])return![];return!ExcludeUtil[_0xea7d43(0x16b)](UrlUtil[_0xea7d43(0x397)]['subclass'](_0x37e198),'subclass',_0x37e198['source'],{'isNoCount':!![]});}),_0x13732d[_0x2c2297(0x185)][_0x2c2297(0x133)](_0x460d6f=>{const _0x5d0439=_0x2c2297;if(!_0x460d6f[_0x5d0439(0x380)])return;_0x460d6f[_0x5d0439(0x380)]=_0x460d6f['subclassFeatures'][_0x5d0439(0x383)](_0x59b1d6=>!ExcludeUtil[_0x5d0439(0x16b)](_0x59b1d6[_0x5d0439(0x297)],_0x5d0439(0x145),_0x59b1d6['source'],{'isNoCount':!![]}));});}),_0x2716c7[_0x4b5af2]=_0x52b3b3;}),_0x2716c7;}},ImportListClass['AbilityScoreIncrease']=class extends Application{constructor(_0x5c1111,_0xfd3412,_0x409bf8){const _0xb3dcf3=_0xe2c180;super({'title':_0xb3dcf3(0x2d8)+_0xfd3412,'template':SharedConsts[_0xb3dcf3(0x384)]+_0xb3dcf3(0x20d),'width':0x280,'resizable':!![]}),this['_dataBuilderOpts']=_0x409bf8,this[_0xb3dcf3(0x218)]=null,this[_0xb3dcf3(0x1ef)]=null,this[_0xb3dcf3(0x1a0)]=new Promise((_0x2cf426,_0x34b836)=>{const _0xb30a1b=_0xb3dcf3;this[_0xb30a1b(0x218)]=_0x2cf426,this['_reject']=_0x34b836;}),this[_0xb3dcf3(0x24f)]=new ImportListClass[(_0xb3dcf3(0x1a1))][(_0xb3dcf3(0x184))](_0x5c1111,_0x409bf8,this['close'][_0xb3dcf3(0x1bf)](this));}[_0xe2c180(0x2db)](_0x588cfb){const _0x6f3618=_0xe2c180;this[_0x6f3618(0x24f)]['render'](_0x588cfb);}async[_0xe2c180(0x331)](){const _0x412025=_0xe2c180;await super[_0x412025(0x331)]();if(!this[_0x412025(0x24f)][_0x412025(0x1be)])this[_0x412025(0x33c)][_0x412025(0x239)]=!![];this['_resolve'](this[_0x412025(0x24f)][_0x412025(0x350)]());}[_0xe2c180(0x2f7)](){const _0x1f31a7=_0xe2c180;return this[_0x1f31a7(0x1a0)];}},ImportListClass[_0xe2c180(0x1a1)][_0xe2c180(0x184)]=class extends BaseComponent{constructor(_0x42fb53,_0x4d448a,_0x3b161b){const _0x26296a=_0xe2c180;super(),this[_0x26296a(0x37b)]=_0x42fb53,this[_0x26296a(0x33c)]=_0x4d448a,this[_0x26296a(0x243)]=_0x3b161b,this[_0x26296a(0x1e7)]=![],Object[_0x26296a(0x1ae)](this[_0x26296a(0x165)],Charactermancer_Util[_0x26296a(0x377)](this[_0x26296a(0x37b)]));}get[_0xe2c180(0x1be)](){const _0x404ad6=_0xe2c180;return this[_0x404ad6(0x1e7)];}[_0xe2c180(0x387)](_0x6cfacc){const _0x5229ad=_0xe2c180,_0x57a73d=$(_0x5229ad(0x186))['click'](()=>this[_0x5229ad(0x233)][_0x5229ad(0x1cc)]=_0x5229ad(0x389)),_0x2de070=$(_0x5229ad(0x16d))[_0x5229ad(0x247)](()=>this[_0x5229ad(0x233)]['mode']=_0x5229ad(0x275)),_0x35dbd4=$(_0x5229ad(0x2bd)),_0x1bcd83=$(_0x5229ad(0x2bd)),_0x122460=()=>{const _0x42f77b=_0x5229ad,_0x249252=this[_0x42f77b(0x233)][_0x42f77b(0x1cc)]===_0x42f77b(0x389);_0x57a73d['toggleClass'](_0x42f77b(0x23e),_0x249252),_0x2de070[_0x42f77b(0x22d)](_0x42f77b(0x23e),!_0x249252),_0x35dbd4[_0x42f77b(0x22a)](_0x249252),_0x1bcd83[_0x42f77b(0x22a)](!_0x249252);};_0x122460(),this[_0x5229ad(0x1fe)](_0x5229ad(0x1cc),_0x122460),this[_0x5229ad(0x20e)](_0x35dbd4),this[_0x5229ad(0x2c5)](_0x1bcd83),$$(_0x6cfacc)`<div class="ve-flex-col w-100 h-100">
			<div class="ve-flex no-shrink btn-group mb-1">${_0x57a73d}${_0x2de070}</div>
			${_0x35dbd4}
			${_0x1bcd83}
		</div>`;}[_0xe2c180(0x20e)](_0x48e1c7){const _0x300d1a=_0xe2c180,_0xa0bfe3=[_0x300d1a(0x2c8),_0x300d1a(0x36c),_0x300d1a(0x181),_0x300d1a(0x1dd),_0x300d1a(0x220),_0x300d1a(0x2c3)][_0x300d1a(0x1f6)](_0x33998f=>{const _0x505be5=_0x300d1a,_0x43ed7c=$(_0x505be5(0x14f)),_0x333bf4=$(_0x505be5(0x14f)),_0x439b8b=()=>{const _0x4c5ebc=_0x505be5;_0x43ed7c[_0x4c5ebc(0x314)](this['_state'][_0x33998f]),_0x333bf4[_0x4c5ebc(0x314)](Parser[_0x4c5ebc(0x132)](this['_state'][_0x33998f]));};this['_addHookBase'](_0x33998f,_0x439b8b),_0x439b8b();const _0x2c3532=_0x33998f+_0x505be5(0x35d),{$wrp:_0x2c4e60,$ipt:_0x34046d}=ComponentUiUtil[_0x505be5(0x336)](this,_0x2c3532,0x0,{'min':0x0,'fallbackOnNaN':0x0,'html':_0x505be5(0x195),'asMeta':!![],'decorationRight':_0x505be5(0x38e),'decorationLeft':_0x505be5(0x1f5)});_0x34046d[_0x505be5(0x247)](()=>_0x34046d['select']());const _0x465485=$(_0x505be5(0x14f)),_0x3bfa43=$('<div\x20class=\x22col-2\x20text-center\x22></div>'),_0x404869=()=>{const _0x9ef211=_0x505be5,_0x43cb26=this[_0x9ef211(0x233)][_0x33998f]+this['_state'][_0x2c3532];_0x465485['text'](_0x43cb26),_0x3bfa43[_0x9ef211(0x314)](Parser[_0x9ef211(0x132)](_0x43cb26)),_0x465485['toggleClass'](_0x9ef211(0x146),_0x43cb26>0x14)[_0x9ef211(0x24a)](_0x43cb26>0x14?_0x9ef211(0x1a8):'');};this[_0x505be5(0x1fe)](_0x2c3532,_0x404869),_0x404869();const _0x99da3f=$$`<div class="ve-flex w-100 my-1">
				<div class="col-1 text-right bold">${_0x33998f[_0x505be5(0x229)]()}</div>
				${_0x43ed7c}
				${_0x333bf4}
				<div class="col-2">${_0x2c4e60}</div>
				<div class="col-1 text-center">=</div>
				${_0x465485}
				${_0x3bfa43}
			</div>`;return{'$row':_0x99da3f,'$iptBonus':_0x34046d};}),_0x475209=$('<div\x20class=\x22text-center\x22\x20title=\x22Remaining\x22></div>'),_0x3e9316=()=>{const _0x2ca31a=_0x300d1a,_0x1b475d=['strBonus',_0x2ca31a(0x2b8),_0x2ca31a(0x158),_0x2ca31a(0x211),'wisBonus','chaBonus'][_0x2ca31a(0x1f6)](_0x5e7b43=>this[_0x2ca31a(0x233)][_0x5e7b43])['reduce']((_0x4c3c3d,_0x9b3b2e)=>_0x4c3c3d+_0x9b3b2e,0x0),_0x4b289f=_0x1b475d>0x2;_0x475209[_0x2ca31a(0x314)]('Remaining:\x20'+(0x2-_0x1b475d))[_0x2ca31a(0x22d)]('veapp__msg-error',_0x4b289f),_0xa0bfe3[_0x2ca31a(0x133)](_0x1f1c66=>_0x1f1c66[_0x2ca31a(0x1f1)][_0x2ca31a(0x22d)](_0x2ca31a(0x25a),_0x4b289f));};[_0x300d1a(0x25c),_0x300d1a(0x2b8),_0x300d1a(0x158),_0x300d1a(0x211),_0x300d1a(0x18d),_0x300d1a(0x398)][_0x300d1a(0x133)](_0x4690a8=>this[_0x300d1a(0x1fe)](_0x4690a8,_0x3e9316)),_0x3e9316();const _0x4bb0f4=$(_0x300d1a(0x303))[_0x300d1a(0x247)](async()=>{const _0xd40302=_0x300d1a,_0x1224be=[this[_0xd40302(0x233)]['strBonus'],this[_0xd40302(0x233)]['dexBonus'],this[_0xd40302(0x233)]['conBonus'],this[_0xd40302(0x233)][_0xd40302(0x211)],this[_0xd40302(0x233)]['wisBonus'],this[_0xd40302(0x233)][_0xd40302(0x398)]]['reduce']((_0x1e0364,_0x8b0d60)=>_0x1e0364+_0x8b0d60,0x0);if(_0x1224be!==0x2)return ui[_0xd40302(0x1fb)][_0xd40302(0x298)]('Please\x20enter\x20a\x20combination\x20of\x20ability\x20score\x20changes\x20which\x20adds\x20up\x20to\x20two!');await this['_pDoResolve'](!![]);}),_0x2fa48e=$(_0x300d1a(0x35c))[_0x300d1a(0x247)](()=>this[_0x300d1a(0x15c)](VeCt[_0x300d1a(0x1cf)]));$$(_0x48e1c7)`
		<div class="ve-flex w-100 my-1 bold">
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Current</div>
			<div class="text-center col-2 ve-muted">Mod</div>
			<div class="text-center col-2 text-center">${_0x475209}</div>
			<div class="text-center col-1"></div>
			<div class="text-center col-2">Result</div>
			<div class="text-center col-2 ve-muted">Mod</div>
		</div>
		<div class="ve-flex-col w-100 h-100">
			${_0xa0bfe3[_0x300d1a(0x1f6)](_0x31d1f0=>_0x31d1f0[_0x300d1a(0x16a)])}
		</div>
		<div class="ve-flex-v-center ve-flex-h-right w-100">${_0x4bb0f4}${_0x2fa48e}</div>
		`;}[_0xe2c180(0x2c5)](_0x10e6be){const _0x5b0e3b=_0xe2c180,_0x312ce5=$(_0x5b0e3b(0x203))['click'](async()=>{const _0x2ea3dd=_0x5b0e3b,_0x174132=await ImportListFeat[_0x2ea3dd(0x35a)][_0x2ea3dd(0x306)]({'id':_0x2ea3dd(0x341),'name':'Feats','singleName':'Feat','wizardTitleWindow':'Select\x20Source','wizardTitlePanel3':_0x2ea3dd(0x15e),'wizardTitleButtonOpenImporter':_0x2ea3dd(0x29d)},_0x2ea3dd(0x138));if(!_0x174132)return;const {page:_0x6b582c,source:_0x28caa5,hash:_0x252c73}=MiscUtil[_0x2ea3dd(0x2ad)](_0x174132,_0x2ea3dd(0x33a),SharedConsts[_0x2ea3dd(0x32d)])||{};if(!_0x6b582c||!_0x28caa5||!_0x252c73)return;this[_0x2ea3dd(0x233)]['feat']=await Renderer[_0x2ea3dd(0x2f8)][_0x2ea3dd(0x254)](_0x6b582c,_0x28caa5,_0x252c73);}),_0x6f090=$(_0x5b0e3b(0x1b4)),_0x55a9d6=()=>{const _0x342b5a=_0x5b0e3b;_0x6f090['empty']();if(!this[_0x342b5a(0x233)][_0x342b5a(0x275)])return;_0x6f090[_0x342b5a(0x131)]('<hr\x20class=\x22hr-1\x22><h3\x20class=\x22mb-2\x20mt-0\x20b-0\x22>Selected:\x20'+this[_0x342b5a(0x233)][_0x342b5a(0x275)][_0x342b5a(0x238)]+_0x342b5a(0x37d)),_0x6f090['empty'](),$$(_0x6f090)`<hr class="hr-1">
			${Vetools['withUnpatchedDiceRendering'](()=>Renderer[_0x342b5a(0x2f8)][_0x342b5a(0x1ce)](UrlUtil[_0x342b5a(0x2b7)],MiscUtil[_0x342b5a(0x149)](this[_0x342b5a(0x233)]['feat'])))}`;};_0x55a9d6(),this['_addHookBase']('feat',_0x55a9d6);const _0x384728=$(_0x5b0e3b(0x376))[_0x5b0e3b(0x247)](async()=>{const _0x459063=_0x5b0e3b;if(!this[_0x459063(0x233)][_0x459063(0x275)])return ui['notifications']['error'](_0x459063(0x190));await this['_pDoResolve'](!![]);}),_0x31332c=$('<button\x20class=\x22btn\x20btn-default\x20btn-5et\x22>Skip</button>')[_0x5b0e3b(0x247)](()=>this[_0x5b0e3b(0x15c)](VeCt['SYM_UI_SKIP']));$$(_0x10e6be)`
		<div class="ve-flex-col h-100">
			<div class="ve-flex-v-center mb-1">
				${_0x312ce5}
				<div class="ve-flex-v-center btn-group">${_0x384728}${_0x31332c}</div>
			</div>
			${_0x6f090}
		</div>
		`;}async[_0xe2c180(0x15c)](_0x36e05b){const _0x5c40a3=_0xe2c180;if(!_0x36e05b)return this[_0x5c40a3(0x243)]();if(_0x36e05b===VeCt[_0x5c40a3(0x1cf)])return this['_isDataEntered']=!![],this[_0x5c40a3(0x243)]();const _0x49b330=this['_getActorUpdate']();_0x49b330&&(this[_0x5c40a3(0x1e7)]=!![],await UtilDocuments['pUpdateDocument'](this[_0x5c40a3(0x37b)],_0x49b330)),this['getFeat']()&&(this[_0x5c40a3(0x1e7)]=!![]),this[_0x5c40a3(0x243)]();}[_0xe2c180(0x28d)](){const _0x32091f=_0xe2c180;if(this['_state'][_0x32091f(0x1cc)]!=='ability')return null;return{'system':{'abilities':{'str':{'value':this['_state'][_0x32091f(0x2c8)]+this[_0x32091f(0x233)][_0x32091f(0x25c)]},'dex':{'value':this[_0x32091f(0x233)][_0x32091f(0x36c)]+this[_0x32091f(0x233)][_0x32091f(0x2b8)]},'con':{'value':this[_0x32091f(0x233)][_0x32091f(0x181)]+this[_0x32091f(0x233)][_0x32091f(0x158)]},'int':{'value':this[_0x32091f(0x233)]['int']+this[_0x32091f(0x233)][_0x32091f(0x211)]},'wis':{'value':this[_0x32091f(0x233)]['wis']+this['_state']['wisBonus']},'cha':{'value':this['_state'][_0x32091f(0x2c3)]+this[_0x32091f(0x233)][_0x32091f(0x398)]}}}};}[_0xe2c180(0x350)](){const _0x512ffd=_0xe2c180;if(this[_0x512ffd(0x233)][_0x512ffd(0x1cc)]!==_0x512ffd(0x275))return null;return MiscUtil[_0x512ffd(0x149)](this[_0x512ffd(0x233)][_0x512ffd(0x275)]);}[_0xe2c180(0x399)](){return{'mode':'ability','str':0x0,'dex':0x0,'con':0x0,'int':0x0,'wis':0x0,'cha':0x0,'strBonus':0x0,'dexBonus':0x0,'conBonus':0x0,'intBonus':0x0,'wisBonus':0x0,'chaBonus':0x0,'feat':null};}},ImportListClass[_0xe2c180(0x20f)]=class{static[_0xe2c180(0x13e)](){Hooks['on']('renderActorSheet',(_0x3e1458,_0x16f6f9,_0x4f87bc)=>{const _0x405f61=_0x3729;this['_pHandleRenderSheet'](_0x3e1458,_0x16f6f9,_0x4f87bc)[_0x405f61(0x2af)](null);});}static async[_0xe2c180(0x365)](_0x1c2d90,_0xfc7078,_0x32c5b8){const _0x4b7a5a=_0xe2c180;if(!Config[_0x4b7a5a(0x2ad)](_0x4b7a5a(0x26d),_0x4b7a5a(0x1b8)))return;if(!_0x32c5b8['owner'])return;if(!_0x32c5b8[_0x4b7a5a(0x352)])return;const _0x218866=ImportListClass['SheetLevelUpButtonAdapter'][_0x4b7a5a(0x2bf)][_0x1c2d90['constructor'][_0x4b7a5a(0x238)]];if(!_0x218866)return;const _0x5cf034=Config[_0x4b7a5a(0x2ad)](_0x4b7a5a(0x2eb),_0x4b7a5a(0x17f));if(game[_0x4b7a5a(0x1b7)][_0x4b7a5a(0x283)]<_0x5cf034)return;const _0x35b458=_0x1c2d90[_0x4b7a5a(0x21b)][_0x4b7a5a(0x1fc)]['filter'](_0x12455d=>_0x12455d['type']===_0x4b7a5a(0x199));if(!_0x35b458[_0x4b7a5a(0x362)])return;const _0x5942e1=_0x1c2d90['actor']['items'][_0x4b7a5a(0x383)](_0x2936ce=>_0x2936ce['type']==='subclass'),_0x168ae2=Charactermancer_Class_Util[_0x4b7a5a(0x349)]({'classItems':_0x35b458,'subclassItems':_0x5942e1}),_0x215363=await _0x168ae2[_0x4b7a5a(0x323)](_0x2d5234=>this[_0x4b7a5a(0x29b)](_0x2d5234)),_0x457509=!_0x215363[_0x4b7a5a(0x2c1)](_0x24a898=>!_0x24a898[_0x4b7a5a(0x237)])?this[_0x4b7a5a(0x270)]({'availableClassesMetas':_0x215363}):this['_$getBtnLevelUp']({'app':_0x1c2d90,'availableClassesMetas':_0x215363});_0x218866[_0x4b7a5a(0x1d9)](_0x1c2d90[_0x4b7a5a(0x2d3)],_0x457509);}static[_0xe2c180(0x1b5)](){const _0x160289=_0xe2c180;return $(_0x160289(0x19d));}static['_$getBtnLevelUp_errors']({availableClassesMetas:_0x5d2203}){const _0x17c2ae=_0xe2c180,_0x19dc30=_0x5d2203[_0x17c2ae(0x1f6)](_0xe11d74=>_0xe11d74[_0x17c2ae(0x237)])[_0x17c2ae(0x383)](Boolean)[_0x17c2ae(0x38f)]()['join'](';\x20');return this[_0x17c2ae(0x1b5)]()[_0x17c2ae(0x2ef)](_0x17c2ae(0x1f7),!![])['title'](_0x17c2ae(0x259)+(_0x5d2203[_0x17c2ae(0x362)]?_0x17c2ae(0x14b)+_0x19dc30+'.':''));}static['_$getBtnLevelUp']({app:_0x10aaac,availableClassesMetas:_0x1c7c0a}){const _0x43e918=_0xe2c180,_0x19f659=!UtilGameSettings[_0x43e918(0x1e4)](game[_0x43e918(0x128)]['id'],'disableExperienceTracking')&&UtilActors[_0x43e918(0x198)](_0x10aaac[_0x43e918(0x21b)]);return this[_0x43e918(0x1b5)]()[_0x43e918(0x22d)](_0x43e918(0x12c),!!_0x19f659)[_0x43e918(0x24a)](_0x43e918(0x242))[_0x43e918(0x247)](async _0x1b012a=>{const _0x5d66eb=_0x43e918;if(Config[_0x5d66eb(0x2ad)](_0x5d66eb(0x26d),'isLegacyLevelUpButton'))return this[_0x5d66eb(0x2b5)]({'app':_0x10aaac,'availableClassesMetas':_0x1c7c0a});const {ActorCharactermancerSourceSelector:_0x507010}=await import(_0x5d66eb(0x2ac));return _0x507010[_0x5d66eb(0x1a9)](_0x1b012a,_0x10aaac);});}static async[_0xe2c180(0x2b5)]({app:_0x49c168,availableClassesMetas:_0x54b592}){const _0x41a72f=_0xe2c180,{$modalInner:_0x50c0a6,doClose:_0x538299,doAutoResize:_0x47be16}=await UtilApplications[_0x41a72f(0x287)]({'title':_0x41a72f(0x242),'isMaxWidth640p':!![],'isMinHeight0':!![]}),_0x4459f0=_0x54b592[_0x41a72f(0x1f6)](({errors:_0x25e01e,existingClassItem:_0x55285c,existingSubclassItem:_0x295506,cls:_0x3551b2,sc:_0x4bbfc8,filterValues:_0x12e8bf})=>{const _0x42668c=_0x41a72f;if(_0x25e01e)return $$`<div class="ve-flex-col stripe-even py-1 ve-muted">
					<p>${(_0x55285c[_0x42668c(0x238)]||'')['qq']()}${_0x295506?.[_0x42668c(0x238)]?'\x20('+_0x295506[_0x42668c(0x238)]['qq']()+')':''} was not available for level up:</p>${_0x25e01e[_0x42668c(0x1f6)](_0x274f1c=>_0x42668c(0x35f)+_0x274f1c['qq']()+'</i></p>')[_0x42668c(0x208)]('')}
				</div>`;const _0x44f670=$(_0x42668c(0x328)+_0x55285c[_0x42668c(0x128)][_0x42668c(0x137)]+_0x42668c(0x2dd)+(_0x55285c[_0x42668c(0x128)]['levels']+0x1)+_0x42668c(0x1de))[_0x42668c(0x247)](async()=>{const _0x4517fc=_0x42668c;_0x538299();const _0x593fb3=Number(_0x55285c[_0x4517fc(0x128)]['levels'])+0x1;if(!_0x4bbfc8){const _0x15f6b9=Math['min'](..._0x3551b2['classFeatures']['filter'](_0x3326c6=>_0x3326c6[_0x4517fc(0x290)]&&_0x3326c6['classFeature'])[_0x4517fc(0x1f6)](_0x2de59c=>DataUtil[_0x4517fc(0x199)][_0x4517fc(0x313)](_0x2de59c[_0x4517fc(0x1e6)])['level']));if(_0x593fb3>=_0x15f6b9){const _0x3af235=await InputUiUtil[_0x4517fc(0x2d1)]({'title':_0x4517fc(0x15f),'htmlDescription':_0x4517fc(0x27c),'textYes':_0x4517fc(0x321),'textNo':'No'});if(_0x3af235){const _0x5e8e03=new ModalFilterClasses({'namespace':ModalFilterClasses[_0x4517fc(0x238)]+'.selectSubclass'}),_0x5d00b7=await _0x5e8e03['pGetUserSelection']({'selectedClass':_0x3551b2,'isClassDisabled':!![]});if(_0x5d00b7)_0x4bbfc8=_0x5d00b7['subclass'];}}}const _0xb4383=new ImportListClass({'actor':_0x49c168[_0x4517fc(0x21b)]});await _0xb4383[_0x4517fc(0x319)](),_0x3551b2=MiscUtil[_0x4517fc(0x149)](_0x3551b2),delete _0x3551b2['subclasses'];const _0x4153b7=await ImportListClass[_0x4517fc(0x179)]({'class':[_0x3551b2],'subclass':[_0x4bbfc8][_0x4517fc(0x383)](Boolean)},{'actor':_0x49c168[_0x4517fc(0x21b)]});await _0xb4383[_0x4517fc(0x2a5)](_0x4153b7[_0x4517fc(0x199)][0x0],{'levels':[_0x593fb3],'filterValues':_0x12e8bf}),ui[_0x4517fc(0x1fb)][_0x4517fc(0x217)]('Level\x20up\x20complete!');});return $$`<div class="ve-flex-v-center stripe-even py-1">
				<div class="w-100 mr-2">${_0x55285c[_0x42668c(0x238)]}${_0x4bbfc8&&_0x295506?'\x20('+_0x295506[_0x42668c(0x238)]+')':''}</div>
				<div>${_0x44f670}</div>
			</div>`;}),_0x479687=$(_0x41a72f(0x135))[_0x41a72f(0x247)](async()=>{const _0x4939b1=_0x41a72f;_0x538299();const _0x556c7e=await new ImportListClass()[_0x4939b1(0x338)](),_0x55ec6a=new AppSourceSelectorMulti({'title':'Select\x20Class\x20Sources','filterNamespace':_0x4939b1(0x1c7),'savedSelectionKey':_0x4939b1(0x346),'sourcesToDisplay':_0x556c7e,'fnGetDedupedData':ImportListClass[_0x4939b1(0x245)][_0x4939b1(0x305)][_0x4939b1(0x1bf)](ImportListClass[_0x4939b1(0x245)]),'fnGetBlocklistFilteredData':ImportListClass['Utils'][_0x4939b1(0x35e)][_0x4939b1(0x1bf)](ImportListClass[_0x4939b1(0x245)])}),_0x1cf3d3=await _0x55ec6a[_0x4939b1(0x2f7)]();if(_0x1cf3d3==null)return;const _0x32baa1=new ModalFilterClassesFvtt({'namespace':ModalFilterClasses['name']+_0x4939b1(0x2f4),'allData':_0x1cf3d3['class']}),_0x4e1e57=await _0x32baa1[_0x4939b1(0x159)]({});if(!_0x4e1e57?.[_0x4939b1(0x199)])return;const _0x5480c1=new ImportListClass({'actor':_0x49c168[_0x4939b1(0x21b)]});await _0x5480c1[_0x4939b1(0x319)]();const _0x4e5508=await Renderer[_0x4939b1(0x2f8)]['pCacheAndGet'](_0x4939b1(0x36e),_0x4e1e57[_0x4939b1(0x199)]['source'],UrlUtil[_0x4939b1(0x397)][UrlUtil[_0x4939b1(0x129)]]({'name':_0x4e1e57[_0x4939b1(0x199)][_0x4939b1(0x238)],'source':_0x4e1e57[_0x4939b1(0x199)][_0x4939b1(0x1d3)]}),{'isCopy':!![]}),_0x4dd3ac=_0x4e1e57['subclass']?await Renderer[_0x4939b1(0x2f8)][_0x4939b1(0x254)](_0x4939b1(0x151),_0x4e1e57['subclass'][_0x4939b1(0x1d3)],UrlUtil[_0x4939b1(0x397)][_0x4939b1(0x32b)]({'name':_0x4e1e57[_0x4939b1(0x32b)]['name'],'shortName':_0x4e1e57[_0x4939b1(0x32b)][_0x4939b1(0x2a6)],'source':_0x4e1e57[_0x4939b1(0x32b)]['source'],'className':_0x4e1e57['subclass'][_0x4939b1(0x262)],'classSource':_0x4e1e57['subclass'][_0x4939b1(0x339)]}),{'isCopy':!![]}):null;delete _0x4e5508[_0x4939b1(0x185)];const _0x55ff4b=await ImportListClass[_0x4939b1(0x179)]({'class':[_0x4e5508],'subclass':[_0x4dd3ac][_0x4939b1(0x383)](Boolean)},{'actor':_0x49c168['actor']}),_0x552817=_0x55ff4b[_0x4939b1(0x199)][0x0];_0x552817['_foundryStartingProficiencyMode']=Charactermancer_Class_ProficiencyImportModeSelect[_0x4939b1(0x150)],await _0x5480c1['pImportClass'](_0x55ff4b[_0x4939b1(0x199)][0x0],{'levels':[0x1],'filterValues':await ImportListClass[_0x4939b1(0x335)]()}),ui[_0x4939b1(0x1fb)][_0x4939b1(0x217)](_0x4939b1(0x1d7));});$$`<div class="ve-flex-col h-100 w-100 mt-2">
			<div class="mb-1">Your current classes are listed below.</div>
			<div class="mb-1">If you level a class which does not have a subclass, and is eligible for one, you will be prompted to choose a subclass.</div>
			<div>${Renderer['get']()['render']('Alternatively,\x20you\x20may\x20gain\x20a\x20level\x20in\x20a\x20new\x20class,\x20if\x20your\x20DM\x20allows\x20{@variantrule\x20multiclassing|phb}.')}</div>
			<hr class="hr-2">
			<div class="w-100">
				${_0x4459f0}
			</div>
			<hr class="hr-1 hr--dotted">
			<div class="mt-1 mb-2 ve-flex-h-right">${_0x479687}</div>
		</div>`[_0x41a72f(0x182)](_0x50c0a6),_0x47be16();}static async[_0xe2c180(0x127)](){const _0x516a26=_0xe2c180;ImportListClass[_0x516a26(0x20f)]['_P_LOADING_CLASS_DATA']=ImportListClass[_0x516a26(0x20f)][_0x516a26(0x1af)]||((async()=>{const _0x13def6=_0x516a26;ImportListClass['SheetLevelUpButtonAdapter'][_0x13def6(0x25e)]=await DataUtil[_0x13def6(0x199)]['loadRawJSON']();})()),await ImportListClass[_0x516a26(0x20f)][_0x516a26(0x1af)];}static async[_0xe2c180(0x29b)](_0x2903b7){const _0x33d049=_0xe2c180,{classItem:_0x55f96b,subclassItem:_0x2d83c1}=_0x2903b7,_0x109cb1=Number(_0x55f96b[_0x33d049(0x128)][_0x33d049(0x137)]);if(isNaN(_0x109cb1))return{'existingClassItem':_0x55f96b,'existingSubclassItem':_0x2d83c1,'errors':[_0x33d049(0x1ec)+_0x55f96b[_0x33d049(0x238)]+_0x33d049(0x189)+_0x55f96b['id']+_0x33d049(0x2cb)]};const _0x2022d4=_0x55f96b?.['flags']?.[SharedConsts[_0x33d049(0x32d)]],_0x1da061=await this[_0x33d049(0x19e)](_0x2022d4),_0x3d99d3=_0x2022d4&&_0x2022d4[_0x33d049(0x264)]&&_0x2022d4[_0x33d049(0x1d3)]&&_0x2022d4[_0x33d049(0x297)];if(!_0x3d99d3)return this[_0x33d049(0x1bd)](_0x2903b7,_0x1da061);const _0x5e5ff8=await Renderer['hover']['pCacheAndGet'](_0x33d049(0x36e),_0x2022d4['source'],_0x2022d4[_0x33d049(0x297)],{'isCopy':!![]}),_0x414022=_0x2022d4['sourceSubclass']&&_0x2022d4[_0x33d049(0x1f9)]?await Renderer[_0x33d049(0x2f8)][_0x33d049(0x254)](_0x33d049(0x151),_0x2022d4['sourceSubclass'],_0x2022d4[_0x33d049(0x1f9)],{'isCopy':!![]}):null;if(_0x2022d4[_0x33d049(0x16e)]&&_0x2022d4[_0x33d049(0x1f9)]&&!_0x414022)return{'existingClassItem':_0x55f96b,'existingSubclassItem':_0x2d83c1,'errors':[_0x33d049(0x28b)+_0x2022d4[_0x33d049(0x1f9)]+'\x22\x20('+_0x2022d4[_0x33d049(0x16e)]+_0x33d049(0x26f)]};if(_0x5e5ff8)return{'existingClassItem':_0x55f96b,'existingSubclassItem':_0x2d83c1,'cls':_0x5e5ff8,'sc':_0x414022,'filterValues':_0x1da061};if(_0x3d99d3)return{'existingClassItem':_0x55f96b,'existingSubclassItem':_0x2d83c1,'errors':[_0x33d049(0x221)+_0x2022d4[_0x33d049(0x297)]+_0x33d049(0x189)+_0x2022d4['source']+_0x33d049(0x26f)]};return this[_0x33d049(0x1bd)](_0x55f96b,_0x1da061);}static async[_0xe2c180(0x1bd)](_0x2f3b94,_0x2e97e0){const _0x4ecfbe=_0xe2c180,{classItem:_0x370921,subclassItem:_0x1302e4}=_0x2f3b94;await this[_0x4ecfbe(0x127)]();const _0x232eee=Charactermancer_Class_Util[_0x4ecfbe(0x19f)](_0x370921,ImportListClass[_0x4ecfbe(0x20f)][_0x4ecfbe(0x25e)][_0x4ecfbe(0x199)]);if(!_0x232eee)return{'existingClassItem':_0x370921,'errors':['Failed\x20to\x20find\x20and/or\x20load\x20class\x20\x22'+_0x370921[_0x4ecfbe(0x238)]+_0x4ecfbe(0x189)+UtilDataConverter['getItemSource'](_0x370921)[_0x4ecfbe(0x1d3)]+')\x20by\x20name']};const _0x129e8d=_0x1302e4?Charactermancer_Class_Util[_0x4ecfbe(0x309)](_0x1302e4,_0x232eee,ImportListClass['SheetLevelUpButtonAdapter'][_0x4ecfbe(0x25e)][_0x4ecfbe(0x32b)]):null;if(_0x1302e4&&_0x129e8d==null)return{'existingClassItem':_0x370921,'errors':[_0x4ecfbe(0x28b)+_0x1302e4[_0x4ecfbe(0x238)]+_0x4ecfbe(0x15a)]};return{'existingClassItem':_0x370921,'existingSubclassItem':_0x1302e4,'cls':_0x232eee,'sc':_0x129e8d,'filterValues':_0x2e97e0};}static async[_0xe2c180(0x19e)](_0x4fc4b1){const _0x42c705=_0xe2c180;if(_0x4fc4b1?.[_0x42c705(0x33e)])return _0x4fc4b1[_0x42c705(0x33e)];return ImportListClass[_0x42c705(0x335)]();}static[_0xe2c180(0x394)](_0x5e0119,_0x510b1d){const _0x5a74ea=_0xe2c180;ImportListClass[_0x5a74ea(0x20f)][_0x5a74ea(0x2bf)][_0x5e0119]=_0x510b1d;}},ImportListClass[_0xe2c180(0x20f)][_0xe2c180(0x1af)]=null,ImportListClass[_0xe2c180(0x20f)][_0xe2c180(0x25e)]=null,ImportListClass[_0xe2c180(0x20f)]['_SUPPORTED_SHEETS']={},ImportListClass[_0xe2c180(0x20f)][_0xe2c180(0x34c)]=class{static[_0xe2c180(0x1d9)](_0x1e54bf,_0xf9695a){const _0x4827c6=_0xe2c180;throw new Error(_0x4827c6(0x202));}static[_0xe2c180(0x163)](_0x2427dd){const _0x4e26b3=_0xe2c180;$(_0x2427dd)['find'](_0x4e26b3(0x38d))[_0x4e26b3(0x1ad)]();}},ImportListClass['SheetLevelUpButtonAdapter'][_0xe2c180(0x330)]=class extends ImportListClass[_0xe2c180(0x20f)][_0xe2c180(0x34c)]{static[_0xe2c180(0x1d9)](_0x53a728,_0xdb62ea){const _0x57b0fe=_0xe2c180;if(!this['_INDEX_PATH']){const _0x258734=$(_0x53a728)['find'](_0x57b0fe(0x2bb));this[_0x57b0fe(0x357)]=ElementUtil[_0x57b0fe(0x327)](_0x53a728,_0x258734[0x0]);}const _0x535736=ElementUtil[_0x57b0fe(0x23f)](_0x53a728,this[_0x57b0fe(0x357)]);_0xdb62ea[_0x57b0fe(0x18c)]({'fontSize':10.5}),this[_0x57b0fe(0x163)](_0x535736),$(_0x535736)['append'](_0xdb62ea);}},ImportListClass['SheetLevelUpButtonAdapter']['SheetAdapterActorSheet5eCharacter'][_0xe2c180(0x357)]=null,ImportListClass[_0xe2c180(0x20f)]['registerSupportedSheet'](_0xe2c180(0x25d),ImportListClass[_0xe2c180(0x20f)][_0xe2c180(0x330)]),ImportListClass[_0xe2c180(0x20f)]['Tidy5eSheet']=class extends ImportListClass[_0xe2c180(0x20f)]['SheetAdapter']{static[_0xe2c180(0x1d9)](_0x4c5f5c,_0x38a0c1){const _0x5dd646=_0xe2c180;if(!this['_INDEX_PATH']){const _0x506810=$(_0x4c5f5c)[_0x5dd646(0x39b)](_0x5dd646(0x14c));this[_0x5dd646(0x357)]=ElementUtil['getIndexPathToParent'](_0x4c5f5c,_0x506810[0x0]);}const _0x224646=ElementUtil['getChildByIndexPath'](_0x4c5f5c,this[_0x5dd646(0x357)]);_0x38a0c1[_0x5dd646(0x2cf)](_0x5dd646(0x144)),this[_0x5dd646(0x163)](_0x224646),$(_0x224646)[_0x5dd646(0x147)](_0x38a0c1);}},ImportListClass[_0xe2c180(0x20f)][_0xe2c180(0x316)][_0xe2c180(0x357)]=null,ImportListClass['SheetLevelUpButtonAdapter']['registerSupportedSheet']('Tidy5eSheet',ImportListClass[_0xe2c180(0x20f)][_0xe2c180(0x316)]);export{ImportListClass};